var Xs=Object.defineProperty;var Js=(e,t,n)=>t in e?Xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ht=(e,t,n)=>Js(e,typeof t!="symbol"?t+"":t,n);import{r as l,A as Qs,D as Zs,m as Yt,H as er,c as Q,j as o,n as Ne,g as je,a as we,u as Oe,s as A,y as L,b as ye,z as ue,J as Ft,i as It,x as Bt,K as so,L as To,N as Tt,O as tr,Q as Ke,U as ns,V as Uo,W as ss,X as or,w as Ko,Y as nr,Z as sr,_ as rr,$ as ir,a0 as no,a1 as ar,P as Vo,a2 as rs,I as qe,a3 as lr,a4 as is,a5 as as,a6 as Ho,d as ls,h as zt,a7 as _o,a8 as cr,R as un,a9 as dr,aa as jn,ab as ur,t as mt,ac as At,G as Re,q as Do,ad as No,ae as fo,af as go,ag as Mt,l as cs,ah as pr,ai as br}from"./Tooltip-CHkWPQyT.js";import{i as Zo,a as fr,b as sn,F as ds,u as Rt,f as io,c as Et,I as us,d as ps,r as bs,e as fs,g as gs,h as hs,j as en,k as ms,P as wn,L as Pn,l as ko,m as Co,n as Oo}from"./Input-CyGuovd8.js";import{M as gr,C as hr,s as mr,A as xr,I as vr,e as Ao,a as Gt,c as yr,T as Sr,w as xs,b as vs,d as kr,f as Cr,g as In,h as jr,i as wr,L as Mo,D as pn,j as Pr,k as Ir,S as Fr,l as tn}from"./TableContainer-CRv4wqnM.js";import{s as Tr}from"./index-BNzDLOmD.js";import{B as rn,u as Rr,a as Eo}from"./index-BSUPl2ka.js";import{i as ys}from"./index-DGAt_zbA.js";import{L as $r}from"./LogoIcon-B8iZypNR.js";import{L as ho,T as Ro,a as ro}from"./TutorialBubble-5H5VcrSJ.js";const Lr=e=>{const t=l.useRef({});return l.useEffect(()=>{t.current=e}),t.current};class Nr{async fetch(t,n){return await(await fetch(t,{method:"POST",body:JSON.stringify(n)})).json()}}const Ss={id:"/KeyBind",type:"object",properties:{keys:{type:"string"}},required:["keys"]},ks={id:"/AnkiField",type:"object",properties:{order:{type:"number"},display:{type:"boolean"}},required:["order","display"]},Cs={id:"/TextSubtitleSettings",type:"object",properties:{subtitleColor:{type:"string"},subtitleSize:{type:"number"},subtitleThickness:{type:"number"},subtitleOutlineThickness:{type:"number"},subtitleShadowColor:{type:"string"},subtitleBackgroundOpacity:{type:"number"},subtitleBackgroundColor:{type:"string"},subtitleFontFamily:{type:"string"},subtitleCustomStyles:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}},subtitleBlur:{type:"boolean"}},required:["subtitleColor","subtitleSize","subtitleThickness","subtitleOutlineThickness","subtitleShadowColor","subtitleBackgroundOpacity","subtitleBackgroundColor","subtitleFontFamily","subtitleCustomStyles","subtitleBlur"]},js={id:"/Settings",type:"object",properties:{ankiConnectUrl:{type:"string"},deck:{type:"string"},noteType:{type:"string"},sentenceField:{type:"string"},definitionField:{type:"string"},audioField:{type:"string"},imageField:{type:"string"},wordField:{type:"string"},sourceField:{type:"string"},urlField:{type:"string"},track1Field:{type:"string"},track2Field:{type:"string"},track3Field:{type:"string"},ankiFieldSettings:{type:"object",properties:{sentence:{$ref:"/AnkiField"},definition:{$ref:"/AnkiField"},audio:{$ref:"/AnkiField"},image:{$ref:"/AnkiField"},word:{$ref:"/AnkiField"},source:{$ref:"/AnkiField"},url:{$ref:"/AnkiField"},track1:{$ref:"/AnkiField"},track2:{$ref:"/AnkiField"},track3:{$ref:"/AnkiField"}}},customAnkiFieldSettings:{type:"object",additionalProperties:{type:"/AnkiField"}},subtitleSize:{type:"number"},subtitleColor:{type:"string"},subtitleThickness:{type:"number"},subtitleOutlineThickness:{type:"number"},subtitleShadowThickness:{type:"number"},subtitleShadowColor:{type:"string"},subtitleOutlineColor:{type:"string"},subtitleBackgroundColor:{type:"string"},subtitleBackgroundOpacity:{type:"number"},subtitleFontFamily:{type:"string"},subtitleBlur:{type:"boolean"},subtitlePreview:{type:"string"},subtitlePositionOffset:{type:"number"},topSubtitlePositionOffset:{type:"number"},subtitleAlignment:{type:"string"},subtitleTracksV2:{type:"array",items:{$ref:"/TextSubtitleSettings"}},audioPaddingStart:{type:"number"},audioPaddingEnd:{type:"number"},maxImageWidth:{type:"number"},maxImageHeight:{type:"number"},surroundingSubtitlesCountRadius:{type:"number"},surroundingSubtitlesTimeRadius:{type:"number"},autoPausePreference:{type:"number"},subtitleHtml:{type:"number"},speedChangeStep:{type:"number"},fastForwardModePlaybackRate:{type:"number"},keyBindSet:{type:"object",properties:{togglePlay:{$ref:"/KeyBind"},toggleAutoPause:{$ref:"/KeyBind"},toggleCondensedPlayback:{$ref:"/KeyBind"},toggleFastForwardPlayback:{$ref:"/KeyBind"},toggleSubtitles:{$ref:"/KeyBind"},toggleVideoSubtitleTrack1:{$ref:"/KeyBind"},toggleVideoSubtitleTrack2:{$ref:"/KeyBind"},toggleVideoSubtitleTrack3:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack1:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack2:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack3:{$ref:"/KeyBind"},unblurAsbplayerTrack1:{$ref:"/KeyBind"},unblurAsbplayerTrack2:{$ref:"/KeyBind"},unblurAsbplayerTrack3:{$ref:"/KeyBind"},seekBackward:{$ref:"/KeyBind"},seekForward:{$ref:"/KeyBind"},seekToPreviousSubtitle:{$ref:"/KeyBind"},seekToNextSubtitle:{$ref:"/KeyBind"},seekToBeginningOfCurrentSubtitle:{$ref:"/KeyBind"},adjustOffsetToPreviousSubtitle:{$ref:"/KeyBind"},adjustOffsetToNextSubtitle:{$ref:"/KeyBind"},decreaseOffset:{$ref:"/KeyBind"},increaseOffset:{$ref:"/KeyBind"},resetOffset:{$ref:"/KeyBind"},copySubtitle:{$ref:"/KeyBind"},ankiExport:{$ref:"/KeyBind"},updateLastCard:{$ref:"/KeyBind"},exportCard:{$ref:"/KeyBind"},takeScreenshot:{$ref:"/KeyBind"},toggleRecording:{$ref:"/KeyBind"},decreasePlaybackRate:{$ref:"/KeyBind"},increasePlaybackRate:{$ref:"/KeyBind"},toggleSidePanel:{$ref:"/KeyBind"},toggleRepeat:{$ref:"/KeyBind"}}},recordWithAudioPlayback:{type:"boolean"},preferMp3:{type:"boolean"},tabName:{type:"string"},miningHistoryStorageLimit:{type:"number"},preCacheSubtitleDom:{type:"boolean"},clickToMineDefaultAction:{type:"number"},postMiningPlaybackState:{type:"number"},themeType:{type:"string"},copyToClipboardOnMine:{type:"boolean"},rememberSubtitleOffset:{type:"boolean"},lastSubtitleOffset:{type:"number"},autoCopyCurrentSubtitle:{type:"boolean"},alwaysPlayOnSubtitleRepeat:{type:"boolean"},subtitleRegexFilter:{type:"string"},subtitleRegexFilterTextReplacement:{type:"string"},language:{type:"string"},customAnkiFields:{type:"object",additionalProperties:{type:"string"}},tags:{type:"array",items:{type:"string"}},imageBasedSubtitleScaleFactor:{type:"number"},subtitleCustomStyles:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}},subtitlesWidth:{type:"number"},streamingAppUrl:{type:"string"},streamingDisplaySubtitles:{type:"boolean"},streamingRecordMedia:{type:"boolean"},streamingTakeScreenshot:{type:"boolean"},streamingCleanScreenshot:{type:"boolean"},streamingCropScreenshot:{type:"boolean"},streamingSubsDragAndDrop:{type:"boolean"},streamingAutoSync:{type:"boolean"},streamingAutoSyncPromptOnFailure:{type:"boolean"},streamingLastLanguagesSynced:{type:"object",additionalProperties:{type:"array",items:{type:"string"}}},streamingCondensedPlaybackMinimumSkipIntervalMs:{type:"number"},streamingScreenshotDelay:{type:"number"},streamingSubtitleListPreference:{type:"string"},streamingEnableOverlay:{type:"boolean"},webSocketClientEnabled:{type:"boolean"},webSocketServerUrl:{type:"string"},pauseOnHoverMode:{type:"number"},lastSelectedAnkiExportMode:{type:"string"},_schema:{type:"number"}}},Or=e=>{const t=new Qs.Validator;t.addSchema(Ss),t.addSchema(ks),t.addSchema(Cs);const n=t.validate(e,js);if(ws(e,[]),!n.valid)throw new Error("Settings validation failed: "+JSON.stringify(n.errors));return Zs(e)},ws=(e,t)=>{for(const n of Object.keys(e)){const s=Ar(js,t);if(s===void 0||s!==""&&!(n in s))throw new Error(`Unknown key '${[...t,n].join(".")}'`);const i=e[n];typeof i=="object"&&!Array.isArray(i)&&ws(i,[...t,n])}},Ar=(e,t)=>{var s,i,a;let n=e.properties;for(const d of t){if(typeof n[d]=="object"&&"additionalProperties"in n[d])return"";if(n=((s=n[d])==null?void 0:s.properties)??((a=Mr((i=n[d])==null?void 0:i.$ref))==null?void 0:a.properties),n===void 0)return}return n},Mr=e=>{if(e==="/KeyBind")return Ss;if(e==="/AnkiField")return ks;if(e==="/TextSubtitleSettings")return Cs};function Er(e,t){const n={};return Object.keys(e).forEach(s=>{t.includes(s)||(n[s]=e[s])}),n}function Br(e){return(n,s={})=>{const{name:i,...a}=s;let d=i;const p=Yt(typeof n=="function"?y=>({root:S=>n({theme:y,...S})}):{root:n},{Component:e,name:i||e.displayName,classNamePrefix:d,...a});let v;n.filterProps&&(v=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);const f=l.forwardRef(function(S,P){const{children:k,className:j,clone:C,component:I,...F}=S,R=p(S),T=Q(R.root,j);let E=F;if(v&&(E=Er(E,v)),C)return l.cloneElement(k,{className:Q(k.props.className,T),...E});if(typeof k=="function")return k({className:T,...E});const N=I||e;return o.jsx(N,{ref:P,className:T,...E,children:k})});return er(f,e),f}}const lc=({settingsProvider:e,onProfileChanged:t})=>{const[n,s]=l.useState([]),[i,a]=l.useState(),d=l.useCallback(()=>{e.profiles().then(s),e.activeProfile().then(f=>a(f==null?void 0:f.name))},[e]);l.useEffect(()=>{d()},[d]);const u=l.useCallback(f=>e.addProfile(f).then(()=>e.profiles().then(s)).then(()=>e.setActiveProfile(f)).then(()=>a(f)).then(()=>t()),[e,t]),p=l.useCallback(async f=>{f===i&&(await e.setActiveProfile(void 0),a(void 0),t()),e.removeProfile(f).then(()=>e.profiles().then(s))},[e,i,t]),v=l.useCallback(f=>e.setActiveProfile(f).then(()=>a(f)).then(()=>t()),[e,t]);return{profiles:n,activeProfile:i,onNewProfile:u,onRemoveProfile:p,onSetActiveProfile:v,refreshProfileContext:d}},Ps=Ne(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),zr=Ne(o.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),Is=Ne(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),an=Ne(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Dr=Ne(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Wr=Ne(o.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo");function Vr(e){return je("MuiFormControl",e)}we("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Hr=e=>{const{classes:t,margin:n,fullWidth:s}=e,i={root:["root",n!=="none"&&`margin${L(n)}`,s&&"fullWidth"]};return ye(i,Vr,t)},_r=A("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${L(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ln=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiFormControl"}),{children:i,className:a,color:d="primary",component:u="div",disabled:p=!1,error:v=!1,focused:f,fullWidth:y=!1,hiddenLabel:S=!1,margin:P="none",required:k=!1,size:j="medium",variant:C="outlined",...I}=s,F={...s,color:d,component:u,disabled:p,error:v,fullWidth:y,hiddenLabel:S,margin:P,required:k,size:j,variant:C},R=Hr(F),[T,E]=l.useState(()=>{let U=!1;return i&&l.Children.forEach(i,V=>{if(!Zo(V,["Input","Select"]))return;const ne=Zo(V,["Select"])?V.props.input:V;ne&&fr(ne.props)&&(U=!0)}),U}),[N,z]=l.useState(()=>{let U=!1;return i&&l.Children.forEach(i,V=>{Zo(V,["Input","Select"])&&(sn(V.props,!0)||sn(V.props.inputProps,!0))&&(U=!0)}),U}),[pe,Y]=l.useState(!1);p&&pe&&Y(!1);const Z=f!==void 0&&!p?f:pe;let H;l.useRef(!1);const h=l.useCallback(()=>{z(!0)},[]),b=l.useCallback(()=>{z(!1)},[]),c=l.useMemo(()=>({adornedStart:T,setAdornedStart:E,color:d,disabled:p,error:v,filled:N,focused:Z,fullWidth:y,hiddenLabel:S,size:j,onBlur:()=>{Y(!1)},onFocus:()=>{Y(!0)},onEmpty:b,onFilled:h,registerEffect:H,required:k,variant:C}),[T,d,p,v,N,Z,y,S,H,b,h,k,j,C]);return o.jsx(ds.Provider,{value:c,children:o.jsx(_r,{as:u,ownerState:F,className:Q(R.root,a),ref:n,...I,children:i})})});function Ur(e){return je("MuiFormGroup",e)}we("MuiFormGroup",["root","row","error"]);const Kr=e=>{const{classes:t,row:n,error:s}=e;return ye({root:["root",n&&"row",s&&"error"]},Ur,t)},qr=A("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Ct=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiFormGroup"}),{className:i,row:a=!1,...d}=s,u=Rt(),p=io({props:s,muiFormControl:u,states:["error"]}),v={...s,row:a,error:p.error},f=Kr(v);return o.jsx(qr,{className:Q(f.root,i),ownerState:v,ref:n,...d})});function Gr(e){return je("MuiFormLabel",e)}const Fo=we("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Yr=e=>{const{classes:t,color:n,focused:s,disabled:i,error:a,filled:d,required:u}=e,p={root:["root",`color${L(n)}`,i&&"disabled",a&&"error",d&&"filled",s&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]};return ye(p,Gr,t)},Xr=A("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(ue(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Ft()).map(([t])=>({props:{color:t},style:{[`&.${Fo.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Fo.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Fo.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),Jr=A("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(ue(({theme:e})=>({[`&.${Fo.error}`]:{color:(e.vars||e).palette.error.main}}))),qt=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiFormLabel"}),{children:i,className:a,color:d,component:u="label",disabled:p,error:v,filled:f,focused:y,required:S,...P}=s,k=Rt(),j=io({props:s,muiFormControl:k,states:["color","required","focused","disabled","error","filled"]}),C={...s,color:j.color||"primary",component:u,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required},I=Yr(C);return o.jsxs(Xr,{as:u,ownerState:C,className:Q(I.root,a),ref:n,...P,children:[i,j.required&&o.jsxs(Jr,{ownerState:C,"aria-hidden":!0,className:I.asterisk,children:[" ","*"]})]})});function Qr(e){return je("MuiInputAdornment",e)}const Fn=we("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Tn;const Zr=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${L(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},ei=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:s,position:i,size:a,variant:d}=e,u={root:["root",n&&"disablePointerEvents",i&&`position${L(i)}`,d,s&&"hiddenLabel",a&&`size${L(a)}`]};return ye(u,Qr,t)},ti=A("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Zr})(ue(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Fn.positionStart}&:not(.${Fn.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Ze=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiInputAdornment"}),{children:i,className:a,component:d="div",disablePointerEvents:u=!1,disableTypography:p=!1,position:v,variant:f,...y}=s,S=Rt()||{};let P=f;f&&S.variant,S&&!P&&(P=S.variant);const k={...s,hiddenLabel:S.hiddenLabel,size:S.size,disablePointerEvents:u,position:v,variant:P},j=ei(k);return o.jsx(ds.Provider,{value:null,children:o.jsx(ti,{as:d,ownerState:k,className:Q(j.root,a),ref:n,...y,children:typeof i=="string"&&!p?o.jsx(It,{color:"textSecondary",children:i}):o.jsxs(l.Fragment,{children:[v==="start"?Tn||(Tn=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})}),oi=Ne(o.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),ni=Ne(o.jsx("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");function si(e){return je("MuiFormControlLabel",e)}const Po=we("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ri=e=>{const{classes:t,disabled:n,labelPlacement:s,error:i,required:a}=e,d={root:["root",n&&"disabled",`labelPlacement${L(s)}`,i&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return ye(d,si,t)},ii=A("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Po.label}`]:t.label},t.root,t[`labelPlacement${L(n.labelPlacement)}`]]}})(ue(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Po.disabled}`]:{cursor:"default"},[`& .${Po.label}`]:{[`&.${Po.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),ai=A("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(ue(({theme:e})=>({[`&.${Po.error}`]:{color:(e.vars||e).palette.error.main}}))),li=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiFormControlLabel"}),{checked:i,className:a,componentsProps:d={},control:u,disabled:p,disableTypography:v,inputRef:f,label:y,labelPlacement:S="end",name:P,onChange:k,required:j,slots:C={},slotProps:I={},value:F,...R}=s,T=Rt(),E=p??u.props.disabled??(T==null?void 0:T.disabled),N=j??u.props.required,z={disabled:E,required:N};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof u.props[U]>"u"&&typeof s[U]<"u"&&(z[U]=s[U])});const pe=io({props:s,muiFormControl:T,states:["error"]}),Y={...s,disabled:E,labelPlacement:S,required:N,error:pe.error},Z=ri(Y),H={slots:C,slotProps:{...d,...I}},[h,b]=Bt("typography",{elementType:It,externalForwardedProps:H,ownerState:Y});let c=y;return c!=null&&c.type!==It&&!v&&(c=o.jsx(h,{component:"span",...b,className:Q(Z.label,b==null?void 0:b.className),children:c})),o.jsxs(ii,{className:Q(Z.root,a),ownerState:Y,ref:n,...R,children:[l.cloneElement(u,z),N?o.jsxs("div",{children:[c,o.jsxs(ai,{ownerState:Y,"aria-hidden":!0,className:Z.asterisk,children:[" ","*"]})]}):c]})}),oe=Br(li)(({theme:e})=>({"&:hover .MuiSwitch-thumb":{outline:`9px solid ${e.palette.secondary.main}29`},"&:hover .MuiRadio-colorSecondary":{background:`${e.palette.secondary.main}29`}}));function ci(e){return je("PrivateSwitchBase",e)}we("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const di=e=>{const{classes:t,checked:n,disabled:s,edge:i}=e,a={root:["root",n&&"checked",s&&"disabled",i&&`edge${L(i)}`],input:["input"]};return ye(a,ci,t)},ui=A(To)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),pi=A("input",{shouldForwardProp:Tt})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Fs=l.forwardRef(function(t,n){const{autoFocus:s,checked:i,checkedIcon:a,className:d,defaultChecked:u,disabled:p,disableFocusRipple:v=!1,edge:f=!1,icon:y,id:S,inputProps:P,inputRef:k,name:j,onBlur:C,onChange:I,onFocus:F,readOnly:R,required:T=!1,tabIndex:E,type:N,value:z,...pe}=t,[Y,Z]=so({controlled:i,default:!!u,name:"SwitchBase",state:"checked"}),H=Rt(),h=M=>{F&&F(M),H&&H.onFocus&&H.onFocus(M)},b=M=>{C&&C(M),H&&H.onBlur&&H.onBlur(M)},c=M=>{if(M.nativeEvent.defaultPrevented)return;const Fe=M.target.checked;Z(Fe),I&&I(M,Fe)};let U=p;H&&typeof U>"u"&&(U=H.disabled);const V=N==="checkbox"||N==="radio",ne={...t,checked:Y,disabled:U,disableFocusRipple:v,edge:f},le=di(ne);return o.jsxs(ui,{component:"span",className:Q(le.root,d),centerRipple:!0,focusRipple:!v,disabled:U,tabIndex:null,role:void 0,onFocus:h,onBlur:b,ownerState:ne,ref:n,...pe,children:[o.jsx(pi,{autoFocus:s,checked:i,defaultChecked:u,className:le.input,disabled:U,id:V?S:void 0,name:j,onChange:c,readOnly:R,ref:k,required:T,ownerState:ne,tabIndex:E,type:N,...N==="checkbox"&&z===void 0?{}:{value:z},...P}),Y?a:y]})}),bi=Ne(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),fi=Ne(o.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),gi=A("span",{shouldForwardProp:Tt})({position:"relative",display:"flex"}),hi=A(bi)({transform:"scale(1)"}),mi=A(fi)(ue(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function Ts(e){const{checked:t=!1,classes:n={},fontSize:s}=e,i={...e,checked:t};return o.jsxs(gi,{className:n.root,ownerState:i,children:[o.jsx(hi,{fontSize:s,className:n.background,ownerState:i}),o.jsx(mi,{fontSize:s,className:n.dot,ownerState:i})]})}const Rs=l.createContext(void 0);function xi(){return l.useContext(Rs)}function vi(e){return je("MuiRadio",e)}const Rn=we("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),yi=e=>{const{classes:t,color:n,size:s}=e,i={root:["root",`color${L(n)}`,s!=="medium"&&`size${L(s)}`]};return{...t,...ye(i,vi,t)}},Si=A(Fs,{shouldForwardProp:e=>Tt(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size!=="medium"&&t[`size${L(n.size)}`],t[`color${L(n.color)}`]]}})(ue(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${Rn.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Ft()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Ft()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${Rn.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function ki(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const $n=o.jsx(Ts,{checked:!0}),Ln=o.jsx(Ts,{}),ze=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiRadio"}),{checked:i,checkedIcon:a=$n,color:d="primary",icon:u=Ln,name:p,onChange:v,size:f="medium",className:y,disabled:S,disableRipple:P=!1,...k}=s,j=Rt();let C=S;j&&typeof C>"u"&&(C=j.disabled),C??(C=!1);const I={...s,disabled:C,disableRipple:P,color:d,size:f},F=yi(I),R=xi();let T=i;const E=tr(v,R&&R.onChange);let N=p;return R&&(typeof T>"u"&&(T=ki(R.value,s.value)),typeof N>"u"&&(N=R.name)),o.jsx(Si,{type:"radio",icon:l.cloneElement(u,{fontSize:Ln.props.fontSize??f}),checkedIcon:l.cloneElement(a,{fontSize:$n.props.fontSize??f}),disabled:C,ownerState:I,classes:F,name:N,checked:T,onChange:E,ref:n,className:Q(F.root,y),...k})}),Nn=Ne(o.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Ci=Ne(o.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),ji=Ne(o.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),wi=Ne(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Pi=Ne(o.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");function Ii(e){return je("MuiFilledInput",e)}const dt={...Et,...we("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Fi=e=>{const{classes:t,disableUnderline:n,startAdornment:s,endAdornment:i,size:a,hiddenLabel:d,multiline:u}=e,p={root:["root",!n&&"underline",s&&"adornedStart",i&&"adornedEnd",a==="small"&&`size${L(a)}`,d&&"hiddenLabel",u&&"multiline"],input:["input"]},v=ye(p,Ii,t);return{...t,...v}},Ti=A(ps,{shouldForwardProp:e=>Tt(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...bs(e,t),!n.disableUnderline&&t.underline]}})(ue(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${dt.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${dt.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:d})=>!d.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dt.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dt.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dt.disabled}, .${dt.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${dt.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Ft()).map(([d])=>{var u;return{props:{disableUnderline:!1,color:d},style:{"&::after":{borderBottom:`2px solid ${(u=(e.vars||e).palette[d])==null?void 0:u.main}`}}}}),{props:({ownerState:d})=>d.startAdornment,style:{paddingLeft:12}},{props:({ownerState:d})=>d.endAdornment,style:{paddingRight:12}},{props:({ownerState:d})=>d.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:d,size:u})=>d.multiline&&u==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:d})=>d.multiline&&d.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:d})=>d.multiline&&d.hiddenLabel&&d.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Ri=A(fs,{name:"MuiFilledInput",slot:"Input",overridesResolver:gs})(ue(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),bn=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:a={},componentsProps:d,fullWidth:u=!1,hiddenLabel:p,inputComponent:v="input",multiline:f=!1,slotProps:y,slots:S={},type:P="text",...k}=s,j={...s,disableUnderline:i,fullWidth:u,inputComponent:v,multiline:f,type:P},C=Fi(s),I={root:{ownerState:j},input:{ownerState:j}},F=y??d?ns(I,y??d):I,R=S.root??a.Root??Ti,T=S.input??a.Input??Ri;return o.jsx(us,{slots:{root:R,input:T},slotProps:F,fullWidth:u,inputComponent:v,multiline:f,ref:n,type:P,...k,classes:C})});bn.muiName="Input";var On;const $i=A("fieldset",{shouldForwardProp:Tt})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Li=A("legend",{shouldForwardProp:Tt})(ue(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function Ni(e){const{children:t,classes:n,className:s,label:i,notched:a,...d}=e,u=i!=null&&i!=="",p={...e,notched:a,withLabel:u};return o.jsx($i,{"aria-hidden":!0,className:s,ownerState:p,...d,children:o.jsx(Li,{ownerState:p,children:u?o.jsx("span",{children:i}):On||(On=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}function Oi(e){return je("MuiOutlinedInput",e)}const vt={...Et,...we("MuiOutlinedInput",["root","notchedOutline","input"])},Ai=e=>{const{classes:t}=e,s=ye({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Oi,t);return{...t,...s}},Mi=A(ps,{shouldForwardProp:e=>Tt(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:bs})(ue(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${vt.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${vt.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${vt.focused} .${vt.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Ft()).map(([n])=>({props:{color:n},style:{[`&.${vt.focused} .${vt.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${vt.error} .${vt.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${vt.disabled} .${vt.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:s})=>n.multiline&&s==="small",style:{padding:"8.5px 14px"}}]}})),Ei=A(Ni,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(ue(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Bi=A(fs,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gs})(ue(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),fn=l.forwardRef(function(t,n){var s;const i=Oe({props:t,name:"MuiOutlinedInput"}),{components:a={},fullWidth:d=!1,inputComponent:u="input",label:p,multiline:v=!1,notched:f,slots:y={},type:S="text",...P}=i,k=Ai(i),j=Rt(),C=io({props:i,muiFormControl:j,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I={...i,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:j,fullWidth:d,hiddenLabel:C.hiddenLabel,multiline:v,size:C.size,type:S},F=y.root??a.Root??Mi,R=y.input??a.Input??Bi;return o.jsx(us,{slots:{root:F,input:R},renderSuffix:T=>o.jsx(Ei,{ownerState:I,className:k.notchedOutline,label:p!=null&&p!==""&&C.required?s||(s=o.jsxs(l.Fragment,{children:[p," ","*"]})):p,notched:typeof f<"u"?f:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:d,inputComponent:u,multiline:v,ref:n,type:S,...P,classes:{...k,notchedOutline:null}})});fn.muiName="Input";function zi(e){return je("MuiInputLabel",e)}we("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Di=e=>{const{classes:t,formControl:n,size:s,shrink:i,disableAnimation:a,variant:d,required:u}=e,p={root:["root",n&&"formControl",!a&&"animated",i&&"shrink",s&&s!=="normal"&&`size${L(s)}`,d],asterisk:[u&&"asterisk"]},v=ye(p,zi,t);return{...t,...v}},Wi=A(qt,{shouldForwardProp:e=>Tt(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Fo.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(ue(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:s})=>t==="filled"&&n.shrink&&s==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Vi=l.forwardRef(function(t,n){const s=Oe({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:a,shrink:d,variant:u,className:p,...v}=s,f=Rt();let y=d;typeof y>"u"&&f&&(y=f.filled||f.focused||f.adornedStart);const S=io({props:s,muiFormControl:f,states:["size","variant","required","focused"]}),P={...s,disableAnimation:i,formControl:f,shrink:y,size:S.size,variant:S.variant,required:S.required,focused:S.focused},k=Di(P);return o.jsx(Wi,{"data-shrink":y,ref:n,className:Q(k.root,p),...v,ownerState:P,classes:k})});function Hi(e){return je("MuiFormHelperText",e)}const An=we("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Mn;const _i=e=>{const{classes:t,contained:n,size:s,disabled:i,error:a,filled:d,focused:u,required:p}=e,v={root:["root",i&&"disabled",a&&"error",s&&`size${L(s)}`,n&&"contained",u&&"focused",d&&"filled",p&&"required"]};return ye(v,Hi,t)},Ui=A("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${L(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(ue(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${An.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${An.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),$s=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiFormHelperText"}),{children:i,className:a,component:d="p",disabled:u,error:p,filled:v,focused:f,margin:y,required:S,variant:P,...k}=s,j=Rt(),C=io({props:s,muiFormControl:j,states:["variant","size","disabled","error","filled","focused","required"]}),I={...s,component:d,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete I.ownerState;const F=_i(I);return o.jsx(Ui,{as:d,className:Q(F.root,a),ref:n,...k,ownerState:I,children:i===" "?Mn||(Mn=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function Ki(e){return je("MuiNativeSelect",e)}const gn=we("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),qi=e=>{const{classes:t,variant:n,disabled:s,multiple:i,open:a,error:d}=e,u={select:["select",n,s&&"disabled",i&&"multiple",d&&"error"],icon:["icon",`icon${L(n)}`,a&&"iconOpen",s&&"disabled"]};return ye(u,Ki,t)},Ls=A("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${gn.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Gi=A(Ls,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Tt,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${gn.multiple}`]:t.multiple}]}})({}),Ns=A("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${gn.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Yi=A(Ns,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${L(n.variant)}`],n.open&&t.iconOpen]}})({}),Xi=l.forwardRef(function(t,n){const{className:s,disabled:i,error:a,IconComponent:d,inputRef:u,variant:p="standard",...v}=t,f={...t,disabled:i,variant:p,error:a},y=qi(f);return o.jsxs(l.Fragment,{children:[o.jsx(Gi,{ownerState:f,className:Q(y.select,s),disabled:i,ref:u||n,...v}),t.multiple?null:o.jsx(Yi,{as:d,ownerState:f,className:y.icon})]})});function Os(e){return je("MuiSelect",e)}const jo=we("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var En;const Ji=A(Ls,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${jo.select}`]:t.select},{[`&.${jo.select}`]:t[n.variant]},{[`&.${jo.error}`]:t.error},{[`&.${jo.multiple}`]:t.multiple}]}})({[`&.${jo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Qi=A(Ns,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${L(n.variant)}`],n.open&&t.iconOpen]}})({}),Zi=A("input",{shouldForwardProp:e=>nr(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Bn(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function ea(e){return e==null||typeof e=="string"&&!e.trim()}const ta=e=>{const{classes:t,variant:n,disabled:s,multiple:i,open:a,error:d}=e,u={select:["select",n,s&&"disabled",i&&"multiple",d&&"error"],icon:["icon",`icon${L(n)}`,a&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return ye(u,Os,t)},oa=l.forwardRef(function(t,n){var bt;const{"aria-describedby":s,"aria-label":i,autoFocus:a,autoWidth:d,children:u,className:p,defaultOpen:v,defaultValue:f,disabled:y,displayEmpty:S,error:P=!1,IconComponent:k,inputRef:j,labelId:C,MenuProps:I={},multiple:F,name:R,onBlur:T,onChange:E,onClose:N,onFocus:z,onOpen:pe,open:Y,readOnly:Z,renderValue:H,required:h,SelectDisplayProps:b={},tabIndex:c,type:U,value:V,variant:ne="standard",...le}=t,[M,Fe]=so({controlled:V,default:f,name:"Select"}),[me,rt]=so({controlled:Y,default:v,name:"Select"}),Ee=l.useRef(null),fe=l.useRef(null),[X,Te]=l.useState(null),{current:We}=l.useRef(Y!=null),[he,ie]=l.useState(),Be=Uo(n,j),ut=l.useCallback(x=>{fe.current=x,x&&Te(x)},[]),ve=X==null?void 0:X.parentNode;l.useImperativeHandle(Be,()=>({focus:()=>{fe.current.focus()},node:Ee.current,value:M}),[M]),l.useEffect(()=>{v&&me&&X&&!We&&(ie(d?null:ve.clientWidth),fe.current.focus())},[X,d]),l.useEffect(()=>{a&&fe.current.focus()},[a]),l.useEffect(()=>{if(!C)return;const x=ss(fe.current).getElementById(C);if(x){const w=()=>{getSelection().isCollapsed&&fe.current.focus()};return x.addEventListener("click",w),()=>{x.removeEventListener("click",w)}}},[C]);const Ae=(x,w)=>{x?pe&&pe(w):N&&N(w),We||(ie(d?null:ve.clientWidth),rt(x))},pt=x=>{x.button===0&&(x.preventDefault(),fe.current.focus(),Ae(!0,x))},Se=x=>{Ae(!1,x)},ot=l.Children.toArray(u),O=x=>{const w=ot.find(B=>B.props.value===x.target.value);w!==void 0&&(Fe(w.props.value),E&&E(x,w))},Ve=x=>w=>{let B;if(w.currentTarget.hasAttribute("tabindex")){if(F){B=Array.isArray(M)?M.slice():[];const W=M.indexOf(x.props.value);W===-1?B.push(x.props.value):B.splice(W,1)}else B=x.props.value;if(x.props.onClick&&x.props.onClick(w),M!==B&&(Fe(B),E)){const W=w.nativeEvent||w,ae=new W.constructor(W.type,W);Object.defineProperty(ae,"target",{writable:!0,value:{value:B,name:R}}),E(ae,x)}F||Ae(!1,w)}},ee=x=>{Z||[" ","ArrowUp","ArrowDown","Enter"].includes(x.key)&&(x.preventDefault(),Ae(!0,x))},ke=X!==null&&me,He=x=>{!ke&&T&&(Object.defineProperty(x,"target",{writable:!0,value:{value:M,name:R}}),T(x))};delete le["aria-invalid"];let Me,nt;const $e=[];let Ge=!1;(sn({value:M})||S)&&(H?Me=H(M):Ge=!0);const Dt=ot.map(x=>{if(!l.isValidElement(x))return null;let w;if(F){if(!Array.isArray(M))throw new Error(or(2));w=M.some(B=>Bn(B,x.props.value)),w&&Ge&&$e.push(x.props.children)}else w=Bn(M,x.props.value),w&&Ge&&(nt=x.props.children);return l.cloneElement(x,{"aria-selected":w?"true":"false",onClick:Ve(x),onKeyUp:B=>{B.key===" "&&B.preventDefault(),x.props.onKeyUp&&x.props.onKeyUp(B)},role:"option",selected:w,value:void 0,"data-value":x.props.value})});Ge&&(F?$e.length===0?Me=null:Me=$e.reduce((x,w,B)=>(x.push(w),B<$e.length-1&&x.push(", "),x),[]):Me=nt);let it=he;!d&&We&&X&&(it=ve.clientWidth);let at;typeof c<"u"?at=c:at=y?null:0;const xe=b.id||(R?`mui-component-select-${R}`:void 0),se={...t,variant:ne,value:M,open:ke,error:P},Pe=ta(se),lt={...I.PaperProps,...(bt=I.slotProps)==null?void 0:bt.paper},st=Ko();return o.jsxs(l.Fragment,{children:[o.jsx(Ji,{as:"div",ref:ut,tabIndex:at,role:"combobox","aria-controls":ke?st:void 0,"aria-disabled":y?"true":void 0,"aria-expanded":ke?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[C,xe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,"aria-required":h?"true":void 0,"aria-invalid":P?"true":void 0,onKeyDown:ee,onMouseDown:y||Z?null:pt,onBlur:He,onFocus:z,...b,ownerState:se,className:Q(b.className,Pe.select,p),id:xe,children:ea(Me)?En||(En=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Me}),o.jsx(Zi,{"aria-invalid":P,value:Array.isArray(M)?M.join(","):M,name:R,ref:Ee,"aria-hidden":!0,onChange:O,tabIndex:-1,disabled:y,className:Pe.nativeInput,autoFocus:a,required:h,...le,ownerState:se}),o.jsx(Qi,{as:k,className:Pe.icon,ownerState:se}),o.jsx(gr,{id:`menu-${R||""}`,anchorEl:ve,open:ke,onClose:Se,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...I,MenuListProps:{"aria-labelledby":C,role:"listbox","aria-multiselectable":F?"true":void 0,disableListWrap:!0,id:st,...I.MenuListProps},slotProps:{...I.slotProps,paper:{...lt,style:{minWidth:it,...lt!=null?lt.style:null}}},children:Dt})]})}),As=Ne(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),na=e=>{const{classes:t}=e,s=ye({root:["root"]},Os,t);return{...t,...s}},hn={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Tt(e)&&e!=="variant",slot:"Root"},sa=A(hs,hn)(""),ra=A(fn,hn)(""),ia=A(bn,hn)(""),Ms=l.forwardRef(function(t,n){const s=Oe({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:a,classes:d={},className:u,defaultOpen:p=!1,displayEmpty:v=!1,IconComponent:f=As,id:y,input:S,inputProps:P,label:k,labelId:j,MenuProps:C,multiple:I=!1,native:F=!1,onClose:R,onOpen:T,open:E,renderValue:N,SelectDisplayProps:z,variant:pe="outlined",...Y}=s,Z=F?Xi:oa,H=Rt(),h=io({props:s,muiFormControl:H,states:["variant","error"]}),b=h.variant||pe,c={...s,variant:b,classes:d},U=na(c),{root:V,...ne}=U,le=S||{standard:o.jsx(sa,{ownerState:c}),outlined:o.jsx(ra,{label:k,ownerState:c}),filled:o.jsx(ia,{ownerState:c})}[b],M=Uo(n,sr(le));return o.jsx(l.Fragment,{children:l.cloneElement(le,{inputComponent:Z,inputProps:{children:a,error:h.error,IconComponent:f,variant:b,type:void 0,multiple:I,...F?{id:y}:{autoWidth:i,defaultOpen:p,displayEmpty:v,labelId:j,MenuProps:C,onClose:R,onOpen:T,open:E,renderValue:N,SelectDisplayProps:{id:y,...z}},...P,classes:P?ns(ne,P.classes):ne,...S?S.props.inputProps:{}},...(I&&F||v)&&b==="outlined"?{notched:!0}:{},ref:M,className:Q(le.props.className,u,U.root),...!S&&{variant:b},...Y})})});Ms.muiName="Select";function aa(e){return je("MuiTextField",e)}we("MuiTextField",["root"]);const la={standard:hs,filled:bn,outlined:fn},ca=e=>{const{classes:t}=e;return ye({root:["root"]},aa,t)},da=A(ln,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),q=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:d,className:u,color:p="primary",defaultValue:v,disabled:f=!1,error:y=!1,FormHelperTextProps:S,fullWidth:P=!1,helperText:k,id:j,InputLabelProps:C,inputProps:I,InputProps:F,inputRef:R,label:T,maxRows:E,minRows:N,multiline:z=!1,name:pe,onBlur:Y,onChange:Z,onFocus:H,placeholder:h,required:b=!1,rows:c,select:U=!1,SelectProps:V,slots:ne={},slotProps:le={},type:M,value:Fe,variant:me="outlined",...rt}=s,Ee={...s,autoFocus:a,color:p,disabled:f,error:y,fullWidth:P,multiline:z,required:b,select:U,variant:me},fe=ca(Ee),X=Ko(j),Te=k&&X?`${X}-helper-text`:void 0,We=T&&X?`${X}-label`:void 0,he=la[me],ie={slots:ne,slotProps:{input:F,inputLabel:C,htmlInput:I,formHelperText:S,select:V,...le}},Be={},ut=ie.slotProps.inputLabel;me==="outlined"&&(ut&&typeof ut.shrink<"u"&&(Be.notched=ut.shrink),Be.label=T),U&&((!V||!V.native)&&(Be.id=void 0),Be["aria-describedby"]=void 0);const[ve,Ae]=Bt("input",{elementType:he,externalForwardedProps:ie,additionalProps:Be,ownerState:Ee}),[pt,Se]=Bt("inputLabel",{elementType:Vi,externalForwardedProps:ie,ownerState:Ee}),[ot,O]=Bt("htmlInput",{elementType:"input",externalForwardedProps:ie,ownerState:Ee}),[Ve,ee]=Bt("formHelperText",{elementType:$s,externalForwardedProps:ie,ownerState:Ee}),[ke,He]=Bt("select",{elementType:Ms,externalForwardedProps:ie,ownerState:Ee}),Me=o.jsx(ve,{"aria-describedby":Te,autoComplete:i,autoFocus:a,defaultValue:v,fullWidth:P,multiline:z,name:pe,rows:c,maxRows:E,minRows:N,type:M,value:Fe,id:X,inputRef:R,onBlur:Y,onChange:Z,onFocus:H,placeholder:h,inputProps:O,slots:{input:ne.htmlInput?ot:void 0},...Ae});return o.jsxs(da,{className:Q(fe.root,u),disabled:f,error:y,fullWidth:P,ref:n,required:b,color:p,variant:me,ownerState:Ee,...rt,children:[T!=null&&T!==""&&o.jsx(pt,{htmlFor:X,id:We,...Se,children:T}),U?o.jsx(ke,{"aria-describedby":Te,id:X,labelId:We,value:Fe,input:Me,...He,children:d}):Me,k&&o.jsx(Ve,{id:Te,...ee,children:k})]})}),on=typeof queryLocalFonts=="function",cc=()=>{const[e,t]=l.useState([]),[n,s]=l.useState(),i=l.useCallback(()=>{on&&navigator.permissions.query({name:"local-fonts"}).then(d=>s(d.state))},[]),a=l.useCallback(()=>{on&&queryLocalFonts().then(d=>{const u={};for(const p of d)u[p.family]=!0;t(Object.keys(u))}).catch(console.error)},[]);return l.useEffect(()=>{i()},[i]),l.useEffect(()=>{a()},[a]),{updateLocalFontsPermission:i,updateLocalFonts:a,localFontsAvailable:on,localFontsPermission:n,localFontFamilies:e}},ua=(e,t)=>{l.useEffect(()=>{const n=s=>{var i;(i=e.current)!=null&&i.contains(s.target)||t(s)};return window.document.addEventListener("click",n),()=>window.document.removeEventListener("click",n)},[e,t])};function pa(e){const t=e.split(" ").join("").split(","),n=[];for(const s of t)n.push(s.trim());return n}function ba({tags:e,onTagsChange:t,...n}){const[s,i]=l.useState("");l.useEffect(()=>{e.join(", ")!==s&&i(e.join(", "))},[s,e]);const a=l.useCallback(d=>{let u=d.target.value;s.length>u.length&&s.includes(u)&&u.endsWith(",")&&(u=u.substring(0,u.length-1));const p=pa(u);i(p.join(", ")),t(p)},[s,t]);return o.jsx(q,{...n,value:s,onChange:a})}function fa(e){return je("MuiSwitch",e)}const tt=we("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ga=e=>{const{classes:t,edge:n,size:s,color:i,checked:a,disabled:d}=e,u={root:["root",n&&`edge${L(n)}`,`size${L(s)}`],switchBase:["switchBase",`color${L(i)}`,a&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},p=ye(u,fa,t);return{...t,...p}},ha=A("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${L(n.edge)}`],t[`size${L(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${tt.thumb}`]:{width:16,height:16},[`& .${tt.switchBase}`]:{padding:4,[`&.${tt.checked}`]:{transform:"translateX(16px)"}}}}]}),ma=A(Fs,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${tt.input}`]:t.input},n.color!=="default"&&t[`color${L(n.color)}`]]}})(ue(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${tt.checked}`]:{transform:"translateX(20px)"},[`&.${tt.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${tt.checked} + .${tt.track}`]:{opacity:.5},[`&.${tt.disabled} + .${tt.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${tt.input}`]:{left:"-100%",width:"300%"}})),ue(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Ft(["light"])).map(([t])=>({props:{color:t},style:{[`&.${tt.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tt.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?rr(e.palette[t].main,.62):ir(e.palette[t].main,.55)}`}},[`&.${tt.checked} + .${tt.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),xa=A("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(ue(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),va=A("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(ue(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),De=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiSwitch"}),{className:i,color:a="primary",edge:d=!1,size:u="medium",sx:p,...v}=s,f={...s,color:a,edge:d,size:u},y=ga(f),S=o.jsx(va,{className:y.thumb,ownerState:f});return o.jsxs(ha,{className:Q(y.root,i),sx:p,ownerState:f,children:[o.jsx(ma,{type:"checkbox",icon:S,checkedIcon:S,ref:n,ownerState:f,...v,classes:{...y,root:y.switchBase}}),o.jsx(xa,{className:y.track,ownerState:f})]})});function ya(e){return je("MuiRadioGroup",e)}we("MuiRadioGroup",["root","row","error"]);const Sa=e=>{const{classes:t,row:n,error:s}=e;return ye({root:["root",n&&"row",s&&"error"]},ya,t)},eo=l.forwardRef(function(t,n){const{actions:s,children:i,className:a,defaultValue:d,name:u,onChange:p,value:v,...f}=t,y=l.useRef(null),S=Sa(t),[P,k]=so({controlled:v,default:d,name:"RadioGroup"});l.useImperativeHandle(s,()=>({focus:()=>{let F=y.current.querySelector("input:not(:disabled):checked");F||(F=y.current.querySelector("input:not(:disabled)")),F&&F.focus()}}),[]);const j=Uo(n,y),C=Ko(u),I=l.useMemo(()=>({name:C,onChange(F){k(F.target.value),p&&p(F,F.target.value)},value:P}),[C,p,k,P]);return o.jsx(Rs.Provider,{value:I,children:o.jsx(Ct,{role:"radiogroup",ref:j,className:Q(S.root,a),...f,children:i})})});function zn(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ka(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:s,matchFrom:i="any",stringify:a,trim:d=!1}=e;return(u,{inputValue:p,getOptionLabel:v})=>{let f=d?p.trim():p;n&&(f=f.toLowerCase()),t&&(f=zn(f));const y=f?u.filter(S=>{let P=(a||v)(S);return n&&(P=P.toLowerCase()),t&&(P=zn(P)),i==="start"?P.startsWith(f):P.includes(f)}):u;return typeof s=="number"?y.slice(0,s):y}}const Ca=ka(),ja=5,wa=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},Pa=[];function Dn(e,t,n){if(t||e==null)return"";const s=n(e);return typeof s=="string"?s:""}function Ia(e){const{unstable_isActiveElementInListbox:t=wa,unstable_classNamePrefix:n="Mui",autoComplete:s=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:d=!1,clearOnBlur:u=!e.freeSolo,clearOnEscape:p=!1,componentName:v="useAutocomplete",defaultValue:f=e.multiple?Pa:null,disableClearable:y=!1,disableCloseOnSelect:S=!1,disabled:P,disabledItemsFocusable:k=!1,disableListWrap:j=!1,filterOptions:C=Ca,filterSelectedOptions:I=!1,freeSolo:F=!1,getOptionDisabled:R,getOptionKey:T,getOptionLabel:E=m=>m.label??m,groupBy:N,handleHomeEndKeys:z=!e.freeSolo,id:pe,includeInputInList:Y=!1,inputValue:Z,isOptionEqualToValue:H=(m,g)=>m===g,multiple:h=!1,onChange:b,onClose:c,onHighlightChange:U,onInputChange:V,onOpen:ne,open:le,openOnFocus:M=!1,options:Fe,readOnly:me=!1,selectOnFocus:rt=!e.freeSolo,value:Ee}=e,fe=Ko(pe);let X=E;X=m=>{const g=E(m);return typeof g!="string"?String(g):g};const Te=l.useRef(!1),We=l.useRef(!0),he=l.useRef(null),ie=l.useRef(null),[Be,ut]=l.useState(null),[ve,Ae]=l.useState(-1),pt=i?0:-1,Se=l.useRef(pt),ot=l.useRef(Dn(f,h,X)).current,[O,Ve]=so({controlled:Ee,default:f,name:v}),[ee,ke]=so({controlled:Z,default:ot,name:v,state:"inputValue"}),[He,Me]=l.useState(!1),nt=l.useCallback((m,g,$)=>{if(!(h?O.length<g.length:g!==null)&&!u)return;const G=Dn(g,h,X);ee!==G&&(ke(G),V&&V(m,G,$))},[X,ee,h,V,ke,u,O]),[$e,Ge]=so({controlled:le,default:!1,name:v,state:"open"}),[Dt,it]=l.useState(!0),at=!h&&O!=null&&ee===X(O),xe=$e&&!me,se=xe?C(Fe.filter(m=>!(I&&(h?O:[O]).some(g=>g!==null&&H(m,g)))),{inputValue:at&&Dt?"":ee,getOptionLabel:X}):[],Pe=Lr({filteredOptions:se,value:O,inputValue:ee});l.useEffect(()=>{const m=O!==Pe.value;He&&!m||F&&!m||nt(null,O,"reset")},[O,nt,He,Pe.value,F]);const lt=$e&&se.length>0&&!me,st=no(m=>{m===-1?he.current.focus():Be.querySelector(`[data-tag-index="${m}"]`).focus()});l.useEffect(()=>{h&&ve>O.length-1&&(Ae(-1),st(-1))},[O,h,ve,st]);function bt(m,g){if(!ie.current||m<0||m>=se.length)return-1;let $=m;for(;;){const _=ie.current.querySelector(`[data-option-index="${$}"]`),G=k?!1:!_||_.disabled||_.getAttribute("aria-disabled")==="true";if(_&&_.hasAttribute("tabindex")&&!G)return $;if(g==="next"?$=($+1)%se.length:$=($-1+se.length)%se.length,$===m)return-1}}const x=no(({event:m,index:g,reason:$="auto"})=>{if(Se.current=g,g===-1?he.current.removeAttribute("aria-activedescendant"):he.current.setAttribute("aria-activedescendant",`${fe}-option-${g}`),U&&U(m,g===-1?null:se[g],$),!ie.current)return;const _=ie.current.querySelector(`[role="option"].${n}-focused`);_&&(_.classList.remove(`${n}-focused`),_.classList.remove(`${n}-focusVisible`));let G=ie.current;if(ie.current.getAttribute("role")!=="listbox"&&(G=ie.current.parentElement.querySelector('[role="listbox"]')),!G)return;if(g===-1){G.scrollTop=0;return}const de=ie.current.querySelector(`[data-option-index="${g}"]`);if(de&&(de.classList.add(`${n}-focused`),$==="keyboard"&&de.classList.add(`${n}-focusVisible`),G.scrollHeight>G.clientHeight&&$!=="mouse"&&$!=="touch")){const Ce=de,et=G.clientHeight+G.scrollTop,uo=Ce.offsetTop+Ce.offsetHeight;uo>et?G.scrollTop=uo-G.clientHeight:Ce.offsetTop-Ce.offsetHeight*(N?1.3:0)<G.scrollTop&&(G.scrollTop=Ce.offsetTop-Ce.offsetHeight*(N?1.3:0))}}),w=no(({event:m,diff:g,direction:$="next",reason:_="auto"})=>{if(!xe)return;const de=bt((()=>{const Ce=se.length-1;if(g==="reset")return pt;if(g==="start")return 0;if(g==="end")return Ce;const et=Se.current+g;return et<0?et===-1&&Y?-1:j&&Se.current!==-1||Math.abs(g)>1?0:Ce:et>Ce?et===Ce+1&&Y?-1:j||Math.abs(g)>1?Ce:0:et})(),$);if(x({index:de,reason:_,event:m}),s&&g!=="reset")if(de===-1)he.current.value=ee;else{const Ce=X(se[de]);he.current.value=Ce,Ce.toLowerCase().indexOf(ee.toLowerCase())===0&&ee.length>0&&he.current.setSelectionRange(ee.length,Ce.length)}}),B=()=>{const m=(g,$)=>{const _=g?X(g):"",G=$?X($):"";return _===G};if(Se.current!==-1&&Pe.filteredOptions&&Pe.filteredOptions.length!==se.length&&Pe.inputValue===ee&&(h?O.length===Pe.value.length&&Pe.value.every((g,$)=>X(O[$])===X(g)):m(Pe.value,O))){const g=Pe.filteredOptions[Se.current];if(g)return se.findIndex($=>X($)===X(g))}return-1},W=l.useCallback(()=>{if(!xe)return;const m=B();if(m!==-1){Se.current=m;return}const g=h?O[0]:O;if(se.length===0||g==null){w({diff:"reset"});return}if(ie.current){if(g!=null){const $=se[Se.current];if(h&&$&&O.findIndex(G=>H($,G))!==-1)return;const _=se.findIndex(G=>H(G,g));_===-1?w({diff:"reset"}):x({index:_});return}if(Se.current>=se.length-1){x({index:se.length-1});return}x({index:Se.current})}},[se.length,h?!1:O,I,w,x,xe,ee,h]),ae=no(m=>{ar(ie,m),m&&W()});l.useEffect(()=>{W()},[W]);const be=m=>{$e||(Ge(!0),it(!0),ne&&ne(m))},_e=(m,g)=>{$e&&(Ge(!1),c&&c(m,g))},Ye=(m,g,$,_)=>{if(h){if(O.length===g.length&&O.every((G,de)=>G===g[de]))return}else if(O===g)return;b&&b(m,g,$,_),Ve(g)},yt=l.useRef(!1),Xe=(m,g,$="selectOption",_="options")=>{let G=$,de=g;if(h){de=Array.isArray(O)?O.slice():[];const Ce=de.findIndex(et=>H(g,et));Ce===-1?de.push(g):_!=="freeSolo"&&(de.splice(Ce,1),G="removeOption")}nt(m,de,G),Ye(m,de,G,{option:g}),!S&&(!m||!m.ctrlKey&&!m.metaKey)&&_e(m,G),(d===!0||d==="touch"&&yt.current||d==="mouse"&&!yt.current)&&he.current.blur()};function ao(m,g){if(m===-1)return-1;let $=m;for(;;){if(g==="next"&&$===O.length||g==="previous"&&$===-1)return-1;const _=Be.querySelector(`[data-tag-index="${$}"]`);if(!_||!_.hasAttribute("tabindex")||_.disabled||_.getAttribute("aria-disabled")==="true")$+=g==="next"?1:-1;else return $}}const lo=(m,g)=>{if(!h)return;ee===""&&_e(m,"toggleInput");let $=ve;ve===-1?ee===""&&g==="previous"&&($=O.length-1):($+=g==="next"?1:-1,$<0&&($=0),$===O.length&&($=-1)),$=ao($,g),Ae($),st($)},$t=m=>{Te.current=!0,ke(""),V&&V(m,"","clear"),Ye(m,h?[]:null,"clear")},mo=m=>g=>{if(m.onKeyDown&&m.onKeyDown(g),!g.defaultMuiPrevented&&(ve!==-1&&!["ArrowLeft","ArrowRight"].includes(g.key)&&(Ae(-1),st(-1)),g.which!==229))switch(g.key){case"Home":xe&&z&&(g.preventDefault(),w({diff:"start",direction:"next",reason:"keyboard",event:g}));break;case"End":xe&&z&&(g.preventDefault(),w({diff:"end",direction:"previous",reason:"keyboard",event:g}));break;case"PageUp":g.preventDefault(),w({diff:-5,direction:"previous",reason:"keyboard",event:g}),be(g);break;case"PageDown":g.preventDefault(),w({diff:ja,direction:"next",reason:"keyboard",event:g}),be(g);break;case"ArrowDown":g.preventDefault(),w({diff:1,direction:"next",reason:"keyboard",event:g}),be(g);break;case"ArrowUp":g.preventDefault(),w({diff:-1,direction:"previous",reason:"keyboard",event:g}),be(g);break;case"ArrowLeft":lo(g,"previous");break;case"ArrowRight":lo(g,"next");break;case"Enter":if(Se.current!==-1&&xe){const $=se[Se.current],_=R?R($):!1;if(g.preventDefault(),_)return;Xe(g,$,"selectOption"),s&&he.current.setSelectionRange(he.current.value.length,he.current.value.length)}else F&&ee!==""&&at===!1&&(h&&g.preventDefault(),Xe(g,ee,"createOption","freeSolo"));break;case"Escape":xe?(g.preventDefault(),g.stopPropagation(),_e(g,"escape")):p&&(ee!==""||h&&O.length>0)&&(g.preventDefault(),g.stopPropagation(),$t(g));break;case"Backspace":if(h&&!me&&ee===""&&O.length>0){const $=ve===-1?O.length-1:ve,_=O.slice();_.splice($,1),Ye(g,_,"removeOption",{option:O[$]})}break;case"Delete":if(h&&!me&&ee===""&&O.length>0&&ve!==-1){const $=ve,_=O.slice();_.splice($,1),Ye(g,_,"removeOption",{option:O[$]})}break}},xo=m=>{Me(!0),M&&!Te.current&&be(m)},Lt=m=>{if(t(ie)){he.current.focus();return}Me(!1),We.current=!0,Te.current=!1,a&&Se.current!==-1&&xe?Xe(m,se[Se.current],"blur"):a&&F&&ee!==""?Xe(m,ee,"blur","freeSolo"):u&&nt(m,O,"blur"),_e(m,"blur")},Xt=m=>{const g=m.target.value;ee!==g&&(ke(g),it(!1),V&&V(m,g,"input")),g===""?!y&&!h&&Ye(m,null,"clear"):be(m)},Jt=m=>{const g=Number(m.currentTarget.getAttribute("data-option-index"));Se.current!==g&&x({event:m,index:g,reason:"mouse"})},vo=m=>{x({event:m,index:Number(m.currentTarget.getAttribute("data-option-index")),reason:"touch"}),yt.current=!0},co=m=>{const g=Number(m.currentTarget.getAttribute("data-option-index"));Xe(m,se[g],"selectOption"),yt.current=!1},yo=m=>g=>{const $=O.slice();$.splice(m,1),Ye(g,$,"removeOption",{option:O[m]})},jt=m=>{$e?_e(m,"toggleInput"):be(m)},St=m=>{m.currentTarget.contains(m.target)&&m.target.getAttribute("id")!==fe&&m.preventDefault()},Le=m=>{m.currentTarget.contains(m.target)&&(he.current.focus(),rt&&We.current&&he.current.selectionEnd-he.current.selectionStart===0&&he.current.select(),We.current=!1)},ce=m=>{!P&&(ee===""||!$e)&&jt(m)};let ft=F&&ee.length>0;ft=ft||(h?O.length>0:O!==null);let Qt=se;return N&&(Qt=se.reduce((m,g,$)=>{const _=N(g);return m.length>0&&m[m.length-1].group===_?m[m.length-1].options.push(g):m.push({key:$,index:$,group:_,options:[g]}),m},[])),P&&He&&Lt(),{getRootProps:(m={})=>({"aria-owns":lt?`${fe}-listbox`:null,...m,onKeyDown:mo(m),onMouseDown:St,onClick:Le}),getInputLabelProps:()=>({id:`${fe}-label`,htmlFor:fe}),getInputProps:()=>({id:fe,value:ee,onBlur:Lt,onFocus:xo,onChange:Xt,onMouseDown:ce,"aria-activedescendant":xe?"":null,"aria-autocomplete":s?"both":"list","aria-controls":lt?`${fe}-listbox`:void 0,"aria-expanded":lt,autoComplete:"off",ref:he,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:P}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:$t}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:jt}),getTagProps:({index:m})=>({key:m,"data-tag-index":m,tabIndex:-1,...!me&&{onDelete:yo(m)}}),getListboxProps:()=>({role:"listbox",id:`${fe}-listbox`,"aria-labelledby":`${fe}-label`,ref:ae,onMouseDown:m=>{m.preventDefault()}}),getOptionProps:({index:m,option:g})=>{const $=(h?O:[O]).some(G=>G!=null&&H(g,G)),_=R?R(g):!1;return{key:(T==null?void 0:T(g))??X(g),tabIndex:-1,role:"option",id:`${fe}-option-${m}`,onMouseMove:Jt,onClick:co,onTouchStart:vo,"data-option-index":m,"aria-disabled":_,"aria-selected":$}},id:fe,inputValue:ee,value:O,dirty:ft,expanded:xe&&Be,popupOpen:xe,focused:He||ve!==-1,anchorEl:Be,setAnchorEl:ut,focusedTag:ve,groupedOptions:Qt}}function Fa(e){return je("MuiListSubheader",e)}we("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Ta=e=>{const{classes:t,color:n,disableGutters:s,inset:i,disableSticky:a}=e,d={root:["root",n!=="default"&&`color${L(n)}`,!s&&"gutters",i&&"inset",!a&&"sticky"]};return ye(d,Fa,t)},Ra=A("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${L(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(ue(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),cn=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiListSubheader"}),{className:i,color:a="default",component:d="li",disableGutters:u=!1,disableSticky:p=!1,inset:v=!1,...f}=s,y={...s,color:a,component:d,disableGutters:u,disableSticky:p,inset:v},S=Ta(y);return o.jsx(Ra,{as:d,className:Q(S.root,i),ref:n,ownerState:y,...f})});cn&&(cn.muiSkipListHighlight=!0);const $a=Ne(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function La(e){return je("MuiChip",e)}const J=we("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Na=e=>{const{classes:t,disabled:n,size:s,color:i,iconColor:a,onDelete:d,clickable:u,variant:p}=e,v={root:["root",p,n&&"disabled",`size${L(s)}`,`color${L(i)}`,u&&"clickable",u&&`clickableColor${L(i)}`,d&&"deletable",d&&`deletableColor${L(i)}`,`${p}${L(i)}`],label:["label",`label${L(s)}`],avatar:["avatar",`avatar${L(s)}`,`avatarColor${L(i)}`],icon:["icon",`icon${L(s)}`,`iconColor${L(a)}`],deleteIcon:["deleteIcon",`deleteIcon${L(s)}`,`deleteIconColor${L(i)}`,`deleteIcon${L(p)}Color${L(i)}`]};return ye(v,La,t)},Oa=A("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:s,iconColor:i,clickable:a,onDelete:d,size:u,variant:p}=n;return[{[`& .${J.avatar}`]:t.avatar},{[`& .${J.avatar}`]:t[`avatar${L(u)}`]},{[`& .${J.avatar}`]:t[`avatarColor${L(s)}`]},{[`& .${J.icon}`]:t.icon},{[`& .${J.icon}`]:t[`icon${L(u)}`]},{[`& .${J.icon}`]:t[`iconColor${L(i)}`]},{[`& .${J.deleteIcon}`]:t.deleteIcon},{[`& .${J.deleteIcon}`]:t[`deleteIcon${L(u)}`]},{[`& .${J.deleteIcon}`]:t[`deleteIconColor${L(s)}`]},{[`& .${J.deleteIcon}`]:t[`deleteIcon${L(p)}Color${L(s)}`]},t.root,t[`size${L(u)}`],t[`color${L(s)}`],a&&t.clickable,a&&s!=="default"&&t[`clickableColor${L(s)})`],d&&t.deletable,d&&s!=="default"&&t[`deletableColor${L(s)}`],t[p],t[`${p}${L(s)}`]]}})(ue(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${J.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${J.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${J.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${J.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${J.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${J.icon}`]:{marginLeft:5,marginRight:-6},[`& .${J.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Ke(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Ke(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${J.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${J.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Ft(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${J.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].contrastTextChannel} / 0.7)`:Ke(e.palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${J.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${J.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${J.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ke(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(Ft(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${J.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ke(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${J.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ke(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Ft(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${J.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${J.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${J.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${J.avatar}`]:{marginLeft:4},[`& .${J.avatarSmall}`]:{marginLeft:2},[`& .${J.icon}`]:{marginLeft:4},[`& .${J.iconSmall}`]:{marginLeft:2},[`& .${J.deleteIcon}`]:{marginRight:5},[`& .${J.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Ft()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Ke(e.palette[n].main,.7)}`,[`&.${J.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(e.palette[n].main,e.palette.action.hoverOpacity)},[`&.${J.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ke(e.palette[n].main,e.palette.action.focusOpacity)},[`& .${J.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Ke(e.palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),Aa=A("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:s}=n;return[t.label,t[`label${L(s)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Wn(e){return e.key==="Backspace"||e.key==="Delete"}const Ma=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiChip"}),{avatar:i,className:a,clickable:d,color:u="default",component:p,deleteIcon:v,disabled:f=!1,icon:y,label:S,onClick:P,onDelete:k,onKeyDown:j,onKeyUp:C,size:I="medium",variant:F="filled",tabIndex:R,skipFocusWhenDisabled:T=!1,...E}=s,N=l.useRef(null),z=Uo(N,n),pe=M=>{M.stopPropagation(),k&&k(M)},Y=M=>{M.currentTarget===M.target&&Wn(M)&&M.preventDefault(),j&&j(M)},Z=M=>{M.currentTarget===M.target&&k&&Wn(M)&&k(M),C&&C(M)},H=d!==!1&&P?!0:d,h=H||k?To:p||"div",b={...s,component:h,disabled:f,size:I,color:u,iconColor:l.isValidElement(y)&&y.props.color||u,onDelete:!!k,clickable:H,variant:F},c=Na(b),U=h===To?{component:p||"div",focusVisibleClassName:c.focusVisible,...k&&{disableRipple:!0}}:{};let V=null;k&&(V=v&&l.isValidElement(v)?l.cloneElement(v,{className:Q(v.props.className,c.deleteIcon),onClick:pe}):o.jsx($a,{className:Q(c.deleteIcon),onClick:pe}));let ne=null;i&&l.isValidElement(i)&&(ne=l.cloneElement(i,{className:Q(c.avatar,i.props.className)}));let le=null;return y&&l.isValidElement(y)&&(le=l.cloneElement(y,{className:Q(c.icon,y.props.className)})),o.jsxs(Oa,{as:h,className:Q(c.root,a),disabled:H&&f?!0:void 0,onClick:P,onKeyDown:Y,onKeyUp:Z,ref:z,tabIndex:T&&f?-1:R,ownerState:b,...U,...E,children:[ne||le,o.jsx(Aa,{className:Q(c.label),ownerState:b,children:S}),V]})});function Ea(e){return je("MuiAutocomplete",e)}const K=we("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Vn,Hn;const Ba=e=>{const{classes:t,disablePortal:n,expanded:s,focused:i,fullWidth:a,hasClearIcon:d,hasPopupIcon:u,inputFocused:p,popupOpen:v,size:f}=e,y={root:["root",s&&"expanded",i&&"focused",a&&"fullWidth",d&&"hasClearIcon",u&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",p&&"inputFocused"],tag:["tag",`tagSize${L(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",v&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ye(y,Ea,t)},za=A("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:s,hasClearIcon:i,hasPopupIcon:a,inputFocused:d,size:u}=n;return[{[`& .${K.tag}`]:t.tag},{[`& .${K.tag}`]:t[`tagSize${L(u)}`]},{[`& .${K.inputRoot}`]:t.inputRoot},{[`& .${K.input}`]:t.input},{[`& .${K.input}`]:d&&t.inputFocused},t.root,s&&t.fullWidth,a&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${K.focused} .${K.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${K.clearIndicator}`]:{visibility:"visible"}},[`& .${K.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${K.inputRoot}`]:{[`.${K.hasPopupIcon}&, .${K.hasClearIcon}&`]:{paddingRight:30},[`.${K.hasPopupIcon}.${K.hasClearIcon}&`]:{paddingRight:56},[`& .${K.input}`]:{width:0,minWidth:30}},[`& .${en.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${en.root}.${Et.sizeSmall}`]:{[`& .${en.input}`]:{padding:"2px 4px 3px 0"}},[`& .${vt.root}`]:{padding:9,[`.${K.hasPopupIcon}&, .${K.hasClearIcon}&`]:{paddingRight:39},[`.${K.hasPopupIcon}.${K.hasClearIcon}&`]:{paddingRight:65},[`& .${K.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${K.endAdornment}`]:{right:9}},[`& .${vt.root}.${Et.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${K.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${dt.root}`]:{paddingTop:19,paddingLeft:8,[`.${K.hasPopupIcon}&, .${K.hasClearIcon}&`]:{paddingRight:39},[`.${K.hasPopupIcon}.${K.hasClearIcon}&`]:{paddingRight:65},[`& .${dt.input}`]:{padding:"7px 4px"},[`& .${K.endAdornment}`]:{right:9}},[`& .${dt.root}.${Et.sizeSmall}`]:{paddingBottom:1,[`& .${dt.input}`]:{padding:"2.5px 4px"}},[`& .${Et.hiddenLabel}`]:{paddingTop:8},[`& .${dt.root}.${Et.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${K.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${dt.root}.${Et.hiddenLabel}.${Et.sizeSmall}`]:{[`& .${K.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${K.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${K.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${K.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${K.inputRoot}`]:{flexWrap:"wrap"}}}]}),Da=A("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Wa=A(qe,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Va=A(qe,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Ha=A(rs,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${K.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(ue(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),_a=A(Vo,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(ue(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Ua=A("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(ue(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Ka=A("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(ue(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),qa=A("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(ue(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${K.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${K.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${K.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${K.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${K.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Ga=A(cn,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(ue(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Ya=A("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${K.option}`]:{paddingLeft:24}}),Xa=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:a=!1,autoSelect:d=!1,blurOnSelect:u=!1,ChipProps:p,className:v,clearIcon:f=Vn||(Vn=o.jsx(hr,{fontSize:"small"})),clearOnBlur:y=!s.freeSolo,clearOnEscape:S=!1,clearText:P="Clear",closeText:k="Close",componentsProps:j,defaultValue:C=s.multiple?[]:null,disableClearable:I=!1,disableCloseOnSelect:F=!1,disabled:R=!1,disabledItemsFocusable:T=!1,disableListWrap:E=!1,disablePortal:N=!1,filterOptions:z,filterSelectedOptions:pe=!1,forcePopupIcon:Y="auto",freeSolo:Z=!1,fullWidth:H=!1,getLimitTagsText:h=re=>`+${re}`,getOptionDisabled:b,getOptionKey:c,getOptionLabel:U,isOptionEqualToValue:V,groupBy:ne,handleHomeEndKeys:le=!s.freeSolo,id:M,includeInputInList:Fe=!1,inputValue:me,limitTags:rt=-1,ListboxComponent:Ee,ListboxProps:fe,loading:X=!1,loadingText:Te="Loading…",multiple:We=!1,noOptionsText:he="No options",onChange:ie,onClose:Be,onHighlightChange:ut,onInputChange:ve,onOpen:Ae,open:pt,openOnFocus:Se=!1,openText:ot="Open",options:O,PaperComponent:Ve,PopperComponent:ee,popupIcon:ke=Hn||(Hn=o.jsx(As,{})),readOnly:He=!1,renderGroup:Me,renderInput:nt,renderOption:$e,renderTags:Ge,selectOnFocus:Dt=!s.freeSolo,size:it="medium",slots:at={},slotProps:xe={},value:se,...Pe}=s,{getRootProps:lt,getInputProps:st,getInputLabelProps:bt,getPopupIndicatorProps:x,getClearProps:w,getTagProps:B,getListboxProps:W,getOptionProps:ae,value:be,dirty:_e,expanded:Ye,id:yt,popupOpen:Xe,focused:ao,focusedTag:lo,anchorEl:$t,setAnchorEl:mo,inputValue:xo,groupedOptions:Lt}=Ia({...s,componentName:"Autocomplete"}),Xt=!I&&!R&&_e&&!He,Jt=(!Z||Y===!0)&&Y!==!1,{onMouseDown:vo}=st(),{ref:co,...yo}=W(),St=U||(re=>re.label??re),Le={...s,disablePortal:N,expanded:Ye,focused:ao,fullWidth:H,getOptionLabel:St,hasClearIcon:Xt,hasPopupIcon:Jt,inputFocused:lo===-1,popupOpen:Xe,size:it},ce=Ba(Le),ft={slots:{paper:Ve,popper:ee,...at},slotProps:{chip:p,listbox:fe,...j,...xe}},[Qt,m]=Bt("listbox",{elementType:qa,externalForwardedProps:ft,ownerState:Le,className:ce.listbox,additionalProps:yo,ref:co}),[g,$]=Bt("paper",{elementType:Vo,externalForwardedProps:ft,ownerState:Le,className:ce.paper}),[_,G]=Bt("popper",{elementType:rs,externalForwardedProps:ft,ownerState:Le,className:ce.popper,additionalProps:{disablePortal:N,style:{width:$t?$t.clientWidth:null},role:"presentation",anchorEl:$t,open:Xe}});let de;if(We&&be.length>0){const re=gt=>({className:ce.tag,disabled:R,...B(gt)});Ge?de=Ge(be,re,Le):de=be.map((gt,wt)=>{const{key:Nt,...Lo}=re({index:wt});return o.jsx(Ma,{label:St(gt),size:it,...Lo,...ft.slotProps.chip},Nt)})}if(rt>-1&&Array.isArray(de)){const re=de.length-rt;!ao&&re>0&&(de=de.splice(0,rt),de.push(o.jsx("span",{className:ce.tag,children:h(re)},de.length)))}const et=Me||(re=>o.jsxs("li",{children:[o.jsx(Ga,{className:ce.groupLabel,ownerState:Le,component:"div",children:re.group}),o.jsx(Ya,{className:ce.groupUl,ownerState:Le,children:re.children})]},re.key)),$o=$e||((re,gt)=>{const{key:wt,...Nt}=re;return o.jsx("li",{...Nt,children:St(gt)},wt)}),So=(re,gt)=>{const wt=ae({option:re,index:gt});return $o({...wt,className:ce.option},re,{selected:wt["aria-selected"],index:gt,inputValue:xo},Le)},Wt=ft.slotProps.clearIndicator,po=ft.slotProps.popupIndicator;return o.jsxs(l.Fragment,{children:[o.jsx(za,{ref:n,className:Q(ce.root,v),ownerState:Le,...lt(Pe),children:nt({id:yt,disabled:R,fullWidth:!0,size:it==="small"?"small":void 0,InputLabelProps:bt(),InputProps:{ref:mo,className:ce.inputRoot,startAdornment:de,onMouseDown:re=>{re.target===re.currentTarget&&vo(re)},...(Xt||Jt)&&{endAdornment:o.jsxs(Da,{className:ce.endAdornment,ownerState:Le,children:[Xt?o.jsx(Wa,{...w(),"aria-label":P,title:P,ownerState:Le,...Wt,className:Q(ce.clearIndicator,Wt==null?void 0:Wt.className),children:f}):null,Jt?o.jsx(Va,{...x(),disabled:R,"aria-label":Xe?k:ot,title:Xe?k:ot,ownerState:Le,...po,className:Q(ce.popupIndicator,po==null?void 0:po.className),children:ke}):null]})}},inputProps:{className:ce.input,disabled:R,readOnly:He,...st()}})}),$t?o.jsx(Ha,{as:_,...G,children:o.jsxs(_a,{as:g,...$,children:[X&&Lt.length===0?o.jsx(Ua,{className:ce.loading,ownerState:Le,children:Te}):null,Lt.length===0&&!Z&&!X?o.jsx(Ka,{className:ce.noOptions,ownerState:Le,role:"presentation",onMouseDown:re=>{re.preventDefault()},children:he}):null,Lt.length>0?o.jsx(Qt,{as:Ee,...m,children:Lt.map((re,gt)=>ne?et({key:re.key,group:re.group,children:re.options.map((wt,Nt)=>So(wt,re.index+Nt))}):So(re,gt))}):null]})}):null]})});function Ja(e){return je("MuiTab",e)}const xt=we("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Qa=e=>{const{classes:t,textColor:n,fullWidth:s,wrapped:i,icon:a,label:d,selected:u,disabled:p}=e,v={root:["root",a&&d&&"labelIcon",`textColor${L(n)}`,s&&"fullWidth",i&&"wrapped",u&&"selected",p&&"disabled"],icon:["iconWrapper","icon"]};return ye(v,Ja,t)},Za=A(To,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${L(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${xt.iconWrapper}`]:t.iconWrapper},{[`& .${xt.icon}`]:t.icon}]}})(ue(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${xt.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${xt.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${xt.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${xt.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${xt.selected}`]:{opacity:1},[`&.${xt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${xt.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${xt.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${xt.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${xt.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),to=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:d=!1,fullWidth:u,icon:p,iconPosition:v="top",indicator:f,label:y,onChange:S,onClick:P,onFocus:k,selected:j,selectionFollowsFocus:C,textColor:I="inherit",value:F,wrapped:R=!1,...T}=s,E={...s,disabled:a,disableFocusRipple:d,selected:j,icon:!!p,iconPosition:v,label:!!y,fullWidth:u,textColor:I,wrapped:R},N=Qa(E),z=p&&y&&l.isValidElement(p)?l.cloneElement(p,{className:Q(N.icon,p.props.className)}):p,pe=Z=>{!j&&S&&S(Z,F),P&&P(Z)},Y=Z=>{C&&!j&&S&&S(Z,F),k&&k(Z)};return o.jsxs(Za,{focusRipple:!d,className:Q(N.root,i),ref:n,role:"tab","aria-selected":j,disabled:a,onClick:pe,onFocus:Y,ownerState:E,tabIndex:j?0:-1,...T,children:[v==="top"||v==="start"?o.jsxs(l.Fragment,{children:[z,y]}):o.jsxs(l.Fragment,{children:[y,z]}),f]})});function el(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function tl(e,t,n,s={},i=()=>{}){const{ease:a=el,duration:d=300}=s;let u=null;const p=t[e];let v=!1;const f=()=>{v=!0},y=S=>{if(v){i(new Error("Animation cancelled"));return}u===null&&(u=S);const P=Math.min(1,(S-u)/d);if(t[e]=a(P)*(n-p)+p,P>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(y)};return p===n?(i(new Error("Element already at target position")),f):(requestAnimationFrame(y),f)}const ol={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function nl(e){const{onChange:t,...n}=e,s=l.useRef(),i=l.useRef(null),a=()=>{s.current=i.current.offsetHeight-i.current.clientHeight};return lr(()=>{const d=ms(()=>{const p=s.current;a(),p!==s.current&&t(s.current)}),u=is(i.current);return u.addEventListener("resize",d),()=>{d.clear(),u.removeEventListener("resize",d)}},[t]),l.useEffect(()=>{a(),t(s.current)},[t]),o.jsx("div",{style:ol,...n,ref:i})}const sl=Ne(o.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),rl=Ne(o.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function il(e){return je("MuiTabScrollButton",e)}const al=we("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ll=e=>{const{classes:t,orientation:n,disabled:s}=e;return ye({root:["root",n,s&&"disabled"]},il,t)},cl=A(To,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${al.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),dl=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:d={},direction:u,orientation:p,disabled:v,...f}=s,y=as(),S={isRtl:y,...s},P=ll(S),k=a.StartScrollButtonIcon??sl,j=a.EndScrollButtonIcon??rl,C=Ho({elementType:k,externalSlotProps:d.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S}),I=Ho({elementType:j,externalSlotProps:d.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S});return o.jsx(cl,{component:"div",className:Q(P.root,i),ref:n,role:null,ownerState:S,tabIndex:null,...f,style:{...f.style,...p==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${y?-90:90}deg)`}},children:u==="left"?o.jsx(k,{...C}):o.jsx(j,{...I})})});function ul(e){return je("MuiTabs",e)}const nn=we("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),_n=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Un=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Bo=(e,t,n)=>{let s=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(s)return;s=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=n(e,i);else{i.focus();return}}},pl=e=>{const{vertical:t,fixed:n,hideScrollbar:s,scrollableX:i,scrollableY:a,centered:d,scrollButtonsHideMobile:u,classes:p}=e;return ye({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",s&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",d&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},ul,p)},bl=A("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${nn.scrollButtons}`]:t.scrollButtons},{[`& .${nn.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(ue(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${nn.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),fl=A("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),gl=A("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),hl=A("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(ue(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),ml=A(nl)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Kn={},xl=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiTabs"}),i=ls(),a=as(),{"aria-label":d,"aria-labelledby":u,action:p,centered:v=!1,children:f,className:y,component:S="div",allowScrollButtonsMobile:P=!1,indicatorColor:k="primary",onChange:j,orientation:C="horizontal",ScrollButtonComponent:I=dl,scrollButtons:F="auto",selectionFollowsFocus:R,slots:T={},slotProps:E={},TabIndicatorProps:N={},TabScrollButtonProps:z={},textColor:pe="primary",value:Y,variant:Z="standard",visibleScrollbar:H=!1,...h}=s,b=Z==="scrollable",c=C==="vertical",U=c?"scrollTop":"scrollLeft",V=c?"top":"left",ne=c?"bottom":"right",le=c?"clientHeight":"clientWidth",M=c?"height":"width",Fe={...s,component:S,allowScrollButtonsMobile:P,indicatorColor:k,orientation:C,vertical:c,scrollButtons:F,textColor:pe,variant:Z,visibleScrollbar:H,fixed:!b,hideScrollbar:b&&!H,scrollableX:b&&!c,scrollableY:b&&c,centered:v&&!b,scrollButtonsHideMobile:!P},me=pl(Fe),rt=Ho({elementType:T.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:Fe}),Ee=Ho({elementType:T.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:Fe}),[fe,X]=l.useState(!1),[Te,We]=l.useState(Kn),[he,ie]=l.useState(!1),[Be,ut]=l.useState(!1),[ve,Ae]=l.useState(!1),[pt,Se]=l.useState({overflow:"hidden",scrollbarWidth:0}),ot=new Map,O=l.useRef(null),Ve=l.useRef(null),ee=()=>{const x=O.current;let w;if(x){const W=x.getBoundingClientRect();w={clientWidth:x.clientWidth,scrollLeft:x.scrollLeft,scrollTop:x.scrollTop,scrollWidth:x.scrollWidth,top:W.top,bottom:W.bottom,left:W.left,right:W.right}}let B;if(x&&Y!==!1){const W=Ve.current.children;if(W.length>0){const ae=W[ot.get(Y)];B=ae?ae.getBoundingClientRect():null}}return{tabsMeta:w,tabMeta:B}},ke=no(()=>{const{tabsMeta:x,tabMeta:w}=ee();let B=0,W;c?(W="top",w&&x&&(B=w.top-x.top+x.scrollTop)):(W=a?"right":"left",w&&x&&(B=(a?-1:1)*(w[W]-x[W]+x.scrollLeft)));const ae={[W]:B,[M]:w?w[M]:0};if(typeof Te[W]!="number"||typeof Te[M]!="number")We(ae);else{const be=Math.abs(Te[W]-ae[W]),_e=Math.abs(Te[M]-ae[M]);(be>=1||_e>=1)&&We(ae)}}),He=(x,{animation:w=!0}={})=>{w?tl(U,O.current,x,{duration:i.transitions.duration.standard}):O.current[U]=x},Me=x=>{let w=O.current[U];c?w+=x:w+=x*(a?-1:1),He(w)},nt=()=>{const x=O.current[le];let w=0;const B=Array.from(Ve.current.children);for(let W=0;W<B.length;W+=1){const ae=B[W];if(w+ae[le]>x){W===0&&(w=x);break}w+=ae[le]}return w},$e=()=>{Me(-1*nt())},Ge=()=>{Me(nt())},Dt=l.useCallback(x=>{Se({overflow:null,scrollbarWidth:x})},[]),it=()=>{const x={};x.scrollbarSizeListener=b?o.jsx(ml,{onChange:Dt,className:Q(me.scrollableX,me.hideScrollbar)}):null;const B=b&&(F==="auto"&&(he||Be)||F===!0);return x.scrollButtonStart=B?o.jsx(I,{slots:{StartScrollButtonIcon:T.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:rt},orientation:C,direction:a?"right":"left",onClick:$e,disabled:!he,...z,className:Q(me.scrollButtons,z.className)}):null,x.scrollButtonEnd=B?o.jsx(I,{slots:{EndScrollButtonIcon:T.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ee},orientation:C,direction:a?"left":"right",onClick:Ge,disabled:!Be,...z,className:Q(me.scrollButtons,z.className)}):null,x},at=no(x=>{const{tabsMeta:w,tabMeta:B}=ee();if(!(!B||!w)){if(B[V]<w[V]){const W=w[U]+(B[V]-w[V]);He(W,{animation:x})}else if(B[ne]>w[ne]){const W=w[U]+(B[ne]-w[ne]);He(W,{animation:x})}}}),xe=no(()=>{b&&F!==!1&&Ae(!ve)});l.useEffect(()=>{const x=ms(()=>{O.current&&ke()});let w;const B=be=>{be.forEach(_e=>{_e.removedNodes.forEach(Ye=>{w==null||w.unobserve(Ye)}),_e.addedNodes.forEach(Ye=>{w==null||w.observe(Ye)})}),x(),xe()},W=is(O.current);W.addEventListener("resize",x);let ae;return typeof ResizeObserver<"u"&&(w=new ResizeObserver(x),Array.from(Ve.current.children).forEach(be=>{w.observe(be)})),typeof MutationObserver<"u"&&(ae=new MutationObserver(B),ae.observe(Ve.current,{childList:!0})),()=>{x.clear(),W.removeEventListener("resize",x),ae==null||ae.disconnect(),w==null||w.disconnect()}},[ke,xe]),l.useEffect(()=>{const x=Array.from(Ve.current.children),w=x.length;if(typeof IntersectionObserver<"u"&&w>0&&b&&F!==!1){const B=x[0],W=x[w-1],ae={root:O.current,threshold:.99},be=Xe=>{ie(!Xe[0].isIntersecting)},_e=new IntersectionObserver(be,ae);_e.observe(B);const Ye=Xe=>{ut(!Xe[0].isIntersecting)},yt=new IntersectionObserver(Ye,ae);return yt.observe(W),()=>{_e.disconnect(),yt.disconnect()}}},[b,F,ve,f==null?void 0:f.length]),l.useEffect(()=>{X(!0)},[]),l.useEffect(()=>{ke()}),l.useEffect(()=>{at(Kn!==Te)},[at,Te]),l.useImperativeHandle(p,()=>({updateIndicator:ke,updateScrollButtons:xe}),[ke,xe]);const se=o.jsx(hl,{...N,className:Q(me.indicator,N.className),ownerState:Fe,style:{...Te,...N.style}});let Pe=0;const lt=l.Children.map(f,x=>{if(!l.isValidElement(x))return null;const w=x.props.value===void 0?Pe:x.props.value;ot.set(w,Pe);const B=w===Y;return Pe+=1,l.cloneElement(x,{fullWidth:Z==="fullWidth",indicator:B&&!fe&&se,selected:B,selectionFollowsFocus:R,onChange:j,textColor:pe,value:w,...Pe===1&&Y===!1&&!x.props.tabIndex?{tabIndex:0}:{}})}),st=x=>{const w=Ve.current,B=ss(w).activeElement;if(B.getAttribute("role")!=="tab")return;let ae=C==="horizontal"?"ArrowLeft":"ArrowUp",be=C==="horizontal"?"ArrowRight":"ArrowDown";switch(C==="horizontal"&&a&&(ae="ArrowRight",be="ArrowLeft"),x.key){case ae:x.preventDefault(),Bo(w,B,Un);break;case be:x.preventDefault(),Bo(w,B,_n);break;case"Home":x.preventDefault(),Bo(w,null,_n);break;case"End":x.preventDefault(),Bo(w,null,Un);break}},bt=it();return o.jsxs(bl,{className:Q(me.root,y),ownerState:Fe,ref:n,as:S,...h,children:[bt.scrollButtonStart,bt.scrollbarSizeListener,o.jsxs(fl,{className:me.scroller,ownerState:Fe,style:{overflow:pt.overflow,[c?`margin${a?"Left":"Right"}`:"marginBottom"]:H?void 0:-pt.scrollbarWidth},ref:O,children:[o.jsx(gl,{"aria-label":d,"aria-labelledby":u,"aria-orientation":C==="vertical"?"vertical":null,className:me.flexContainer,ownerState:Fe,onKeyDown:st,ref:Ve,role:"tablist",children:lt}),fe&&se]}),bt.scrollButtonEnd]})}),vl=['"',"*","_","\\",":"],qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",yl=()=>{let e="";for(let t=0;t<8;++t)e+=qn.charAt(Math.floor(Math.random()*qn.length));return e},Sl=e=>{const t=/(.*)\.(.*)/.exec(e);if(t===null||t.length<3)return e;const n=t[1],s=t[2];return`${n}_${yl()}.${s}`},Es="<([^/ >])*[^>]*>(.*?)</\\1>",kl=e=>{const t=new RegExp(Es);let n=e,s=[e];for(;;){const i=t.exec(n);if(i===null||i.length<3)break;n=i[2],s.push(n)}return s},Cl=(e,t)=>{const n=new RegExp(Es,"ig"),s=t.replaceAll("<br>","");let i=e;for(;;){const a=n.exec(s);if(a===null||a.length<3)break;let d=i;if(!i.includes(a[0])){const u=kl(a[2]);for(const p of u)if(d=i.replace(p,a[0]),d!==i)break}i=d}return i};async function jl(e,t,n){const s=new wl(t),i=mr(e.subtitleFileName,e.mediaTimestamp);let a=e.audio===void 0?void 0:xr.fromBase64(i,e.subtitle.start,e.subtitle.end,e.audio.playbackRate??1,e.audio.base64,e.audio.extension,e.audio.error);return await s.export({text:e.text??Ao(e.subtitle,e.surroundingSubtitles),track1:Ao(e.subtitle,e.surroundingSubtitles,0),track2:Ao(e.subtitle,e.surroundingSubtitles,1),track3:Ao(e.subtitle,e.surroundingSubtitles,2),definition:e.definition,audioClip:a,image:e.image===void 0?void 0:vr.fromBase64(i,e.subtitle.start,e.image.base64,e.image.extension,e.image.error),word:e.word,source:i,url:e.url,customFieldValues:e.customFieldValues??{},tags:t.tags,mode:n})}class wl{constructor(t,n=new Nr){ht(this,"settingsProvider");ht(this,"fetcher");this.settingsProvider=t,this.fetcher=n}async deckNames(t){return(await this._executeAction("deckNames",null,t)).result}async modelNames(t){return(await this._executeAction("modelNames",null,t)).result}async modelFieldNames(t,n){return(await this._executeAction("modelFieldNames",{modelName:t},n)).result}async findNotesWithWord(t,n){return(await this._executeAction("findNotes",{query:this.settingsProvider.wordField+":"+this._escapeQuery(t)},n)).result}async findNotesWithWordGui(t,n){return(await this._executeAction("guiBrowse",{query:this.settingsProvider.wordField+":"+this._escapeQuery(t)},n)).result}async createDeck(t,n){return(await this._executeAction("createDeck",{deck:t},n)).result}async createModel(t,n){return(await this._executeAction("createModel",t,n)).result}_escapeQuery(t){let n="";for(let s=0;s<t.length;++s){const i=t[s];vl.includes(i)?n+=`\\${i}`:n+=i}return`"${n}"`}async requestPermission(t){return(await this._executeAction("requestPermission",null,t)).result}async version(t){return(await this._executeAction("version",null,t)).result}async export({text:t,track1:n,track2:s,track3:i,definition:a,audioClip:d,image:u,word:p,source:v,url:f,customFieldValues:y,tags:S,mode:P,ankiConnectUrl:k}){const j={};if(this._appendField(j,this.settingsProvider.sentenceField,t,!0),this._appendField(j,this.settingsProvider.track1Field,n,!0),this._appendField(j,this.settingsProvider.track2Field,s,!0),this._appendField(j,this.settingsProvider.track3Field,i,!0),this._appendField(j,this.settingsProvider.definitionField,a,!0),this._appendField(j,this.settingsProvider.wordField,p,!1),this._appendField(j,this.settingsProvider.sourceField,v,!1),this._appendField(j,this.settingsProvider.urlField,f,!1),y)for(const R of Object.keys(y))this._appendField(j,this.settingsProvider.customAnkiFields[R],y[R],!0);const C={note:{deckName:this.settingsProvider.deck,modelName:this.settingsProvider.noteType,tags:S,options:{allowDuplicate:!1,duplicateScope:"deck",duplicateScopeOptions:{deckName:this.settingsProvider.deck,checkChildren:!1}}}},I=P==="gui",F=P==="updateLast";if(this.settingsProvider.audioField&&d&&d.error===void 0){const R=this._sanitizeFileName(d.name),T=await d.base64();if(T)if(I||F){const E=(await this._storeMediaFile(R,T,k)).result;this._appendField(j,this.settingsProvider.audioField,`[sound:${E}]`,!1)}else C.note.audio={filename:R,data:T,fields:[this.settingsProvider.audioField]}}if(this.settingsProvider.imageField&&u&&u.error===void 0){const R=this._sanitizeFileName(u.name),T=await u.base64();if(T)if(I||F){const E=(await this._storeMediaFile(R,T,k)).result;this._appendField(j,this.settingsProvider.imageField,`<img src="${E}">`,!1)}else C.note.picture={filename:R,data:T,fields:[this.settingsProvider.imageField]}}switch(C.note.fields=j,P){case"gui":return(await this._executeAction("guiAddCards",C,k)).result;case"updateLast":const R=(await this._executeAction("findNotes",{query:"added:1"},k)).result.sort();if(R.length===0)throw new Error("Could not find note to update");const T=R[R.length-1];C.note.id=T;const E=await this._executeAction("notesInfo",{notes:[T]});if(E.result.length>0&&E.result[0].noteId===T){const N=E.result[0];if(this._inheritHtmlMarkupFromField("sentenceField",N,C),this._inheritHtmlMarkupFromField("track1Field",N,C),this._inheritHtmlMarkupFromField("track2Field",N,C),this._inheritHtmlMarkupFromField("track3Field",N,C),await this._executeAction("updateNoteFields",C,k),S.length>0&&await this._executeAction("addTags",{notes:[T],tags:S.join(" ")},k),!this.settingsProvider.wordField||!N.fields)return N.noteId;const z=N.fields[this.settingsProvider.wordField];return!z||!z.value?N.noteId:z.value}throw new Error("Could not update last card because the card info could not be fetched");case"default":return(await this._executeAction("addNote",C,k)).result;default:throw new Error("Unknown export mode: "+P)}}_appendField(t,n,s,i){if(!n||!s)return;let a=i?s.split(`
`).join("<br>"):s;const d=t[n];d&&(a=d+"<br>"+a),t[n]=a}_sanitizeFileName(t){return typeof t.toWellFormed=="function"&&(t=t.toWellFormed()),Tr(t,{replacement:"_"})}async _storeMediaFile(t,n,s){return this._executeAction("storeMediaFile",{filename:Sl(t),data:n,deleteExisting:!1},s)}_inheritHtmlMarkupFromField(t,n,s){var a;const i=this.settingsProvider[t];i&&n.fields&&typeof((a=n.fields[i])==null?void 0:a.value)=="string"&&typeof s.note.fields[i]=="string"&&(s.note.fields[i]=Cl(s.note.fields[i],n.fields[i].value))}async _executeAction(t,n,s){const i={action:t,version:6};n&&(i.params=n);const a=await this.fetcher.fetch(s||this.settingsProvider.ankiConnectUrl,i);if(a.error)throw new Error(a.error);return a}}class Pl{constructor(){ht(this,"_socket");ht(this,"_pingInterval");ht(this,"_lastPingTimestampMs");ht(this,"_pongReceived",!1);ht(this,"_pingPromises",[]);ht(this,"_connectPromise");ht(this,"onMineSubtitle");ht(this,"onLoadSubtitles");ht(this,"onSeekTimestamp")}get socket(){return this._socket}async bind(t){this._pingInterval&&clearInterval(this._pingInterval),this._pingInterval=setInterval(()=>{var n;if(this._lastPingTimestampMs!==void 0&&!this._pongReceived||this._socket&&this._socket.readyState!==((n=this._socket)==null?void 0:n.OPEN)){console.log("Did not receive pong - reconnecting");for(const s of this._pingPromises)s.reject("Timed out");this._pingPromises=[],this._connect(t)}else this.ping().catch(console.info)},1e4),await this._connect(t)}async _connect(t){if(this._disconnect(),!t)throw new Error("Invalid URL");return new Promise((n,s)=>{this._connectPromise={resolve:n,reject:s};const i=new WebSocket(t);i.onmessage=async a=>{var d,u,p,v,f,y;if(a.data==="PONG"){this._pongReceived=!0;for(const S of this._pingPromises)S.resolve(void 0);this._pingPromises=[]}else{const S=JSON.parse(a.data);if(S.command==="mine-subtitle"){const P=S.messageId,k=await((d=this.onMineSubtitle)==null?void 0:d.call(this,S))??!1,j={command:"response",messageId:P,body:{published:k}};(u=this._socket)==null||u.send(JSON.stringify(j))}else if(S.command==="load-subtitles"){const P=S.messageId;await((p=this.onLoadSubtitles)==null?void 0:p.call(this,S));const k={command:"response",messageId:P,body:{}};(v=this._socket)==null||v.send(JSON.stringify(k))}else if(S.command==="seek-timestamp"){const P=S.messageId;await((f=this.onSeekTimestamp)==null?void 0:f.call(this,S));const k={command:"response",messageId:P,body:{}};(y=this._socket)==null||y.send(JSON.stringify(k))}}},i.onclose=a=>{var d;console.log(`Socket closed - reason: ${a.reason}`),(d=this._connectPromise)==null||d.reject("Socket closed"),this._connectPromise=void 0},i.onerror=()=>{var a;console.log("Socket error"),(a=this._connectPromise)==null||a.reject("Socket error"),this._connectPromise=void 0},i.onopen=()=>{var a;this.ping().catch(console.error),(a=this._connectPromise)==null||a.resolve(void 0),this._connectPromise=void 0},this._socket=i})}async ping(){return new Promise((t,n)=>{if(!this._socket||this._socket.readyState!==this._socket.OPEN){n("Not connected");return}this._socket.send("PING"),this._lastPingTimestampMs=Date.now(),this._pongReceived=!1,this._pingPromises.push({resolve:t,reject:n})})}_disconnect(){this._socket&&(this._socket.readyState!==this._socket.CLOSED&&this._socket.readyState!==this._socket.CLOSING&&this._socket.close(),this._socket=void 0)}unbind(){var t;this._disconnect(),this._pingInterval!==void 0&&(clearInterval(this._pingInterval),this._pingInterval=void 0);for(const n of this._pingPromises)n.reject("Disconnecting");this._pingPromises=[],this._lastPingTimestampMs=void 0,this._pongReceived=!1,(t=this._connectPromise)==null||t.reject("Disconnecting"),this._connectPromise=void 0,this.onMineSubtitle=void 0,this.onSeekTimestamp=void 0,this.onLoadSubtitles=void 0}}const Il=3;function Fl({track:e,onTrackSelected:t}){const{t:n}=zt();return o.jsx(o.Fragment,{children:o.jsxs(q,{select:!0,fullWidth:!0,color:"primary",variant:"outlined",size:"small",label:n("settings.subtitleTrack"),helperText:e==="all"?n("settings.subtitleTrackSelectorHelper"):void 0,value:e,onChange:s=>s.target.value==="all"?t("all"):t(Number(s.target.value)),children:[o.jsx(Gt,{value:"all",children:n("settings.allSubtitleTracks")}),[...Array(Il).keys()].map(s=>o.jsx(Gt,{value:s,children:n("settings.subtitleTrackChoice",{trackNumber:s+1})},s))]})})}const Tl=Yt(e=>({subtitlePreview:{backgroundImage:`linear-gradient(45deg, ${e.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(-45deg, ${e.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${e.palette.action.disabledBackground} 75%), linear-gradient(-45deg, transparent 75%,${e.palette.action.disabledBackground} 75%)`,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",marginTop:e.spacing(1),marginBottom:e.spacing(1),maxWidth:"100%",padding:10},subtitlePreviewInput:{border:"none",width:"100%",textAlign:"center",backgroundColor:"rgba(0,0,0,0)","&:focus":{outline:"none"}},blurred:{filter:"blur(10px)","&:hover":{filter:"none"}}})),Gn=({text:e,className:t,textSubtitleSettings:n,onTextChanged:s})=>{const{subtitleSize:i,subtitleColor:a,subtitleThickness:d,subtitleOutlineThickness:u,subtitleOutlineColor:p,subtitleShadowThickness:v,subtitleShadowColor:f,subtitleBackgroundColor:y,subtitleBackgroundOpacity:S,subtitleFontFamily:P,subtitleCustomStyles:k,subtitleBlur:j,subtitleAlignment:C}=n,I=l.useMemo(()=>yr({subtitleColor:a,subtitleSize:i,subtitleThickness:d,subtitleOutlineThickness:u,subtitleOutlineColor:p,subtitleShadowThickness:v,subtitleShadowColor:f,subtitleBackgroundOpacity:S,subtitleBackgroundColor:y,subtitleFontFamily:P,subtitleCustomStyles:k}),[a,i,d,u,p,v,f,S,y,P,k,j,C]);return o.jsx("input",{value:e,className:t,onChange:F=>s(F.target.value),style:I})};function Rl({subtitleSettings:e,text:t,track:n,onTextChanged:s}){const i=Tl(),a=R=>R.subtitleBlur?`${i.subtitlePreviewInput} ${i.blurred}`:i.subtitlePreviewInput,d=_o(e,n),{subtitleSize:u,subtitleColor:p,subtitleThickness:v,subtitleOutlineThickness:f,subtitleOutlineColor:y,subtitleShadowThickness:S,subtitleShadowColor:P,subtitleBackgroundColor:k,subtitleBackgroundOpacity:j,subtitleFontFamily:C,subtitleCustomStyles:I,subtitleBlur:F}=d;return u===void 0||p===void 0||v===void 0||f===void 0||y===void 0||S===void 0||P===void 0||k===void 0||j===void 0||C===void 0||I===void 0||F===void 0?o.jsx("div",{className:i.subtitlePreview,children:[...Array(e.subtitleTracksV2.length+1).keys()].map(R=>{const T=_o(e,R);return o.jsx(Gn,{text:t,className:a(T),textSubtitleSettings:T,onTextChanged:s},R)})}):o.jsx("div",{className:i.subtitlePreview,children:o.jsx(Gn,{text:t,className:a(d),textSubtitleSettings:d,onTextChanged:s})})}function $l(e){return je("MuiTableHead",e)}we("MuiTableHead",["root"]);const Ll=e=>{const{classes:t}=e;return ye({root:["root"]},$l,t)},Nl=A("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Ol={variant:"head"},Yn="thead",Al=l.forwardRef(function(t,n){const s=Oe({props:t,name:"MuiTableHead"}),{className:i,component:a=Yn,...d}=s,u={...s,component:a},p=Ll(u);return o.jsx(Sr.Provider,{value:Ol,children:o.jsx(Nl,{as:a,className:Q(p.root,i),ref:n,role:a===Yn?null:"rowgroup",ownerState:u,...d})})}),wo=({children:e,...t})=>o.jsx(ho,{target:"_blank",color:"textPrimary",underline:"always",...t,children:e}),zo=xs(e=>({head:{backgroundColor:e.palette.action.hover},root:{border:0}}))(vs),Xn=xs(e=>({root:{}}))(vs),Io=[{name:"react",projectLink:"https://react.dev",license:"MIT",licenseLink:"https://github.com/facebook/react/blob/v18.0.0/LICENSE",purpose:"UI"},{name:"Material UI",projectLink:"https://mui.com/material-ui",license:"MIT",licenseLink:"https://github.com/mui/material-ui/blob/v4.x/LICENSE",purpose:"UI"},{name:"Roboto",projectLink:"https://fonts.google.com/specimen/Roboto",license:"Apache 2.0",licenseLink:"https://fonts.google.com/specimen/Roboto/license",purpose:"UI"},{name:"Dexie.js",projectLink:"https://dexie.org",license:"Apache 2.0",licenseLink:"https://github.com/dexie/Dexie.js/blob/master/LICENSE",purpose:"Persistence"},{name:"flatten-interval-tree",projectLink:"https://github.com/alexbol99/flatten-interval-tree",license:"MIT",licenseLink:"https://github.com/alexbol99/flatten-interval-tree/blob/master/LICENSE",purpose:"Subtitle rendering"},{name:"srt-parser",projectLink:"https://github.com/qgustavor/srt-parser",license:"MIT",licenseLink:"https://github.com/qgustavor/srt-parser/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"ass-compiler",projectLink:"https://github.com/weizhenye/ass-compiler",license:"MIT",licenseLink:"https://github.com/weizhenye/ass-compiler/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"pgs-parser",projectLink:"https://github.com/killergerbah/pgs-parser",license:"MIT",licenseLink:"https://github.com/killergerbah/pgs-parser/blob/main/LICENSE.md",purpose:"Subtitle parsing"},{name:"fast-xml-parser",projectLink:"https://github.com/NaturalIntelligence/fast-xml-parser",license:"MIT",licenseLink:"https://github.com/NaturalIntelligence/fast-xml-parser/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"vtt.js",projectLink:"https://github.com/mozilla/vtt.js",license:"Apache 2.0",licenseLink:"https://github.com/mozilla/vtt.js/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"semver",projectLink:"https://github.com/npm/node-semver",license:"ISC",licenseLink:"https://github.com/npm/node-semver/blob/main/LICENSE",purpose:"Version string parsing"},{name:"hotkeys-js",projectLink:"https://github.com/jaywcjlove/hotkeys-js",license:"MIT",licenseLink:"https://github.com/jaywcjlove/hotkeys-js/blob/master/LICENSE",purpose:"Keyboard shortcuts"},{name:"i18next",projectLink:"https://www.i18next.com",license:"MIT",licenseLink:"https://github.com/i18next/i18next/blob/master/LICENSE",purpose:"Localization"},{name:"lamejs",projectLink:"https://lame.sourceforge.io",license:"LGPL",licenseLink:"https://github.com/zhuker/lamejs/blob/master/LICENSE",purpose:"MP3 encoding"},{name:"sanitize-filename",projectLink:"https://github.com/parshap/node-sanitize-filename",license:"ISC+WTFPL",licenseLink:"https://github.com/parshap/node-sanitize-filename/blob/master/LICENSE.md",purpose:"Filename sanitization"},{name:"uuidjs",projectLink:"https://github.com/uuidjs/uuid",license:"MIT",licenseLink:"https://github.com/uuidjs/uuid/blob/main/LICENSE.md",purpose:"UUID generation"},{name:"url",projectLink:"https://github.com/defunctzombie/node-url",license:"MIT",licenseLink:"https://github.com/defunctzombie/node-url/blob/master/LICENSE",purpose:"Polyfill"},{name:"m3u8-parser",projectLink:"https://github.com/videojs/m3u8-parser",license:"Apache 2.0",licenseLink:"https://github.com/videojs/m3u8-parser/blob/main/LICENSE",purpose:"Subtitle detection",extension:!0},{name:"mpd-parser",projectLink:"https://github.com/videojs/mpd-parser",license:"Apache 2.0",licenseLink:"https://github.com/videojs/mpd-parser/blob/main/LICENSE",purpose:"Subtitle detection",extension:!0},{name:"YouTube.js",projectLink:"https://ytjs.dev",license:"MIT",licenseLink:"https://github.com/LuanRT/YouTube.js/blob/main/LICENSE",purpose:"YouTube subtitle extraction",extension:!0}],dn={};for(const e of Io){let t=dn[e.purpose]??0;dn[e.purpose]=t+1}const Ml=({appVersion:e,extensionVersion:t})=>{const n=cr(),{t:s}=zt(),i={};return o.jsxs(rn,{p:1,style:{width:"100%"},children:[o.jsxs(rn,{style:{width:"100%",textAlign:"center"},children:[o.jsx($r,{style:{width:48,height:48}}),o.jsx("br",{}),o.jsx(wo,{variant:"h5",href:"https://github.com/killergerbah/asbplayer",children:"asbplayer"}),o.jsx("br",{}),e&&o.jsxs(o.Fragment,{children:[o.jsxs(It,{variant:"caption",children:[s("about.appVersion")," ",o.jsx(wo,{href:`https://github.com/killergerbah/asbplayer/commit/${e}`,children:e})]}),o.jsx("br",{})]}),t&&o.jsxs(It,{variant:"caption",children:[s("about.extensionVersion")," ",o.jsx(wo,{href:`https://github.com/killergerbah/asbplayer/releases/tag/v${t}`,children:t})]})]}),o.jsx("p",{}),o.jsx(It,{variant:"h5",children:s("about.license")}),o.jsx("p",{}),o.jsx(Vo,{variant:"outlined",style:{padding:n.spacing(2),height:"auto"},children:o.jsxs(It,{variant:"body2",children:["MIT License",o.jsx("br",{}),o.jsx("br",{}),"Copyright (c) 2020 R-J Lim",o.jsx("br",{}),o.jsx("br",{}),'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:',o.jsx("br",{}),o.jsx("br",{}),"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.",o.jsx("br",{}),o.jsx("br",{}),'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.']})}),o.jsx("br",{}),o.jsx("br",{}),o.jsx(It,{variant:"h5",children:s("about.deps")}),o.jsx("p",{}),o.jsx(kr,{variant:"outlined",component:Vo,style:{height:"auto"},children:o.jsxs(Cr,{style:{margin:0,padding:0},children:[o.jsx(Al,{children:o.jsxs(In,{children:[o.jsx(zo,{children:s("about.depName")}),o.jsx(zo,{children:s("about.license")}),o.jsx(zo,{children:s("about.purpose")})]})}),o.jsx(jr,{children:Io.filter(a=>!a.extension||t!==void 0).map((a,d)=>{var y;let u;i[a.purpose]===void 0?u=!1:u=!0,i[a.purpose]=!0;let p=zo,v=(y=Io[d+1])==null?void 0:y.purpose;v!==void 0&&a.purpose!==v&&(p=Xn);const f=a.purpose===Io[Io.length-1].purpose;return o.jsxs(In,{children:[o.jsxs(p,{children:[a.projectLink&&o.jsx(wo,{href:a.projectLink,children:a.name}),!a.projectLink&&a.name]}),o.jsx(p,{children:o.jsx(wo,{href:a.licenseLink,children:a.license})}),!u&&o.jsx(Xn,{style:f?{borderBottom:0}:{},rowSpan:dn[a.purpose],children:a.purpose})]},a.name)})})]})})]})},El=({show:e,disabled:t,ankiConnectUrlError:n,children:s,onConfirm:i})=>o.jsx(Ro,{show:e,disabled:t,placement:"bottom",text:o.jsxs(o.Fragment,{children:[o.jsx(ro,{i18nKey:"ftue.ankiConnect",components:[o.jsx(ho,{href:"https://ankiweb.net/shared/info/2055492159",target:"_blank",children:"AnkiConnect"},0),o.jsx(ho,{href:"https://apps.ankiweb.net/",target:"_blank",children:"Anki"},1)]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("p",{}),o.jsx(ro,{i18nKey:"ftue.ankiConnectError"})]})]}),onConfirm:i,children:s}),Bl=({noDecks:e,show:t,disabled:n,children:s,onCreateDefaultDeck:i})=>o.jsx(Ro,{show:t,placement:"bottom",disabled:n,text:o.jsxs(o.Fragment,{children:[o.jsx(ro,{i18nKey:"ftue.deck",components:[o.jsx("b",{children:"Deck"},0)]}),e&&o.jsxs(o.Fragment,{children:[o.jsx("p",{}),o.jsx(ro,{i18nKey:"ftue.defaultDeck",components:[o.jsx(ho,{href:"#",onClick:i,children:"create the default one"},0)]})]})]}),children:s}),zl=({noNoteTypes:e,show:t,disabled:n,children:s,onCreateDefaultNoteType:i})=>o.jsx(Ro,{show:t,placement:"bottom",disabled:n,text:o.jsxs(o.Fragment,{children:[o.jsx(ro,{i18nKey:"ftue.noteType",components:[o.jsx("b",{children:"Note Type"},0),o.jsx("b",{children:"Note Type"},1)]}),e&&o.jsxs(o.Fragment,{children:[o.jsx("p",{}),o.jsx(ro,{i18nKey:"ftue.defaultNoteType",components:[o.jsx(ho,{href:"#",onClick:i,children:"create the default one"},0)]}),"."]})]}),children:s}),Jn="Sentences",Qn={modelName:"Sentence Card",inOrderFields:["Sentence","Word","Definition","Image","Audio","Source","URL"],css:`.card {
  font-family: arial;
  font-size: 20px;
  text-align: center;
  color: white;
  background-color: black;
}

.image {
  width: auto;
  height: auto;
  max-width: 500px;
  max-height: 500px;
  margin-left: auto;
  margin-right: auto;
}

.front {
  font-size: 30px;
}`,cardTemplates:[{Front:'<div class="front">{{Sentence}}</div>',Back:`<div class="front">{{Sentence}}</div>
<hr id=answer>
{{Definition}}
<p/>
<div class="image">
{{Image}}
</div>
<p/>
{{Audio}}
<p/>
{{Source}}
<p/>
{{URL}}`}]},Dl=Yt(e=>({root:({smallScreen:t})=>{let n={maxHeight:"100%",height:"calc(100% - 48px)"};return t||(n={...n,flexGrow:1,display:"flex",height:"100%"}),n},tabs:({smallScreen:t})=>{let n={"& .MuiButtonBase-root":{paddingLeft:0,paddingRight:e.spacing(1)},"& .MuiTab-root":{minWidth:120}};return t||(n={...n,minWidth:120,width:120}),n},formGroup:{"& .MuiTextField-root":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},subtitleSetting:{"& .MuiTextField-root":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},subtitlePreview:{backgroundImage:`linear-gradient(45deg, ${e.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(-45deg, ${e.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${e.palette.action.disabledBackground} 75%), linear-gradient(-45deg, transparent 75%,${e.palette.action.disabledBackground} 75%)`,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",marginTop:e.spacing(1),marginBottom:e.spacing(1),maxWidth:"100%",padding:10},subtitlePreviewInput:{border:"none",width:"100%",textAlign:"center",backgroundColor:"rgba(0,0,0,0)","&:focus":{outline:"none"}},switchLabel:{justifyContent:"space-between",marginLeft:0,marginRight:-8},verticallyCentered:{display:"flex",flexDirection:"column",justifyContent:"center"}})),Wl=Yt(e=>({formControl:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),minWidth:120},root:{display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"flex-end"},hidden:{opacity:.5}}));function Vl(e){try{return new RegExp(e.trim()),!0}catch{return!1}}const ct=un.forwardRef(function({label:t,value:n,selections:s,removable:i,display:a,onDisplayChange:d,disabledDirection:u,onValueChange:p,onOrderChange:v,onRemoval:f,onOpen:y,...S},P){const k=Wl(),{t:j}=zt(),[C,I]=l.useState(!1),[F,R]=l.useState(),[T,E]=l.useState(!1),[N,z]=l.useState(),pe=h=>{I(!1),v==null||v(h)},Y=h=>{s!==void 0&&(z(h),E(!0),y==null||y())},Z=a===!1?`${k.root} ${k.hidden}`:k.root,H=s!==void 0&&n!==""&&!s.includes(n);return o.jsxs("div",{ref:P,className:Z,...S,children:[o.jsx(q,{label:t,value:n,onClick:h=>Y(h.currentTarget),onChange:h=>p(h.target.value),fullWidth:!0,error:H,helperText:H?j("settings.missingFieldError",{field:n}):"",color:"primary",InputProps:{endAdornment:o.jsxs(Ze,{style:{marginRight:-12},position:"end",children:[(i||v)&&o.jsx(qe,{onClick:h=>{h.stopPropagation(),R(h.currentTarget),I(!0)},children:o.jsx(wr,{fontSize:"small"})}),o.jsxs(qe,{disabled:!s,onClick:h=>Y(h.currentTarget),children:[T&&o.jsx(ni,{fontSize:"small"}),!T&&o.jsx(oi,{fontSize:"small"})]})]})},children:s&&["",...s].map(h=>o.jsx(Gt,{value:h,children:h===""?" ":h},h))}),o.jsx(wn,{disableEnforceFocus:!0,open:s!==void 0&&T,anchorEl:N,onClose:()=>E(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:o.jsx(Pn,{children:s&&["",...s].map(h=>o.jsx(ko,{disablePadding:!0,children:o.jsx(Co,{onClick:()=>{p(h),E(!1)},children:h===""?" ":h})},h))})}),C&&o.jsx(wn,{disableEnforceFocus:!0,open:C,anchorEl:F,onClose:()=>I(!1),anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"right"},children:o.jsxs(Pn,{children:[u!==1&&v!==void 0&&o.jsx(ko,{disablePadding:!0,onClick:()=>pe(1),children:o.jsxs(Co,{children:[o.jsx(Mo,{children:o.jsx(Ci,{fontSize:"small"})}),o.jsx(Oo,{children:j("settings.moveUpInCardCreator")})]})}),a!==void 0&&d!==void 0&&o.jsx(ko,{disablePadding:!0,onClick:()=>d(!a),children:o.jsxs(Co,{children:[o.jsxs(Mo,{children:[a===!1&&o.jsx(Pi,{fontSize:"small"}),a===!0&&o.jsx(wi,{fontSize:"small"})]}),o.jsx(Oo,{children:j(a?"settings.hideInCardCreator":"settings.showInCardCreator")})]})}),u!==2&&v!==void 0&&o.jsx(ko,{disablePadding:!0,onClick:()=>pe(2),children:o.jsxs(Co,{children:[o.jsx(Mo,{children:o.jsx(ji,{fontSize:"small"})}),o.jsx(Oo,{children:j("settings.moveDownInCardCreator")})]})}),i&&o.jsx(ko,{disablePadding:!0,onClick:()=>f==null?void 0:f(),children:o.jsxs(Co,{children:[o.jsx(Mo,{children:o.jsx(pn,{fontSize:"small"})}),o.jsx(Oo,{children:j("action.delete")})]})})]})})]})}),Hl=cs.isMacOs?{}:{"⌃":"ctrl","⇧":"shift","⌥":"alt"},Zn=["⌃","⇧","⌥","ctrl","shift","alt","option","control","command","⌘"],_l=Yt(e=>({container:{marginBottom:e.spacing(1)},labelItem:{marginTop:e.spacing(1)}}));function Ul({label:e,keys:t,boundViaChrome:n,onKeysChange:s,onOpenExtensionShortcuts:i}){const{t:a}=zt(),d=_l(),[u,p]=l.useState(t),v=l.useRef();v.current=u;const f=l.useRef();f.current=s;const[y,S]=l.useState(!1);l.useEffect(()=>p(t),[t]);const P=l.useCallback(I=>{if(I.nativeEvent.detail!==0){if(n){i();return}p(""),S(!0)}},[i,n]),k=l.useRef(null);l.useEffect(()=>{if(!y)return;const I=F=>{if(F.type==="keydown"){const R=tn.getPressedKeyString();p(R.map(T=>Hl[T]??T).sort((T,E)=>{const N=Zn.includes(T),z=Zn.includes(E);return N&&!z?-1:!N&&z?1:0}).join("+"))}else F.type==="keyup"&&(S(!1),v.current&&f.current(v.current))};return tn("*",{keyup:!0},I),()=>tn.unbind("*",I)},[y]),ua(k,l.useCallback(()=>{y&&(S(!1),p(""),s(""))},[y,s]));let j;y?j=a("settings.recordingBind"):n?j=a("settings.extensionOverriddenBind"):j=a("settings.unboundBind");const C=ys&&n;return o.jsxs(Re,{container:!0,className:d.container,wrap:"nowrap",spacing:1,children:[o.jsx(Re,{item:!0,className:d.labelItem,xs:12,children:o.jsx(It,{children:e})}),o.jsx(Re,{item:!0,xs:6,children:o.jsx(q,{placeholder:j,size:"small",contentEditable:!1,disabled:n,helperText:n?a("settings.extensionShortcut"):void 0,value:u,color:"primary",InputProps:{endAdornment:o.jsxs(Ze,{position:"end",children:[!C&&o.jsx(qe,{ref:k,onClick:P,children:o.jsx(an,{fontSize:"small"})}),C&&o.jsx(Do,{title:a("settings.firefoxExtensionShortcutHelp"),children:o.jsx("span",{children:o.jsx(qe,{disabled:!0,children:o.jsx(an,{fontSize:"small"})})})})]})}})})]})}function Kl({onAddCustomField:e}){const{t}=zt(),[n,s]=l.useState("");return o.jsx(q,{label:t("settings.addCustomField"),placeholder:t("settings.customFieldName"),fullWidth:!0,value:n,color:"primary",onChange:i=>s(i.target.value),InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(qe,{disabled:n.trim()==="",onClick:()=>{e(n.trim()),s("")},children:o.jsx(Ps,{fontSize:"small"})})})}})}function ql({styleKey:e,onStyleKey:t,onAddCustomStyle:n}){const{t:s}=zt();return o.jsx(Xa,{options:Wo,value:e,fullWidth:!0,disableClearable:!0,clearOnEscape:!0,clearOnBlur:!0,forcePopupIcon:!1,onReset:()=>t(""),onChange:(i,a)=>{t(a??"")},renderInput:i=>o.jsx(q,{placeholder:s("settings.styleKey"),label:s("settings.addCustomCss"),color:"primary",...i,InputProps:{...i.InputProps,endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(qe,{disabled:Wo.find(a=>a===e)===void 0,onClick:()=>{n(e),t(Wo[0])},children:o.jsx(Ps,{fontSize:"small"})})})}})})}function Gl({customStyle:e,onCustomStyle:t,onDelete:n}){const{t:s}=zt();return o.jsx(q,{color:"primary",label:s("settings.customCssField",{styleKey:e.key}),placeholder:s("settings.styleValue"),value:e.value,onChange:i=>t({key:e.key,value:i.target.value}),InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(qe,{onClick:n,children:o.jsx(pn,{fontSize:"small"})})})}})}const Yl=Yt(e=>({panel:({tabsOrientation:t})=>({paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingTop:t==="horizontal"?e.spacing(1):0,overflowY:"scroll",maxHeight:"100%",height:"100%",width:"100%"})})),oo=un.forwardRef(function({children:t,value:n,index:s,tabsOrientation:i,...a},d){const u=Yl({tabsOrientation:i});return o.jsx(rn,{ref:d,className:u.panel,hidden:n!==s,...a,children:n===s&&t})}),Wo=Object.keys(document.body.style).filter(e=>!Pr(e));function dc({anki:e,settings:t,extensionInstalled:n,extensionVersion:s,extensionSupportsAppIntegration:i,extensionSupportsOverlay:a,extensionSupportsSidePanel:d,extensionSupportsOrderableAnkiFields:u,extensionSupportsTrackSpecificSettings:p,extensionSupportsSubtitlesWidthSetting:v,extensionSupportsPauseOnHover:f,extensionSupportsExportCardBind:y,insideApp:S,appVersion:P,scrollToId:k,chromeKeyBinds:j,localFontsAvailable:C,localFontsPermission:I,localFontFamilies:F,supportedLanguages:R,forceVerticalTabs:T,inTutorial:E,testCard:N,onSettingsChanged:z,onOpenChromeExtensionShortcuts:pe,onUnlockLocalFonts:Y}){const Z=ls(),H=Rr(Z.breakpoints.down("sm"))&&!T,h=Dl({smallScreen:H}),b=l.useCallback(async(r,D)=>{z({[r]:D})},[z]),{t:c}=zt(),U=l.useMemo(()=>({copySubtitle:{label:c("binds.copySubtitle"),boundViaChrome:!0},ankiExport:{label:c("binds.ankiExport"),boundViaChrome:!0},updateLastCard:{label:c("binds.updateLastCard"),boundViaChrome:!0},exportCard:{label:c("binds.exportCard"),boundViaChrome:!0,hide:n&&!y},takeScreenshot:{label:c("binds.takeScreenshot"),boundViaChrome:!0},toggleRecording:{label:c("binds.extensionToggleRecording"),boundViaChrome:!0},selectSubtitleTrack:{label:c("binds.extensionSelectSubtitleTrack"),boundViaChrome:!0,hide:!n},togglePlay:{label:c("binds.togglePlay"),boundViaChrome:!1},toggleAutoPause:{label:c("binds.toggleAutoPause"),boundViaChrome:!1},toggleCondensedPlayback:{label:c("binds.toggleCondensedPlayback"),boundViaChrome:!1},toggleFastForwardPlayback:{label:c("binds.toggleFastForwardPlayback"),boundViaChrome:!1},toggleRepeat:{label:c("binds.toggleRepeat"),boundViaChrome:!1},toggleSubtitles:{label:c("binds.toggleSubtitles"),boundViaChrome:!1},toggleVideoSubtitleTrack1:{label:c("binds.toggleVideoSubtitleTrack1"),boundViaChrome:!1},toggleVideoSubtitleTrack2:{label:c("binds.toggleVideoSubtitleTrack2"),boundViaChrome:!1},toggleVideoSubtitleTrack3:{label:c("binds.toggleVideoSubtitleTrack3"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack1:{label:c("binds.toggleAsbplayerSubtitleTrack1"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack2:{label:c("binds.toggleAsbplayerSubtitleTrack2"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack3:{label:c("binds.toggleAsbplayerSubtitleTrack3"),boundViaChrome:!1},unblurAsbplayerTrack1:{label:c("binds.unblurAsbplayerTrack",{trackNumber:1}),boundViaChrome:!1},unblurAsbplayerTrack2:{label:c("binds.unblurAsbplayerTrack",{trackNumber:2}),boundViaChrome:!1},unblurAsbplayerTrack3:{label:c("binds.unblurAsbplayerTrack",{trackNumber:3}),boundViaChrome:!1},seekBackward:{label:c("binds.seekBackward"),boundViaChrome:!1},seekForward:{label:c("binds.seekForward"),boundViaChrome:!1},seekToPreviousSubtitle:{label:c("binds.seekToPreviousSubtitle"),boundViaChrome:!1},seekToNextSubtitle:{label:c("binds.seekToNextSubtitle"),boundViaChrome:!1},seekToBeginningOfCurrentSubtitle:{label:c("binds.seekToBeginningOfCurrentOrPreviousSubtitle"),boundViaChrome:!1},adjustOffsetToPreviousSubtitle:{label:c("binds.adjustOffsetToPreviousSubtitle"),boundViaChrome:!1},adjustOffsetToNextSubtitle:{label:c("binds.adjustOffsetToNextSubtitle"),boundViaChrome:!1},increaseOffset:{label:c("binds.increaseOffset"),boundViaChrome:!1},decreaseOffset:{label:c("binds.decreaseOffset"),boundViaChrome:!1},resetOffset:{label:c("binds.resetOffset"),boundViaChrome:!1},increasePlaybackRate:{label:c("binds.increasePlaybackRate"),boundViaChrome:!1},decreasePlaybackRate:{label:c("binds.decreasePlaybackRate"),boundViaChrome:!1},toggleSidePanel:{label:c("binds.toggleSidePanel"),boundViaChrome:!1,hide:!n||!d}}),[c,n,d,y]),{ankiConnectUrl:V,deck:ne,noteType:le,sentenceField:M,definitionField:Fe,audioField:me,imageField:rt,wordField:Ee,sourceField:fe,urlField:X,track1Field:Te,track2Field:We,track3Field:he,ankiFieldSettings:ie,subtitlePreview:Be,subtitlePositionOffset:ut,topSubtitlePositionOffset:ve,subtitlesWidth:Ae,audioPaddingStart:pt,audioPaddingEnd:Se,maxImageWidth:ot,maxImageHeight:O,surroundingSubtitlesCountRadius:Ve,surroundingSubtitlesTimeRadius:ee,autoPausePreference:ke,speedChangeStep:He,fastForwardModePlaybackRate:Me,keyBindSet:nt,clickToMineDefaultAction:$e,postMiningPlaybackState:Ge,recordWithAudioPlayback:Dt,preferMp3:it,miningHistoryStorageLimit:at,themeType:xe,copyToClipboardOnMine:se,rememberSubtitleOffset:Pe,autoCopyCurrentSubtitle:lt,alwaysPlayOnSubtitleRepeat:st,tabName:bt,subtitleRegexFilter:x,subtitleRegexFilterTextReplacement:w,subtitleHtml:B,language:W,customAnkiFields:ae,customAnkiFieldSettings:be,tags:_e,imageBasedSubtitleScaleFactor:Ye,streamingAppUrl:yt,streamingDisplaySubtitles:Xe,streamingRecordMedia:ao,streamingTakeScreenshot:lo,streamingCleanScreenshot:$t,streamingCropScreenshot:mo,streamingSubsDragAndDrop:xo,streamingAutoSync:Lt,streamingAutoSyncPromptOnFailure:Xt,streamingCondensedPlaybackMinimumSkipIntervalMs:Jt,streamingScreenshotDelay:vo,streamingSubtitleListPreference:co,streamingEnableOverlay:yo,webSocketClientEnabled:jt,webSocketServerUrl:St,pauseOnHoverMode:Le}=t,[ce,ft]=l.useState(),{subtitleSize:Qt,subtitleColor:m,subtitleThickness:g,subtitleOutlineThickness:$,subtitleOutlineColor:_,subtitleShadowThickness:G,subtitleShadowColor:de,subtitleBackgroundColor:Ce,subtitleBackgroundOpacity:et,subtitleFontFamily:uo,subtitleCustomStyles:$o,subtitleBlur:So,subtitleAlignment:Wt}=_o(t,ce),po=l.useCallback(r=>{b("customAnkiFields",{...t.customAnkiFields,[r]:""})},[t.customAnkiFields,b]),re=l.useCallback((r,D)=>{b("customAnkiFields",{...t.customAnkiFields,[r]:D})},[t.customAnkiFields,b]),gt=l.useCallback(r=>{const D={...t.customAnkiFields};delete D[r],b("customAnkiFields",D)},[b,t.customAnkiFields]),wt=l.useCallback((r,D)=>{b("keyBindSet",{...t.keyBindSet,[D]:{keys:r}})},[t.keyBindSet,b]),[Nt,Lo]=l.useState(),[qo,mn]=l.useState(),[bo,Vt]=l.useState(),[kt,xn]=l.useState(),[Bs,zs]=l.useState(Wo[0]),Zt=l.useCallback(async()=>{try{if(S)try{await e.requestPermission(V)}catch{await e.version(V)}else await e.version(V);Lo(await e.deckNames(V)),mn(await e.modelNames(V)),Vt(void 0)}catch(r){console.error(r),Lo(void 0),mn(void 0),r instanceof Error?Vt(r.message):Vt(typeof r=="string"?r:String(r))}},[e,V,S]);l.useEffect(()=>{let r=!1;const D=setTimeout(async()=>{r||Zt()},1e3);return()=>{r=!0,clearTimeout(D)}},[e,V,Zt]),l.useEffect(()=>{if(!le||bo)return;let r=!1;async function D(){try{if(r)return;xn(await e.modelFieldNames(le,V)),Vt(void 0)}catch(te){if(r)return;console.error(te),xn(void 0),te instanceof Error?Vt(te.message):Vt(typeof te=="string"?te:String(te))}}return D(),()=>{r=!0}},[e,le,V,bo]);const[Go,vn]=l.useState(),Yo=l.useCallback(()=>{const r=new Pl;r.bind(St).then(()=>r.ping()).then(()=>vn(!0)).catch(D=>{console.error(D),vn(!1)}).finally(()=>r.unbind())},[St]);l.useEffect(()=>{jt&&St&&Yo()},[Yo,jt,St]);let Xo;jt&&(Go?Xo=c("info.connectionSucceeded"):Go===!1&&(Xo=c("info.connectionFailed")));const Jo=dr(t),Pt=l.useMemo(()=>{const r=["anki-settings","mining-settings","subtitle-appearance","keyboard-shortcuts","streaming-video","misc-settings","about"];return i||r.splice(r.indexOf("streaming-video"),1),Object.fromEntries(r.map((D,te)=>[D,te]))},[i]);l.useEffect(()=>{k&&k in Pt&&yn(Pt[k])},[k,Pt]);const[Ht,yn]=l.useState(0),Sn=l.useMemo(()=>Vl(x),[x]),Qo=l.useRef(null),Ds=l.useCallback(async()=>{var r,D;try{const te=(D=(r=Qo.current)==null?void 0:r.files)==null?void 0:D[0];if(te===void 0)return;const Ie=JSON.parse(await te.text()),Ut=Or(Ie);z(Ut)}catch(te){console.error(te)}},[z]),Ws=l.useCallback(()=>{var r;(r=Qo.current)==null||r.click()},[]),Vs=l.useCallback(()=>{const r=new Date,D=`${r.getFullYear()}-${r.getMonth()+1}-${r.getDate()}-${r.getHours()}-${r.getMinutes()}-${r.getSeconds()}`;Ir(new Blob([JSON.stringify(t)],{type:"appliction/json"}),`asbplayer-settings-${D}.json`)},[t]),Hs=l.useCallback((r,D,te)=>{if(r===1&&te===0||r===2&&te===D.length-1)return;const Ie=D[te],Ut=r===1?D[te-1]:D[te+1];let Kt,Qe;const ge={[Ie.key]:{...Ie.field,order:Ut.field.order}},Cn={[Ut.key]:{...Ut.field,order:Ie.field.order}};Ut.custom?Kt={...be,...Cn}:Qe={...ie,...Cn},Ie.custom?Kt={...Kt??be,...ge}:Qe={...Qe??ie,...ge},z({ankiFieldSettings:Qe??ie,customAnkiFieldSettings:Kt??be})},[z,be,ie]),_s=l.useCallback((r,D)=>{const te={...r.field,display:D};if(r.custom){const Ie={...be,[r.key]:te};z({customAnkiFieldSettings:Ie})}else{const Ie={...ie,[r.key]:te};z({ankiFieldSettings:Ie})}},[be,ie,z]),Je=l.useCallback((r,D)=>{const te=jn({[r]:D},t,ce);z(te)},[ce,t,z]),Us=l.useCallback(()=>{const r=jn(_o(t,0),t,ce);z(r)},[t,ce,z]),Ks=ce!==void 0&&ur(t,ce),_t=H?"horizontal":"vertical",[Ue,Ot]=l.useState(1),qs=l.useCallback(()=>{e.createDeck(Jn).then(()=>Zt()).then(()=>b("deck",Jn)).catch(console.error)},[e,Zt,b]);l.useEffect(()=>{Ue===2&&ne&&Ot(3)},[Ue,ne]);const Gs=l.useCallback(()=>{e.createModel(Qn).then(()=>Zt()).then(()=>b("noteType",Qn.modelName)).then(()=>Promise.all([b("sentenceField","Sentence"),b("definitionField","Definition"),b("wordField","Word"),b("audioField","Audio"),b("imageField","Image"),b("sourceField","Source"),b("urlField","URL")])).catch(console.error),Ue===4&&Ot(5)},[e,Ue,Zt,b]);l.useEffect(()=>{Ue===3&&le&&Ot(4)},[Ue,le]);const kn=l.useRef(null);l.useEffect(()=>{var r;Ue===5&&((r=kn.current)==null||r.scrollBy({behavior:"smooth",top:1e5}))},[Ue]);const Ys=l.useCallback(async()=>{N!==void 0&&(Ue===5&&Ot(6),await jl(await N(),t,cs.isMobile?"default":"gui"))},[Ue,t,N]);return o.jsxs("div",{className:h.root,children:[o.jsxs(xl,{orientation:_t,variant:"scrollable",value:Ht,className:h.tabs,onChange:(r,D)=>yn(D),style:{maxWidth:"100vw",marginLeft:H?"auto":8,marginRight:H?"auto":8},children:[o.jsx(to,{tabIndex:0,label:c("settings.anki"),id:"anki-settings"}),o.jsx(to,{tabIndex:1,label:c("settings.mining"),id:"mining-settings"}),o.jsx(to,{tabIndex:2,label:c("settings.subtitleAppearance"),id:"subtitle-appearance"}),o.jsx(to,{tabIndex:3,label:c("settings.keyboardShortcuts"),id:"keyboard-shortcuts"}),i&&o.jsx(to,{tabIndex:4,label:c("settings.streamingVideo"),id:"streaming-video"}),o.jsx(to,{tabIndex:5,label:c("settings.misc"),id:"misc-settings"}),o.jsx(to,{tabIndex:6,label:c("about.title"),id:"about"})]}),o.jsx(oo,{ref:kn,value:Ht,index:Pt["anki-settings"],tabsOrientation:_t,children:o.jsxs(Ct,{className:h.formGroup,children:[o.jsx(El,{show:Ue===1,disabled:!E,ankiConnectUrlError:!!bo,onConfirm:()=>{Ot(2)},children:o.jsx(q,{label:c("settings.ankiConnectUrl"),value:V,error:!!bo,helperText:bo,color:"primary",onChange:r=>b("ankiConnectUrl",r.target.value),InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(qe,{onClick:Zt,children:o.jsx(Nn,{})})})}})}),S&&o.jsx($s,{children:o.jsx(ro,{i18nKey:"settings.corsHelperText",values:{origin},components:[o.jsx(ho,{color:"primary",target:"_blank",rel:"noreferrer",href:"https://youtu.be/Mv7fEVb6PHo?t=44",children:"video"},0)]})}),o.jsx(Bl,{show:Ue===2&&!bo&&!ne,disabled:!E,noDecks:Nt===void 0||Nt.length===0,onCreateDefaultDeck:qs,children:o.jsx(ct,{label:c("settings.deck"),value:ne,selections:Nt,onValueChange:r=>b("deck",r),onOpen:()=>{Ue===2&&Ot(3)}})}),o.jsx(zl,{show:Ue===3&&!!ne&&!le,disabled:!E,noNoteTypes:qo===void 0||qo.length===0,onCreateDefaultNoteType:Gs,children:o.jsx(ct,{label:c("settings.noteType"),value:le,selections:qo,onValueChange:r=>b("noteType",r),onOpen:()=>{Ue===3&&Ot(4)}})}),Jo.map((r,D)=>{const te=r.custom?`custom_${r.key}`:`standard_${r.key}`,Ie=!n||u?ge=>Hs(ge,Jo,D):void 0,Ut=!n||u?ge=>_s(r,ge):void 0;let Kt;D===0?Kt=1:D===Jo.length-1&&(Kt=2);const Qe={onOrderChange:Ie,onDisplayChange:Ut,disabledDirection:Kt,display:r.field.display};return o.jsxs(un.Fragment,{children:[!r.custom&&r.key==="sentence"&&o.jsx(Ro,{placement:"bottom",disabled:!E,show:Ue===4&&!!ne&&!!le,disableArrow:!0,text:c("ftue.ankiFields"),onConfirm:()=>Ot(5),children:o.jsx(ct,{label:c("settings.sentenceField"),value:M,selections:kt,onValueChange:ge=>b("sentenceField",ge),...Qe})}),!r.custom&&r.key==="definition"&&o.jsx(ct,{label:c("settings.definitionField"),value:Fe,selections:kt,onValueChange:ge=>b("definitionField",ge),...Qe}),!r.custom&&r.key==="word"&&o.jsx(ct,{label:c("settings.wordField"),value:Ee,selections:kt,onValueChange:ge=>b("wordField",ge),...Qe}),!r.custom&&r.key==="audio"&&o.jsx(ct,{label:c("settings.audioField"),value:me,selections:kt,onValueChange:ge=>b("audioField",ge),...Qe}),!r.custom&&r.key==="image"&&o.jsx(ct,{label:c("settings.imageField"),value:rt,selections:kt,onValueChange:ge=>b("imageField",ge),...Qe}),!r.custom&&r.key==="source"&&o.jsx(ct,{label:c("settings.sourceField"),value:fe,selections:kt,onValueChange:ge=>b("sourceField",ge),...Qe}),!r.custom&&r.key==="url"&&o.jsx(ct,{label:c("settings.urlField"),value:X,selections:kt,onValueChange:ge=>b("urlField",ge),...Qe}),!r.custom&&r.key==="track1"&&(!n||u)&&o.jsx(ct,{label:c("settings.track1Field"),value:Te,selections:kt,onValueChange:ge=>b("track1Field",ge),...Qe}),!r.custom&&r.key==="track2"&&(!n||u)&&o.jsx(ct,{label:c("settings.track2Field"),value:We,selections:kt,onValueChange:ge=>b("track2Field",ge),...Qe}),!r.custom&&r.key==="track3"&&(!n||u)&&o.jsx(ct,{label:c("settings.track3Field"),value:he,selections:kt,onValueChange:ge=>b("track3Field",ge),...Qe}),r.custom&&o.jsx(ct,{label:`${r.key}`,value:ae[r.key],selections:kt,onValueChange:ge=>re(r.key,ge),onRemoval:()=>gt(r.key),removable:!0,...Qe})]},te)}),o.jsx(Kl,{onAddCustomField:po}),o.jsx(ba,{label:c("settings.tags"),helperText:c("settings.tagsHelperText"),fullWidth:!0,color:"primary",tags:_e,onTagsChange:r=>b("tags",r)}),N&&o.jsx(Ro,{placement:"top",disabled:!E,show:Ue===5,text:c("ftue.testCard"),onConfirm:()=>Ot(6),children:o.jsx(Eo,{variant:"contained",onClick:Ys,children:c("settings.createTestCard")})})]})}),o.jsxs(oo,{value:Ht,index:Pt["mining-settings"],tabsOrientation:_t,children:[o.jsx(qt,{component:"legend",children:c("settings.clickToMineDefaultAction")}),o.jsxs(eo,{row:!1,children:[o.jsx(oe,{control:o.jsx(ze,{checked:$e===mt.showAnkiDialog,value:mt.showAnkiDialog,onChange:r=>r.target.checked&&b("clickToMineDefaultAction",mt.showAnkiDialog)}),label:c("postMineAction.showAnkiDialog")}),o.jsx(oe,{control:o.jsx(ze,{checked:$e===mt.updateLastCard,value:mt.updateLastCard,onChange:r=>r.target.checked&&b("clickToMineDefaultAction",mt.updateLastCard)}),label:c("postMineAction.updateLastCard")}),o.jsx(oe,{control:o.jsx(ze,{checked:$e===mt.exportCard,value:mt.exportCard,onChange:r=>r.target.checked&&b("clickToMineDefaultAction",mt.exportCard)}),label:c("postMineAction.exportCard")}),o.jsx(oe,{control:o.jsx(ze,{checked:$e===mt.none,value:mt.none,onChange:r=>r.target.checked&&b("clickToMineDefaultAction",mt.none)}),label:c("postMineAction.none")})]}),o.jsx(qt,{component:"legend",children:c("settings.postMinePlayback")}),o.jsxs(eo,{row:!1,children:[o.jsx(oe,{control:o.jsx(ze,{checked:Ge===At.remember,value:At.remember,onChange:r=>r.target.checked&&b("postMiningPlaybackState",At.remember)}),label:c("postMinePlayback.remember")}),o.jsx(oe,{control:o.jsx(ze,{checked:Ge===At.play,value:At.play,onChange:r=>r.target.checked&&b("postMiningPlaybackState",At.play)}),label:c("postMinePlayback.play")}),o.jsx(oe,{control:o.jsx(ze,{checked:Ge===At.pause,value:At.pause,onChange:r=>r.target.checked&&b("postMiningPlaybackState",At.pause)}),label:c("postMinePlayback.pause")})]}),o.jsxs(Ct,{className:h.formGroup,children:[o.jsx(oe,{control:o.jsx(De,{checked:Dt,onChange:r=>b("recordWithAudioPlayback",r.target.checked)}),label:c("settings.recordWithAudioPlayback"),labelPlacement:"start",className:h.switchLabel}),o.jsx(oe,{control:o.jsx(De,{checked:it,onChange:r=>b("preferMp3",r.target.checked)}),label:c("settings.mp3Preference"),labelPlacement:"start",className:h.switchLabel}),o.jsx(oe,{control:o.jsx(De,{checked:se,onChange:r=>b("copyToClipboardOnMine",r.target.checked)}),label:c("settings.copyOnMine"),labelPlacement:"start",className:h.switchLabel}),o.jsx(q,{type:"number",label:c("settings.audioPaddingStart"),fullWidth:!0,value:pt,color:"primary",onChange:r=>b("audioPaddingStart",Number(r.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:"ms"})}}),o.jsx(q,{type:"number",label:c("settings.audioPaddingEnd"),fullWidth:!0,value:Se,color:"primary",onChange:r=>b("audioPaddingEnd",Number(r.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:"ms"})}}),o.jsx(q,{type:"number",label:c("settings.maxImageWidth"),fullWidth:!0,value:ot,color:"primary",onChange:r=>b("maxImageWidth",Number(r.target.value)),inputProps:{min:0,step:1}}),o.jsx(q,{type:"number",label:c("settings.maxImageHeight"),fullWidth:!0,value:O,color:"primary",onChange:r=>b("maxImageHeight",Number(r.target.value)),inputProps:{min:0,step:1}}),o.jsx(q,{type:"number",label:c("settings.surroundingSubtitlesCountRadius"),fullWidth:!0,value:Ve,color:"primary",onChange:r=>b("surroundingSubtitlesCountRadius",Number(r.target.value)),inputProps:{min:1,step:1}}),o.jsx(q,{type:"number",label:c("settings.surroundingSubtitlesTimeRadius"),fullWidth:!0,value:ee,color:"primary",onChange:r=>b("surroundingSubtitlesTimeRadius",Number(r.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:"ms"})}})]})]}),o.jsx(oo,{value:Ht,index:Pt["subtitle-appearance"],tabsOrientation:_t,children:o.jsx(Re,{item:!0,children:o.jsxs(Ct,{className:h.formGroup,children:[(!n||p)&&o.jsxs(o.Fragment,{children:[o.jsx(Fl,{track:ce===void 0?"all":ce,onTrackSelected:r=>ft(r==="all"?void 0:r)}),ce!==void 0&&o.jsx(Eo,{startIcon:o.jsx(Wr,{}),disabled:!Ks,onClick:Us,variant:"outlined",children:c("settings.reset")})]}),o.jsx(Rl,{subtitleSettings:t,text:Be,onTextChanged:r=>b("subtitlePreview",r)}),m!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"color",label:c("settings.subtitleColor"),fullWidth:!0,value:m,color:"primary",onChange:r=>Je("subtitleColor",r.target.value)})}),Qt!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"number",label:c("settings.subtitleSize"),fullWidth:!0,value:Qt,color:"primary",onChange:r=>Je("subtitleSize",Number(r.target.value)),inputProps:{min:1,step:1}})}),g!==void 0&&o.jsxs("div",{children:[o.jsx(It,{variant:"subtitle2",color:"textSecondary",children:c("settings.subtitleThickness")}),o.jsx(Fr,{color:"primary",value:g,onChange:(r,D)=>Je("subtitleThickness",D),min:100,max:900,step:100,marks:!0,valueLabelDisplay:"auto"})]}),_!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"color",label:c("settings.subtitleOutlineColor"),fullWidth:!0,value:_,color:"primary",onChange:r=>Je("subtitleOutlineColor",r.target.value)})}),$!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"number",label:c("settings.subtitleOutlineThickness"),helperText:c("settings.subtitleOutlineThicknessHelperText"),fullWidth:!0,value:$,onChange:r=>Je("subtitleOutlineThickness",Number(r.target.value)),inputProps:{min:0,step:.1},color:"primary"})}),de!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"color",label:c("settings.subtitleShadowColor"),fullWidth:!0,value:de,color:"primary",onChange:r=>Je("subtitleShadowColor",r.target.value)})}),G!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"number",label:c("settings.subtitleShadowThickness"),fullWidth:!0,value:G,onChange:r=>Je("subtitleShadowThickness",Number(r.target.value)),inputProps:{min:0,step:.1},color:"primary"})}),Ce!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"color",label:c("settings.subtitleBackgroundColor"),fullWidth:!0,value:Ce,color:"primary",onChange:r=>Je("subtitleBackgroundColor",r.target.value)})}),et!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"number",label:c("settings.subtitleBackgroundOpacity"),fullWidth:!0,inputProps:{min:0,max:1,step:.1},value:et,color:"primary",onChange:r=>Je("subtitleBackgroundOpacity",Number(r.target.value))})}),uo!==void 0&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"text",select:F.length>0,label:c("settings.subtitleFontFamily"),fullWidth:!0,value:uo,color:"primary",onChange:r=>Je("subtitleFontFamily",r.target.value),InputProps:{endAdornment:F.length===0&&C&&I==="prompt"?o.jsx(Do,{title:c("settings.unlockLocalFonts"),children:o.jsx(qe,{onClick:Y,children:o.jsx(zr,{fontSize:"small"})})}):null},children:F.length>0?F.map(r=>o.jsx(Gt,{value:r,children:r},r)):null})}),So!==void 0&&o.jsx(Do,{placement:"bottom-end",title:c("settings.subtitleBlurDescription"),children:o.jsx(oe,{control:o.jsx(De,{checked:So,onChange:r=>{Je("subtitleBlur",r.target.checked)}}),label:c("settings.subtitleBlur"),labelPlacement:"start",className:h.switchLabel})}),Wt!==void 0&&o.jsxs(o.Fragment,{children:[o.jsx(qt,{component:"legend",children:c("settings.subtitleAlignment")}),o.jsxs(eo,{row:!0,children:[o.jsx(oe,{control:o.jsx(ze,{checked:Wt==="bottom",value:"bottom",onChange:r=>r.target.checked&&Je("subtitleAlignment","bottom")}),label:c("settings.subtitleAlignmentBottom")}),o.jsx(oe,{control:o.jsx(ze,{checked:Wt==="top",value:"top",onChange:r=>r.target.checked&&Je("subtitleAlignment","top")}),label:c("settings.subtitleAlignmentTop")})]})]}),$o!==void 0&&o.jsxs(o.Fragment,{children:[$o.map((r,D)=>o.jsx(Gl,{customStyle:r,onCustomStyle:te=>{const Ie=[...t.subtitleCustomStyles];Ie[D]={...te},Je("subtitleCustomStyles",Ie)},onDelete:()=>{const te=[];for(let Ie=0;Ie<t.subtitleCustomStyles.length;++Ie)Ie!==D&&te.push(t.subtitleCustomStyles[Ie]);Je("subtitleCustomStyles",te)}},D)),o.jsx(ql,{styleKey:Bs,onStyleKey:zs,onAddCustomStyle:r=>Je("subtitleCustomStyles",[...t.subtitleCustomStyles,{key:r,value:""}])})]}),ce===void 0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{className:h.textField,type:"number",color:"primary",fullWidth:!0,label:c("settings.subtitlePositionOffset"),value:ut,inputProps:{min:0,step:1},onChange:r=>b("subtitlePositionOffset",Number(r.target.value))})}),o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{className:h.textField,type:"number",color:"primary",fullWidth:!0,label:c("settings.topSubtitlePositionOffset"),value:ve,inputProps:{min:0,step:1},onChange:r=>b("topSubtitlePositionOffset",Number(r.target.value))})}),(!n||v)&&o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{className:h.textField,color:"primary",fullWidth:!0,label:c("settings.subtitlesWidth"),disabled:Ae===-1,value:Ae===-1?"auto":Ae,onChange:r=>{const D=Number(r.target.value);!Number.isNaN(D)&&D>=0&&D<=100&&b("subtitlesWidth",D)},InputProps:{endAdornment:o.jsxs(o.Fragment,{children:[Ae===-1&&o.jsx(Ze,{position:"end",children:o.jsx(qe,{onClick:()=>b("subtitlesWidth",100),children:o.jsx(an,{})})}),Ae!==-1&&o.jsxs(o.Fragment,{children:[o.jsx(Ze,{position:"end",children:"%"}),o.jsx(Ze,{position:"end",children:o.jsx(qe,{onClick:()=>b("subtitlesWidth",-1),children:o.jsx(Is,{})})})]})]})}})}),o.jsx("div",{className:h.subtitleSetting,children:o.jsx(q,{type:"number",label:c("settings.imageBasedSubtitleScaleFactor"),placeholder:"Inherited",fullWidth:!0,inputProps:{min:0,max:1,step:.1},value:Ye,color:"primary",onChange:r=>b("imageBasedSubtitleScaleFactor",Number(r.target.value))})})]})]})})}),o.jsx(oo,{value:Ht,index:Pt["keyboard-shortcuts"],tabsOrientation:_t,children:o.jsx(Ct,{className:h.formGroup,children:Object.keys(U).map(r=>{const D=r,te=U[D];return te.hide?null:o.jsx(Ul,{label:te.label,keys:n&&te.boundViaChrome?j[D]??"":nt[D].keys,boundViaChrome:n&&te.boundViaChrome,onKeysChange:Ie=>wt(Ie,D),onOpenExtensionShortcuts:pe},r)})})}),o.jsx(oo,{value:Ht,index:Pt["streaming-video"],tabsOrientation:_t,children:o.jsxs(Re,{container:!0,direction:"column",spacing:1,children:[o.jsx(Re,{item:!0,children:o.jsxs(Ct,{className:h.formGroup,children:[o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:co!==No.noSubtitleList,onChange:r=>b("streamingSubtitleListPreference",co===No.noSubtitleList?No.app:No.noSubtitleList)}),label:c("extension.settings.openSubtitleList"),labelPlacement:"start"}),a&&o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:yo,onChange:r=>b("streamingEnableOverlay",r.target.checked)}),label:c("extension.settings.enableOverlay"),labelPlacement:"start"}),o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:Xe,onChange:r=>b("streamingDisplaySubtitles",r.target.checked)}),label:c("extension.settings.displaySubtitles"),labelPlacement:"start"}),o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:ao,onChange:r=>b("streamingRecordMedia",r.target.checked)}),label:c("extension.settings.recordAudio"),labelPlacement:"start"}),o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:lo,onChange:r=>b("streamingTakeScreenshot",r.target.checked)}),label:c("extension.settings.takeScreenshot"),labelPlacement:"start"}),o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:$t,onChange:r=>b("streamingCleanScreenshot",r.target.checked)}),label:c("extension.settings.cleanScreenshot"),labelPlacement:"start"}),o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:mo,onChange:r=>b("streamingCropScreenshot",r.target.checked)}),label:c("extension.settings.cropScreenshot"),labelPlacement:"start"}),o.jsx(q,{className:h.textField,type:"number",color:"primary",fullWidth:!0,label:c("extension.settings.screenshotCaptureDelay"),value:vo,onChange:r=>b("streamingScreenshotDelay",Number(r.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:"ms"})}})]})}),o.jsx(Re,{item:!0,children:o.jsxs(Ct,{children:[o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:xo,onChange:r=>b("streamingSubsDragAndDrop",r.target.checked)}),label:c("extension.settings.dragAndDrop"),labelPlacement:"start"}),o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:Lt,onChange:r=>b("streamingAutoSync",r.target.checked)}),label:c("extension.settings.autoLoadDetectedSubs"),labelPlacement:"start"}),o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:Xt,onChange:r=>b("streamingAutoSyncPromptOnFailure",r.target.checked)}),label:c("extension.settings.autoLoadDetectedSubsFailure"),labelPlacement:"start"})]})}),o.jsx(Re,{item:!0,children:o.jsx(Ct,{className:h.formGroup,children:o.jsx(q,{className:h.textField,type:"number",color:"primary",fullWidth:!0,label:c("extension.settings.condensedPlaybackMinSkipInterval"),value:Jt,onChange:r=>b("streamingCondensedPlaybackMinimumSkipIntervalMs",Number(r.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:"ms"})}})})}),o.jsx(Re,{item:!0,children:o.jsx(Ct,{className:h.formGroup,children:!S&&o.jsx(q,{className:h.textField,color:"primary",fullWidth:!0,label:c("extension.settings.asbplayerUrl"),value:yt,onChange:r=>b("streamingAppUrl",r.target.value)})})})]})}),o.jsx(oo,{value:Ht,index:Pt["misc-settings"],tabsOrientation:_t,children:o.jsxs(Re,{container:!0,spacing:1,direction:"column",children:[o.jsxs(Re,{item:!0,children:[o.jsxs(ln,{children:[o.jsx(qt,{children:c("settings.theme")}),o.jsxs(eo,{row:!0,children:[o.jsx(oe,{control:o.jsx(ze,{checked:xe==="light",value:"light",onChange:r=>r.target.checked&&b("themeType","light")}),label:c("settings.themeLight")}),o.jsx(oe,{control:o.jsx(ze,{checked:xe==="dark",value:"dark",onChange:r=>r.target.checked&&b("themeType","dark")}),label:c("settings.themeDark")})]})]}),o.jsxs(Ct,{className:h.formGroup,children:[o.jsx(oe,{control:o.jsx(De,{checked:Pe,onChange:r=>b("rememberSubtitleOffset",r.target.checked)}),label:c("settings.rememberSubtitleOffset"),labelPlacement:"start",className:h.switchLabel}),o.jsx(oe,{control:o.jsx(De,{checked:lt,onChange:r=>b("autoCopyCurrentSubtitle",r.target.checked)}),label:c("settings.autoCopy"),labelPlacement:"start",className:h.switchLabel}),o.jsx(oe,{control:o.jsx(De,{checked:st,onChange:r=>b("alwaysPlayOnSubtitleRepeat",r.target.checked)}),label:c("settings.alwaysPlayOnSubtitleRepeat"),labelPlacement:"start",className:h.switchLabel}),o.jsx(q,{type:"number",label:c("settings.miningHistoryStorageLimit"),fullWidth:!0,value:at,color:"primary",onChange:r=>b("miningHistoryStorageLimit",Number(r.target.value)),inputProps:{min:0,step:1}}),S&&o.jsx(q,{label:c("settings.tabName"),fullWidth:!0,value:bt,color:"primary",onChange:r=>b("tabName",r.target.value)}),o.jsx(q,{label:c("settings.subtitleRegexFilter"),fullWidth:!0,value:x,color:"primary",error:!Sn,helperText:Sn?void 0:"Invalid regular expression",onChange:r=>b("subtitleRegexFilter",r.target.value)}),o.jsx(q,{label:c("settings.subtitleRegexFilterTextReplacement"),fullWidth:!0,value:w,color:"primary",onChange:r=>b("subtitleRegexFilterTextReplacement",r.target.value)}),o.jsxs(ln,{children:[o.jsx(qt,{children:c("settings.subtitleHtml")}),o.jsxs(eo,{row:!0,children:[o.jsx(oe,{control:o.jsx(ze,{checked:B===fo.remove,value:fo.remove,onChange:r=>r.target.checked&&b("subtitleHtml",fo.remove)}),label:c("settings.subtitleHtmlRemove")}),o.jsx(oe,{control:o.jsx(ze,{checked:B===fo.render,value:fo.render,onChange:r=>r.target.checked&&b("subtitleHtml",fo.render)}),label:c("settings.subtitleHtmlRender")})]})]}),o.jsx(q,{select:!0,label:c("settings.language"),value:W,color:"primary",onChange:r=>b("language",r.target.value),children:R.map(r=>o.jsx(Gt,{value:r,children:r},r))})]})]}),o.jsxs(Re,{item:!0,children:[o.jsxs(Re,{container:!0,direction:"row",spacing:1,children:[o.jsx(Re,{item:!0,children:o.jsx(qt,{children:c("settings.autoPausePreference")})}),o.jsx(Re,{item:!0,children:o.jsx(Do,{title:c("settings.autoPausePreferenceHelperText"),placement:"top",children:o.jsx(Dr,{fontSize:"small"})})})]}),o.jsxs(eo,{row:!0,children:[o.jsx(oe,{control:o.jsx(ze,{checked:ke===go.atStart,value:go.atStart,onChange:r=>r.target.checked&&b("autoPausePreference",go.atStart)}),label:c("settings.autoPauseAtSubtitleStart")}),o.jsx(oe,{control:o.jsx(ze,{checked:ke===go.atEnd,value:go.atEnd,onChange:r=>r.target.checked&&b("autoPausePreference",go.atEnd)}),label:c("settings.autoPauseAtSubtitleEnd")})]})]}),(!n||f)&&o.jsxs(Re,{item:!0,children:[o.jsx(qt,{component:"legend",children:c("settings.pauseOnHoverMode")}),o.jsxs(eo,{row:!1,children:[o.jsx(oe,{control:o.jsx(ze,{checked:Le===Mt.disabled,value:Mt.disabled,onChange:r=>r.target.checked&&b("pauseOnHoverMode",Mt.disabled)}),label:c("pauseOnHoverMode.disabled")}),o.jsx(oe,{control:o.jsx(ze,{checked:Le===Mt.inAndOut,value:Mt.inAndOut,onChange:r=>r.target.checked&&b("pauseOnHoverMode",Mt.inAndOut)}),label:c("pauseOnHoverMode.inAndOut")}),o.jsx(oe,{control:o.jsx(ze,{checked:Le===Mt.inNotOut,value:Mt.inNotOut,onChange:r=>r.target.checked&&b("pauseOnHoverMode",Mt.inNotOut)}),label:c("pauseOnHoverMode.inNotOut")})]})]}),o.jsx(Re,{item:!0,children:o.jsxs(Ct,{className:h.formGroup,children:[o.jsx(q,{type:"number",label:c("settings.speedChangeStep"),fullWidth:!0,value:He,color:"primary",onChange:r=>b("speedChangeStep",Number(r.target.value)),inputProps:{min:.1,max:1,step:.1}}),o.jsx(q,{type:"number",label:c("settings.fastForwardModePlaybackRate"),fullWidth:!0,value:Me,color:"primary",onChange:r=>b("fastForwardModePlaybackRate",Number(r.target.value)),inputProps:{min:.1,max:5,step:.1}})]})}),!ys&&o.jsxs(o.Fragment,{children:[o.jsx(Re,{item:!0,children:o.jsx(oe,{className:h.switchLabel,control:o.jsx(De,{checked:jt,onChange:r=>b("webSocketClientEnabled",r.target.checked)}),label:c("settings.webSocketClientEnabled"),labelPlacement:"start"})}),o.jsx(Re,{item:!0,children:o.jsx(q,{className:h.textField,color:"primary",fullWidth:!0,label:c("settings.webSocketServerUrl"),value:St,disabled:!jt,onChange:r=>b("webSocketServerUrl",r.target.value),error:jt&&Go===!1,helperText:Xo,InputProps:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(qe,{onClick:Yo,children:o.jsx(Nn,{})})})}})})]}),o.jsx(Re,{item:!0,children:o.jsx(Eo,{variant:"contained",color:"primary",style:{width:"100%"},onClick:Ws,children:c("action.importSettings")})}),o.jsx(Re,{item:!0,children:o.jsx(Eo,{variant:"contained",color:"primary",style:{width:"100%"},onClick:Vs,children:c("action.exportSettings")})})]})}),o.jsx(oo,{value:Ht,index:Pt.about,tabsOrientation:_t,children:o.jsx(Ml,{appVersion:S?P:void 0,extensionVersion:n?s:void 0})}),o.jsx("input",{ref:Qo,onChange:Ds,type:"file",accept:".json",multiple:!0,hidden:!0})]})}const uc=()=>{const[e,t]=l.useState(pr);return l.useEffect(()=>{br().then(t)},[]),{supportedLanguages:e}},Xl=Ne(o.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),es=16,Jl=5,Ql=Yt(()=>({newProfileTextField:{"& .MuiInputBase-root":{paddingRight:0}},menu:{"& .MuiSelect-root":{padding:0}}})),ts=Yt(()=>({root:({collapsed:e})=>e?{"&:hover":{backgroundColor:"transparent"},margin:0}:{margin:0}}));function os({onRemoveProfile:e,onSetActiveProfile:t,divider:n,profile:s,collapsed:i,t:a,className:d}){return o.jsxs(Gt,{className:d,divider:n,value:(s==null?void 0:s.name)??"-",children:[o.jsx("div",{onClick:u=>{u.currentTarget===u.target&&t(s==null?void 0:s.name)},style:{flexGrow:1},children:(s==null?void 0:s.name)??a("settings.defaultProfile")}),s!==void 0&&!i&&o.jsx(qe,{onMouseDown:u=>u.stopPropagation(),onClick:()=>{e(s.name)},style:{padding:4,marginRight:i?16:0},children:o.jsx(pn,{fontSize:"small"})})]},(s==null?void 0:s.name)??"")}function pc({profiles:e,activeProfile:t,onNewProfile:n,onRemoveProfile:s,onSetActiveProfile:i}){const{t:a}=zt(),d=Ql(),u=ts({collapsed:!0}),p=ts({collapsed:!1}),[v,f]=l.useState(!1),y=l.useRef(),[S,P]=l.useState(""),k=S.trim(),j=k!==""&&k!=="-"&&k.length>=1&&k.length<=es&&e.find(I=>I.name===k)===void 0;l.useEffect(()=>{if(!v)return;const I=F=>{if(F.key==="Enter"){if(!j)return;f(!1),n(S.trim())}};return document.addEventListener("keypress",I),()=>document.removeEventListener("keypress",I)},[v,S,n,j]);const C=e.length>=Jl;return o.jsxs(o.Fragment,{children:[v&&o.jsx(q,{inputRef:I=>{y.current=I,I==null||I.focus()},className:d.newProfileTextField,fullWidth:!0,color:"primary",variant:"outlined",style:{paddingRight:0},label:a("settings.profileName"),placeholder:a("settings.enterProfileName"),value:S,onChange:I=>{P(I.target.value)},inputProps:{maxLength:es},InputProps:{endAdornment:o.jsxs(Ze,{position:"end",children:[o.jsx(qe,{onClick:()=>{f(!1)},children:o.jsx(Is,{fontSize:"small"})}),o.jsx(qe,{disabled:!j,onClick:()=>{f(!1),n(S.trim())},children:o.jsx(Xl,{fontSize:"small"})})]})}}),!v&&o.jsxs(q,{select:!0,fullWidth:!0,className:d.menu,size:"small",color:"primary",variant:"outlined",label:a("settings.activeProfile"),value:t??"-",SelectProps:{renderValue:I=>os({profile:e.find(F=>F.name===I),divider:!1,onRemoveProfile:s,onSetActiveProfile:i,collapsed:!0,t:a,className:u.root})},children:[o.jsx(Gt,{value:"-",onClick:()=>i(void 0),children:a("settings.defaultProfile")},""),e.map((I,F)=>os({profile:I,divider:F===e.length-1,onRemoveProfile:s,onSetActiveProfile:i,collapsed:!1,t:a,className:p.root})),o.jsx(Gt,{disabled:C,onClick:()=>{P(""),f(!0)},style:{textAlign:"center"},children:a(C?"settings.profileLimitReached":"settings.newProfile")})]})]})}export{wl as A,Nr as H,dc as S,cc as a,uc as b,pc as c,lc as u};
