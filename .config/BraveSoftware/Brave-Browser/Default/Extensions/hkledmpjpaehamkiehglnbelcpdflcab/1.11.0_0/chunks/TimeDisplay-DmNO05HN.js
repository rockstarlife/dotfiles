import{n as g,j as e,h as H,aC as u,m as w,R as I,r as d}from"./Tooltip-CHkWPQyT.js";import"./index-BNzDLOmD.js";import{P as M,L as V,n as x,l as D,m as P,h as O}from"./Input-CyGuovd8.js";const Z=g(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3zm-3-7V3.5L18.5 9z"}),"NoteAdd"),_=g(e.jsx("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord"),tt=g(e.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune"),et=g(e.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2M4 12h4v2H4zm10 6H4v-2h10zm6 0h-4v-2h4zm0-4H10v-2h10z"}),"Subtitles"),v=({children:n,...t})=>e.jsx(D,{disablePadding:!0,dense:!0,...t,children:n}),p=({children:n,...t})=>e.jsx(P,{dense:!0,...t,children:n});function nt({listStyle:n,selectedPlayMode:t,onPlayMode:s,open:o,anchorEl:r,onClose:i,...h}){const{t:l}=H();return e.jsx(M,{disableEnforceFocus:!0,open:o,anchorEl:r,onClose:i,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},...h,children:e.jsxs(V,{disablePadding:!0,dense:!0,style:n,children:[e.jsx(v,{onClick:()=>s(u.normal),children:e.jsx(p,{selected:t===u.normal,children:e.jsx(x,{children:l("controls.normalMode")})})}),e.jsx(v,{onClick:()=>s(u.condensed),children:e.jsx(p,{dense:!0,selected:t===u.condensed,children:e.jsx(x,{children:l("controls.condensedMode")})})}),e.jsx(v,{onClick:()=>s(u.fastForward),children:e.jsx(p,{selected:t===u.fastForward,children:e.jsx(x,{children:l("controls.fastForwardMode")})})}),e.jsx(v,{onClick:()=>s(u.autoPause),children:e.jsx(p,{selected:t===u.autoPause,children:e.jsx(x,{children:l("controls.autoPauseMode")})})}),e.jsx(v,{onClick:()=>s(u.repeat),children:e.jsx(p,{selected:t===u.repeat,children:e.jsx(x,{children:l("controls.repeatMode")})})})]})})}const A=w(()=>({input:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",fontSize:20,width:100,color:"#fff",pointerEvents:"auto"}})),z=I.forwardRef(function({inputRef:t,numberValue:s,defaultNumberValue:o,onNumberValue:r,valueToPrettyString:i,stringToValue:h,rejectValue:l,disableKeyEvents:C,className:y,...N},$){const k=A(),[F,S]=d.useState(5),L=d.useCallback(c=>{var m;const a=c.target;a.setSelectionRange(0,((m=a.value)==null?void 0:m.length)||0)},[]),f=d.useCallback((c,a)=>{if(t.current){if(c===o)t.current.value="",S(5);else{a&&r(c);const m=i(c);t.current.value=m,S(m.length)}t.current.blur()}},[t,i,r,o]),j=d.useCallback(c=>{if(!t.current)return;const a=h(t.current.value);if(a===s){f(s,!0);return}if(Number.isNaN(a)||l!=null&&l(a)){c&&f(s,!0);return}r(a)},[f,h,r,l,s,t]),T=d.useCallback(()=>{j(!0)},[j]);d.useEffect(()=>{f(s,!1)},[s,f]),d.useEffect(()=>{if(C)return;function c(a){a.key==="Enter"&&t.current!==null&&t.current===document.activeElement&&j(!1)}return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[j,C,t]);const E=y?`${y} ${k.input}`:k.input;return e.jsx(O,{style:{width:`${F}ch`},ref:$,inputRef:t,disableUnderline:!0,className:E,onClick:L,onBlur:T,onChange:c=>S(Math.max(5,c.target.value.length)),...N})}),B=n=>"×"+String(n.toFixed(2)),W=n=>Number(n),U=n=>n<.1||n>5,q="×"+1 .toFixed(2),st=I.forwardRef(function({inputRef:t,playbackRate:s,onPlaybackRate:o,...r},i){return e.jsx(z,{ref:i,inputRef:t,defaultNumberValue:1,valueToPrettyString:B,stringToValue:W,numberValue:s,onNumberValue:o,rejectValue:U,placeholder:q,...r})}),G=n=>{const t=n/1e3;return t>=0?"+"+t.toFixed(2):String(t.toFixed(2))},J=n=>Number(n)*1e3,K="±"+0 .toFixed(2),rt=I.forwardRef(function({inputRef:t,offset:s,onOffset:o,...r},i){return e.jsx(z,{ref:i,inputRef:t,defaultNumberValue:0,valueToPrettyString:G,stringToValue:J,numberValue:s,onNumberValue:o,placeholder:K,...r})});function b(n){const t=Math.floor(n/1e3),s=Math.floor(t/60),o=t%60;return String(s)+":"+String(o).padStart(2,"0")}const Q=w(()=>({timeDisplay:{color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",cursor:"default",fontSize:20,whiteSpace:"nowrap"}})),ot=({currentMilliseconds:n,totalMilliseconds:t,className:s,...o})=>{const r=Q(),i=s?`${s} ${r.timeDisplay}`:r.timeDisplay,h=t===void 0?b(n):`${b(n)} / ${b(t)}`;return e.jsx("div",{className:i,...o,children:`

${h}

`})};export{_ as F,Z as N,st as P,rt as S,ot as T,et as a,tt as b,nt as c};
