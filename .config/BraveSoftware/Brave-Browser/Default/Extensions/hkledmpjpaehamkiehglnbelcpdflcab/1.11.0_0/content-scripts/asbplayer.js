var asbplayer=function(){"use strict";var ta=Object.defineProperty;var na=(be,ye,ne)=>ye in be?ta(be,ye,{enumerable:!0,configurable:!0,writable:!0,value:ne}):be[ye]=ne;var pe=(be,ye,ne)=>na(be,typeof ye!="symbol"?ye+"":ye,ne);var Vt,Wt,Jt,Ht,Kt,Qt,Yt;function be(r){return r}const ne=(Wt=(Vt=globalThis.browser)==null?void 0:Vt.runtime)!=null&&Wt.id?globalThis.browser:globalThis.chrome;((Ht=(Jt=globalThis.browser)==null?void 0:Jt.runtime)==null?void 0:Ht.id)==null?globalThis.chrome:globalThis.browser;var Kr=(r=>(r.noSubtitleList="noSubtitleList",r.app="app",r))(Kr||{}),Qr=(r=>(r[r.none=0]="none",r[r.showAnkiDialog=1]="showAnkiDialog",r[r.updateLastCard=2]="updateLastCard",r[r.exportCard=3]="exportCard",r))(Qr||{}),Yr=(r=>(r[r.remember=0]="remember",r[r.play=1]="play",r[r.pause=2]="pause",r))(Yr||{}),Xr=(r=>(r[r.atStart=1]="atStart",r[r.atEnd=2]="atEnd",r))(Xr||{}),et=(r=>(r[r.remove=0]="remove",r[r.render=1]="render",r))(et||{}),Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ln(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var s=r.default;if(typeof s=="function"){var p=function v(){return this instanceof v?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};p.prototype=s.prototype}else p={};return Object.defineProperty(p,"__esModule",{value:!0}),Object.keys(r).forEach(function(v){var b=Object.getOwnPropertyDescriptor(r,v);Object.defineProperty(p,v,b.get?b:{enumerable:!0,get:function(){return r[v]}})}),p}var Ze,rt;function pn(){if(rt)return Ze;rt=1;function r(p){return p>=55296&&p<=56319}function s(p){return p>=56320&&p<=57343}return Ze=function(v,b,E){if(typeof b!="string")throw new Error("Input must be string");for(var m=b.length,_=0,R,x,c=0;c<m;c+=1){if(R=b.charCodeAt(c),x=b[c],r(R)&&s(b.charCodeAt(c+1))&&(c+=1,x+=b[c]),_+=v(x),_===E)return b.slice(0,c+1);if(_>E)return b.slice(0,c-x.length+1)}return b},Ze}var Le,tt;function yn(){if(tt)return Le;tt=1;function r(p){return p>=55296&&p<=56319}function s(p){return p>=56320&&p<=57343}return Le=function(v){if(typeof v!="string")throw new Error("Input must be string");for(var b=v.length,E=0,m=null,_=null,R=0;R<b;R++)m=v.charCodeAt(R),s(m)?_!=null&&r(_)?E+=1:E+=3:m<=127?E+=1:m>=128&&m<=2047?E+=2:m>=2048&&m<=65535&&(E+=3),_=m;return E},Le}var Ve,nt;function cn(){if(nt)return Ve;nt=1;var r=pn(),s=yn();return Ve=r.bind(null,s),Ve}var We,at;function dn(){if(at)return We;at=1;var r=cn(),s=/[\/\?<>\\:\*\|"]/g,p=/[\x00-\x1f\x80-\x9f]/g,v=/^\.+$/,b=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,E=/[\. ]+$/;function m(_,R){if(typeof _!="string")throw new Error("Input must be string");var x=_.replace(s,R).replace(p,R).replace(v,R).replace(b,R).replace(E,R);return r(x,255)}return We=function(_,R){var x=R&&R.replacement||"",c=m(_,x);return x===""?c:m(c,"")},We}dn();const oe=((Yt=(Qt=((Kt=navigator.userAgentData)==null?void 0:Kt.platform)??navigator.platform)==null?void 0:Qt.toUpperCase())==null?void 0:Yt.indexOf("MAC"))>-1,Ee={ankiConnectUrl:"http://127.0.0.1:8765",deck:"",noteType:"",sentenceField:"",definitionField:"",audioField:"",imageField:"",wordField:"",sourceField:"",urlField:"",track1Field:"",track2Field:"",track3Field:"",ankiFieldSettings:{sentence:{order:1,display:!0},definition:{order:2,display:!0},word:{order:3,display:!0},audio:{order:4,display:!0},image:{order:5,display:!0},source:{order:6,display:!0},url:{order:7,display:!0},track1:{order:8,display:!1},track2:{order:9,display:!1},track3:{order:10,display:!1}},customAnkiFieldSettings:{},...{subtitleSize:36,subtitleColor:"#ffffff",subtitleThickness:700,subtitleOutlineThickness:0,subtitleOutlineColor:"#000000",subtitleShadowThickness:3,subtitleShadowColor:"#000000",subtitleBackgroundColor:"#000000",subtitleBackgroundOpacity:0,subtitleFontFamily:"",subtitlePreview:"アあ安Aa",subtitleCustomStyles:[],subtitleBlur:!1},subtitlePositionOffset:75,topSubtitlePositionOffset:75,subtitleAlignment:"bottom",subtitleTracksV2:[],subtitlesWidth:-1,audioPaddingStart:0,audioPaddingEnd:500,maxImageWidth:0,maxImageHeight:0,surroundingSubtitlesCountRadius:2,surroundingSubtitlesTimeRadius:1e4,autoPausePreference:Xr.atEnd,subtitleHtml:et.remove,speedChangeStep:.1,fastForwardModePlaybackRate:2.7,keyBindSet:{togglePlay:{keys:"space"},toggleAutoPause:{keys:oe?"⇧+P":"shift+P"},toggleCondensedPlayback:{keys:oe?"⇧+O":"shift+O"},toggleFastForwardPlayback:{keys:oe?"⇧+F":"shift+F"},toggleSubtitles:{keys:"down"},toggleVideoSubtitleTrack1:{keys:"1"},toggleVideoSubtitleTrack2:{keys:"2"},toggleVideoSubtitleTrack3:{keys:"3"},toggleAsbplayerSubtitleTrack1:{keys:"W+1"},toggleAsbplayerSubtitleTrack2:{keys:"W+2"},toggleAsbplayerSubtitleTrack3:{keys:"W+3"},unblurAsbplayerTrack1:{keys:"B+1"},unblurAsbplayerTrack2:{keys:"B+2"},unblurAsbplayerTrack3:{keys:"B+3"},seekBackward:{keys:"A"},seekForward:{keys:"D"},seekToPreviousSubtitle:{keys:"left"},seekToNextSubtitle:{keys:"right"},seekToBeginningOfCurrentSubtitle:{keys:"up"},adjustOffsetToPreviousSubtitle:{keys:oe?"⇧+left":"ctrl+left"},adjustOffsetToNextSubtitle:{keys:oe?"⇧+right":"ctrl+right"},decreaseOffset:{keys:oe?"⇧+⌃+right":"ctrl+shift+right"},increaseOffset:{keys:oe?"⇧+⌃+left":"ctrl+shift+left"},resetOffset:{keys:oe?"⇧+⌃+down":"ctrl+shift+down"},copySubtitle:{keys:oe?"⇧+⌃+Z":"ctrl+shift+Z"},ankiExport:{keys:oe?"⇧+⌃+X":"ctrl+shift+X"},updateLastCard:{keys:oe?"⇧+⌃+U":"ctrl+shift+U"},exportCard:{keys:""},takeScreenshot:{keys:oe?"⇧+⌃+V":"ctrl+shift+V"},toggleRecording:{keys:oe?"⇧+⌃+R":"ctrl+shift+R"},decreasePlaybackRate:{keys:oe?"⇧+⌃+[":"ctrl+shift+["},increasePlaybackRate:{keys:oe?"⇧+⌃+]":"ctrl+shift+]"},toggleSidePanel:{keys:"`"},toggleRepeat:{keys:oe?"⇧+R":"shift+R"}},recordWithAudioPlayback:!0,preferMp3:!0,tabName:"asbplayer",miningHistoryStorageLimit:25,clickToMineDefaultAction:Qr.showAnkiDialog,postMiningPlaybackState:Yr.remember,themeType:"dark",copyToClipboardOnMine:!1,rememberSubtitleOffset:!0,lastSubtitleOffset:0,autoCopyCurrentSubtitle:!1,alwaysPlayOnSubtitleRepeat:!0,subtitleRegexFilter:"",subtitleRegexFilterTextReplacement:"",language:"en",customAnkiFields:{},tags:[],imageBasedSubtitleScaleFactor:1,streamingAppUrl:"https://app.asbplayer.dev",streamingDisplaySubtitles:!0,streamingRecordMedia:!0,streamingTakeScreenshot:!0,streamingCleanScreenshot:!0,streamingCropScreenshot:!0,streamingSubsDragAndDrop:!0,streamingAutoSync:!1,streamingAutoSyncPromptOnFailure:!1,streamingLastLanguagesSynced:{},streamingCondensedPlaybackMinimumSkipIntervalMs:1e3,streamingScreenshotDelay:1e3,streamingSubtitleListPreference:Kr.noSubtitleList,streamingEnableOverlay:!0,webSocketClientEnabled:!1,webSocketServerUrl:"ws://127.0.0.1:8766/ws",pauseOnHoverMode:0,lastSelectedAnkiExportMode:"default"};Object.fromEntries(Object.entries(Ee).map(([r,s])=>{if(typeof s=="string")return[r,p=>p];if(typeof s=="boolean")return[r,p=>p==="true"];if(typeof s=="number")return[r,p=>Number(p)];if(typeof s=="object")return[r,p=>JSON.parse(p)];throw new Error("Could not determine deserializer for setting")})),Object.fromEntries(Object.keys(Ee).filter(r=>typeof Ee[r]=="object").map(r=>[r,!0]));const hn=r=>`_prof_${r}_`,vn=(r,s)=>`${hn(s)}${r}`,mn=(r,s)=>r.substring(s.length+7),Re=(r,s)=>{const p={};for(const v of Object.keys(r))p[vn(v,s)]=r[v];return p},gn=(r,s)=>{const p={};for(const v of Object.keys(r)){const b=mn(v,s);p[b]=r[v]}return p};var fe={},he={},Pe={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var An=Pe.exports,ot;function bn(){return ot||(ot=1,function(r,s){(function(p){var v=s&&!s.nodeType&&s,b=r&&!r.nodeType&&r,E=typeof Ge=="object"&&Ge;(E.global===E||E.window===E||E.self===E)&&(p=E);var m,_=2147483647,R=36,x=1,c=26,f=38,n=700,o=72,i=128,e="-",t=/^xn--/,a=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=R-x,l=Math.floor,S=String.fromCharCode,y;function M(A){throw new RangeError(d[A])}function N(A,I){for(var k=A.length,$=[];k--;)$[k]=I(A[k]);return $}function U(A,I){var k=A.split("@"),$="";k.length>1&&($=k[0]+"@",A=k[1]),A=A.replace(u,".");var O=A.split("."),q=N(O,I).join(".");return $+q}function z(A){for(var I=[],k=0,$=A.length,O,q;k<$;)O=A.charCodeAt(k++),O>=55296&&O<=56319&&k<$?(q=A.charCodeAt(k++),(q&64512)==56320?I.push(((O&1023)<<10)+(q&1023)+65536):(I.push(O),k--)):I.push(O);return I}function P(A){return N(A,function(I){var k="";return I>65535&&(I-=65536,k+=S(I>>>10&1023|55296),I=56320|I&1023),k+=S(I),k}).join("")}function Z(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:R}function j(A,I){return A+22+75*(A<26)-((I!=0)<<5)}function D(A,I,k){var $=0;for(A=k?l(A/n):A>>1,A+=l(A/I);A>w*c>>1;$+=R)A=l(A/w);return l($+(w+1)*A/(A+f))}function H(A){var I=[],k=A.length,$,O=0,q=i,G=o,L,J,B,V,W,Q,ae,ee,re;for(L=A.lastIndexOf(e),L<0&&(L=0),J=0;J<L;++J)A.charCodeAt(J)>=128&&M("not-basic"),I.push(A.charCodeAt(J));for(B=L>0?L+1:0;B<k;){for(V=O,W=1,Q=R;B>=k&&M("invalid-input"),ae=Z(A.charCodeAt(B++)),(ae>=R||ae>l((_-O)/W))&&M("overflow"),O+=ae*W,ee=Q<=G?x:Q>=G+c?c:Q-G,!(ae<ee);Q+=R)re=R-ee,W>l(_/re)&&M("overflow"),W*=re;$=I.length+1,G=D(O-V,$,V==0),l(O/$)>_-q&&M("overflow"),q+=l(O/$),O%=$,I.splice(O++,0,q)}return P(I)}function C(A){var I,k,$,O,q,G,L,J,B,V,W,Q=[],ae,ee,re,le;for(A=z(A),ae=A.length,I=i,k=0,q=o,G=0;G<ae;++G)W=A[G],W<128&&Q.push(S(W));for($=O=Q.length,O&&Q.push(e);$<ae;){for(L=_,G=0;G<ae;++G)W=A[G],W>=I&&W<L&&(L=W);for(ee=$+1,L-I>l((_-k)/ee)&&M("overflow"),k+=(L-I)*ee,I=L,G=0;G<ae;++G)if(W=A[G],W<I&&++k>_&&M("overflow"),W==I){for(J=k,B=R;V=B<=q?x:B>=q+c?c:B-q,!(J<V);B+=R)le=J-V,re=R-V,Q.push(S(j(V+le%re,0))),J=l(le/re);Q.push(S(j(J,0))),q=D(k,ee,$==O),k=0,++$}++k,++I}return Q.join("")}function F(A){return U(A,function(I){return t.test(I)?H(I.slice(4).toLowerCase()):I})}function T(A){return U(A,function(I){return a.test(I)?"xn--"+C(I):I})}if(m={version:"1.4.1",ucs2:{decode:z,encode:P},decode:H,encode:C,toASCII:T,toUnicode:F},v&&b)if(r.exports==v)b.exports=m;else for(y in m)m.hasOwnProperty(y)&&(v[y]=m[y]);else p.punycode=m})(An)}(Pe,Pe.exports)),Pe.exports}var Je,it;function He(){return it||(it=1,Je=Error),Je}var Ke,st;function Qe(){return st||(st=1,Ke=EvalError),Ke}var Ye,ut;function Xe(){return ut||(ut=1,Ye=RangeError),Ye}var er,ft;function rr(){return ft||(ft=1,er=ReferenceError),er}var tr,lt;function $e(){return lt||(lt=1,tr=SyntaxError),tr}var nr,pt;function ve(){return pt||(pt=1,nr=TypeError),nr}var ar,yt;function or(){return yt||(yt=1,ar=URIError),ar}var ir,ct;function Sn(){return ct||(ct=1,ir=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},p=Symbol("test"),v=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(v)!=="[object Symbol]")return!1;var b=42;s[p]=b;for(p in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var E=Object.getOwnPropertySymbols(s);if(E.length!==1||E[0]!==p||!Object.prototype.propertyIsEnumerable.call(s,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(s,p);if(m.value!==b||m.enumerable!==!0)return!1}return!0}),ir}var sr,dt;function _e(){if(dt)return sr;dt=1;var r=typeof Symbol<"u"&&Symbol,s=Sn();return sr=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:s()},sr}var ur,ht;function Te(){if(ht)return ur;ht=1;var r={foo:{}},s=Object;return ur=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof s)},ur}var fr,vt;function wn(){if(vt)return fr;vt=1;var r="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,p=Math.max,v="[object Function]",b=function(R,x){for(var c=[],f=0;f<R.length;f+=1)c[f]=R[f];for(var n=0;n<x.length;n+=1)c[n+R.length]=x[n];return c},E=function(R,x){for(var c=[],f=x,n=0;f<R.length;f+=1,n+=1)c[n]=R[f];return c},m=function(_,R){for(var x="",c=0;c<_.length;c+=1)x+=_[c],c+1<_.length&&(x+=R);return x};return fr=function(R){var x=this;if(typeof x!="function"||s.apply(x)!==v)throw new TypeError(r+x);for(var c=E(arguments,1),f,n=function(){if(this instanceof f){var a=x.apply(this,b(c,arguments));return Object(a)===a?a:this}return x.apply(R,b(c,arguments))},o=p(0,x.length-c.length),i=[],e=0;e<o;e++)i[e]="$"+e;if(f=Function("binder","return function ("+m(i,",")+"){ return binder.apply(this,arguments); }")(n),x.prototype){var t=function(){};t.prototype=x.prototype,f.prototype=new t,t.prototype=null}return f},fr}var lr,mt;function Se(){if(mt)return lr;mt=1;var r=wn();return lr=Function.prototype.bind||r,lr}var pr,gt;function ke(){if(gt)return pr;gt=1;var r=Function.prototype.call,s=Object.prototype.hasOwnProperty,p=Se();return pr=p.call(r,s),pr}var yr,At;function cr(){if(At)return yr;At=1;var r,s=He(),p=Qe(),v=Xe(),b=rr(),E=$e(),m=ve(),_=or(),R=Function,x=function(C){try{return R('"use strict"; return ('+C+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var f=function(){throw new m},n=c?function(){try{return arguments.callee,f}catch{try{return c(arguments,"callee").get}catch{return f}}}():f,o=_e()(),i=Te()(),e=Object.getPrototypeOf||(i?function(C){return C.__proto__}:null),t={},a=typeof Uint8Array>"u"||!e?r:e(Uint8Array),u={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":o&&e?e([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":t,"%AsyncGenerator%":t,"%AsyncGeneratorFunction%":t,"%AsyncIteratorPrototype%":t,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":p,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":t,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o&&e?e(e([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!o||!e?r:e(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":v,"%ReferenceError%":b,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!o||!e?r:e(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o&&e?e(""[Symbol.iterator]()):r,"%Symbol%":o?Symbol:r,"%SyntaxError%":E,"%ThrowTypeError%":n,"%TypedArray%":a,"%TypeError%":m,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":_,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(e)try{null.error}catch(C){var d=e(e(C));u["%Error.prototype%"]=d}var w=function C(F){var T;if(F==="%AsyncFunction%")T=x("async function () {}");else if(F==="%GeneratorFunction%")T=x("function* () {}");else if(F==="%AsyncGeneratorFunction%")T=x("async function* () {}");else if(F==="%AsyncGenerator%"){var A=C("%AsyncGeneratorFunction%");A&&(T=A.prototype)}else if(F==="%AsyncIteratorPrototype%"){var I=C("%AsyncGenerator%");I&&e&&(T=e(I.prototype))}return u[F]=T,T},l={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=Se(),y=ke(),M=S.call(Function.call,Array.prototype.concat),N=S.call(Function.apply,Array.prototype.splice),U=S.call(Function.call,String.prototype.replace),z=S.call(Function.call,String.prototype.slice),P=S.call(Function.call,RegExp.prototype.exec),Z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,D=function(F){var T=z(F,0,1),A=z(F,-1);if(T==="%"&&A!=="%")throw new E("invalid intrinsic syntax, expected closing `%`");if(A==="%"&&T!=="%")throw new E("invalid intrinsic syntax, expected opening `%`");var I=[];return U(F,Z,function(k,$,O,q){I[I.length]=O?U(q,j,"$1"):$||k}),I},H=function(F,T){var A=F,I;if(y(l,A)&&(I=l[A],A="%"+I[0]+"%"),y(u,A)){var k=u[A];if(k===t&&(k=w(A)),typeof k>"u"&&!T)throw new m("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:I,name:A,value:k}}throw new E("intrinsic "+F+" does not exist!")};return yr=function(F,T){if(typeof F!="string"||F.length===0)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof T!="boolean")throw new m('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,F)===null)throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var A=D(F),I=A.length>0?A[0]:"",k=H("%"+I+"%",T),$=k.name,O=k.value,q=!1,G=k.alias;G&&(I=G[0],N(A,M([0,1],G)));for(var L=1,J=!0;L<A.length;L+=1){var B=A[L],V=z(B,0,1),W=z(B,-1);if((V==='"'||V==="'"||V==="`"||W==='"'||W==="'"||W==="`")&&V!==W)throw new E("property names with quotes must have matching quotes");if((B==="constructor"||!J)&&(q=!0),I+="."+B,$="%"+I+"%",y(u,$))O=u[$];else if(O!=null){if(!(B in O)){if(!T)throw new m("base intrinsic for "+F+" exists, but the property is not available.");return}if(c&&L+1>=A.length){var Q=c(O,B);J=!!Q,J&&"get"in Q&&!("originalValue"in Q.get)?O=Q.get:O=O[B]}else J=y(O,B),O=O[B];J&&!q&&(u[$]=O)}}return O},yr}var dr={exports:{}},hr,bt;function Fn(){if(bt)return hr;bt=1;var r,s=He(),p=Qe(),v=Xe(),b=rr(),E=$e(),m=ve(),_=or(),R=Function,x=function(C){try{return R('"use strict"; return ('+C+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var f=function(){throw new m},n=c?function(){try{return arguments.callee,f}catch{try{return c(arguments,"callee").get}catch{return f}}}():f,o=_e()(),i=Te()(),e=Object.getPrototypeOf||(i?function(C){return C.__proto__}:null),t={},a=typeof Uint8Array>"u"||!e?r:e(Uint8Array),u={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":o&&e?e([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":t,"%AsyncGenerator%":t,"%AsyncGeneratorFunction%":t,"%AsyncIteratorPrototype%":t,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":p,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":t,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o&&e?e(e([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!o||!e?r:e(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":v,"%ReferenceError%":b,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!o||!e?r:e(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o&&e?e(""[Symbol.iterator]()):r,"%Symbol%":o?Symbol:r,"%SyntaxError%":E,"%ThrowTypeError%":n,"%TypedArray%":a,"%TypeError%":m,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":_,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(e)try{null.error}catch(C){var d=e(e(C));u["%Error.prototype%"]=d}var w=function C(F){var T;if(F==="%AsyncFunction%")T=x("async function () {}");else if(F==="%GeneratorFunction%")T=x("function* () {}");else if(F==="%AsyncGeneratorFunction%")T=x("async function* () {}");else if(F==="%AsyncGenerator%"){var A=C("%AsyncGeneratorFunction%");A&&(T=A.prototype)}else if(F==="%AsyncIteratorPrototype%"){var I=C("%AsyncGenerator%");I&&e&&(T=e(I.prototype))}return u[F]=T,T},l={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=Se(),y=ke(),M=S.call(Function.call,Array.prototype.concat),N=S.call(Function.apply,Array.prototype.splice),U=S.call(Function.call,String.prototype.replace),z=S.call(Function.call,String.prototype.slice),P=S.call(Function.call,RegExp.prototype.exec),Z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,D=function(F){var T=z(F,0,1),A=z(F,-1);if(T==="%"&&A!=="%")throw new E("invalid intrinsic syntax, expected closing `%`");if(A==="%"&&T!=="%")throw new E("invalid intrinsic syntax, expected opening `%`");var I=[];return U(F,Z,function(k,$,O,q){I[I.length]=O?U(q,j,"$1"):$||k}),I},H=function(F,T){var A=F,I;if(y(l,A)&&(I=l[A],A="%"+I[0]+"%"),y(u,A)){var k=u[A];if(k===t&&(k=w(A)),typeof k>"u"&&!T)throw new m("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:I,name:A,value:k}}throw new E("intrinsic "+F+" does not exist!")};return hr=function(F,T){if(typeof F!="string"||F.length===0)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof T!="boolean")throw new m('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,F)===null)throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var A=D(F),I=A.length>0?A[0]:"",k=H("%"+I+"%",T),$=k.name,O=k.value,q=!1,G=k.alias;G&&(I=G[0],N(A,M([0,1],G)));for(var L=1,J=!0;L<A.length;L+=1){var B=A[L],V=z(B,0,1),W=z(B,-1);if((V==='"'||V==="'"||V==="`"||W==='"'||W==="'"||W==="`")&&V!==W)throw new E("property names with quotes must have matching quotes");if((B==="constructor"||!J)&&(q=!0),I+="."+B,$="%"+I+"%",y(u,$))O=u[$];else if(O!=null){if(!(B in O)){if(!T)throw new m("base intrinsic for "+F+" exists, but the property is not available.");return}if(c&&L+1>=A.length){var Q=c(O,B);J=!!Q,J&&"get"in Q&&!("originalValue"in Q.get)?O=Q.get:O=O[B]}else J=y(O,B),O=O[B];J&&!q&&(u[$]=O)}}return O},hr}var vr,St;function En(){if(St)return vr;St=1;var r,s=He(),p=Qe(),v=Xe(),b=rr(),E=$e(),m=ve(),_=or(),R=Function,x=function(C){try{return R('"use strict"; return ('+C+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var f=function(){throw new m},n=c?function(){try{return arguments.callee,f}catch{try{return c(arguments,"callee").get}catch{return f}}}():f,o=_e()(),i=Te()(),e=Object.getPrototypeOf||(i?function(C){return C.__proto__}:null),t={},a=typeof Uint8Array>"u"||!e?r:e(Uint8Array),u={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":o&&e?e([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":t,"%AsyncGenerator%":t,"%AsyncGeneratorFunction%":t,"%AsyncIteratorPrototype%":t,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":p,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":t,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o&&e?e(e([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!o||!e?r:e(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":v,"%ReferenceError%":b,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!o||!e?r:e(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o&&e?e(""[Symbol.iterator]()):r,"%Symbol%":o?Symbol:r,"%SyntaxError%":E,"%ThrowTypeError%":n,"%TypedArray%":a,"%TypeError%":m,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":_,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(e)try{null.error}catch(C){var d=e(e(C));u["%Error.prototype%"]=d}var w=function C(F){var T;if(F==="%AsyncFunction%")T=x("async function () {}");else if(F==="%GeneratorFunction%")T=x("function* () {}");else if(F==="%AsyncGeneratorFunction%")T=x("async function* () {}");else if(F==="%AsyncGenerator%"){var A=C("%AsyncGeneratorFunction%");A&&(T=A.prototype)}else if(F==="%AsyncIteratorPrototype%"){var I=C("%AsyncGenerator%");I&&e&&(T=e(I.prototype))}return u[F]=T,T},l={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=Se(),y=ke(),M=S.call(Function.call,Array.prototype.concat),N=S.call(Function.apply,Array.prototype.splice),U=S.call(Function.call,String.prototype.replace),z=S.call(Function.call,String.prototype.slice),P=S.call(Function.call,RegExp.prototype.exec),Z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,D=function(F){var T=z(F,0,1),A=z(F,-1);if(T==="%"&&A!=="%")throw new E("invalid intrinsic syntax, expected closing `%`");if(A==="%"&&T!=="%")throw new E("invalid intrinsic syntax, expected opening `%`");var I=[];return U(F,Z,function(k,$,O,q){I[I.length]=O?U(q,j,"$1"):$||k}),I},H=function(F,T){var A=F,I;if(y(l,A)&&(I=l[A],A="%"+I[0]+"%"),y(u,A)){var k=u[A];if(k===t&&(k=w(A)),typeof k>"u"&&!T)throw new m("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:I,name:A,value:k}}throw new E("intrinsic "+F+" does not exist!")};return vr=function(F,T){if(typeof F!="string"||F.length===0)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof T!="boolean")throw new m('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,F)===null)throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var A=D(F),I=A.length>0?A[0]:"",k=H("%"+I+"%",T),$=k.name,O=k.value,q=!1,G=k.alias;G&&(I=G[0],N(A,M([0,1],G)));for(var L=1,J=!0;L<A.length;L+=1){var B=A[L],V=z(B,0,1),W=z(B,-1);if((V==='"'||V==="'"||V==="`"||W==='"'||W==="'"||W==="`")&&V!==W)throw new E("property names with quotes must have matching quotes");if((B==="constructor"||!J)&&(q=!0),I+="."+B,$="%"+I+"%",y(u,$))O=u[$];else if(O!=null){if(!(B in O)){if(!T)throw new m("base intrinsic for "+F+" exists, but the property is not available.");return}if(c&&L+1>=A.length){var Q=c(O,B);J=!!Q,J&&"get"in Q&&!("originalValue"in Q.get)?O=Q.get:O=O[B]}else J=y(O,B),O=O[B];J&&!q&&(u[$]=O)}}return O},vr}var mr,wt;function gr(){if(wt)return mr;wt=1;var r=En(),s=r("%Object.defineProperty%",!0)||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return mr=s,mr}var Ar,Ft;function Pn(){if(Ft)return Ar;Ft=1;var r,s=SyntaxError,p=Function,v=TypeError,b=function(P){try{return p('"use strict"; return ('+P+").constructor;")()}catch{}},E=Object.getOwnPropertyDescriptor;if(E)try{E({},"")}catch{E=null}var m=function(){throw new v},_=E?function(){try{return arguments.callee,m}catch{try{return E(arguments,"callee").get}catch{return m}}}():m,R=_e()(),x=Te()(),c=Object.getPrototypeOf||(x?function(P){return P.__proto__}:null),f={},n=typeof Uint8Array>"u"||!c?r:c(Uint8Array),o={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":R&&c?c([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":R&&c?c(c([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!R||!c?r:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!R||!c?r:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":R&&c?c(""[Symbol.iterator]()):r,"%Symbol%":R?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":_,"%TypedArray%":n,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(c)try{null.error}catch(P){var i=c(c(P));o["%Error.prototype%"]=i}var e=function P(Z){var j;if(Z==="%AsyncFunction%")j=b("async function () {}");else if(Z==="%GeneratorFunction%")j=b("function* () {}");else if(Z==="%AsyncGeneratorFunction%")j=b("async function* () {}");else if(Z==="%AsyncGenerator%"){var D=P("%AsyncGeneratorFunction%");D&&(j=D.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var H=P("%AsyncGenerator%");H&&c&&(j=c(H.prototype))}return o[Z]=j,j},t={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},a=Se(),u=ke(),d=a.call(Function.call,Array.prototype.concat),w=a.call(Function.apply,Array.prototype.splice),l=a.call(Function.call,String.prototype.replace),S=a.call(Function.call,String.prototype.slice),y=a.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,U=function(Z){var j=S(Z,0,1),D=S(Z,-1);if(j==="%"&&D!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(D==="%"&&j!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var H=[];return l(Z,M,function(C,F,T,A){H[H.length]=T?l(A,N,"$1"):F||C}),H},z=function(Z,j){var D=Z,H;if(u(t,D)&&(H=t[D],D="%"+H[0]+"%"),u(o,D)){var C=o[D];if(C===f&&(C=e(D)),typeof C>"u"&&!j)throw new v("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:H,name:D,value:C}}throw new s("intrinsic "+Z+" does not exist!")};return Ar=function(Z,j){if(typeof Z!="string"||Z.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof j!="boolean")throw new v('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,Z)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=U(Z),H=D.length>0?D[0]:"",C=z("%"+H+"%",j),F=C.name,T=C.value,A=!1,I=C.alias;I&&(H=I[0],w(D,d([0,1],I)));for(var k=1,$=!0;k<D.length;k+=1){var O=D[k],q=S(O,0,1),G=S(O,-1);if((q==='"'||q==="'"||q==="`"||G==='"'||G==="'"||G==="`")&&q!==G)throw new s("property names with quotes must have matching quotes");if((O==="constructor"||!$)&&(A=!0),H+="."+O,F="%"+H+"%",u(o,F))T=o[F];else if(T!=null){if(!(O in T)){if(!j)throw new v("base intrinsic for "+Z+" exists, but the property is not available.");return}if(E&&k+1>=D.length){var L=E(T,O);$=!!L,$&&"get"in L&&!("originalValue"in L.get)?T=L.get:T=T[O]}else $=u(T,O),T=T[O];$&&!A&&(o[F]=T)}}return T},Ar}var br,Et;function Pt(){if(Et)return br;Et=1;var r=Pn(),s=r("%Object.getOwnPropertyDescriptor%",!0);if(s)try{s([],"length")}catch{s=null}return br=s,br}var Sr,It;function In(){if(It)return Sr;It=1;var r=gr(),s=$e(),p=ve(),v=Pt();return Sr=function(E,m,_){if(!E||typeof E!="object"&&typeof E!="function")throw new p("`obj` must be an object or a function`");if(typeof m!="string"&&typeof m!="symbol")throw new p("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new p("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new p("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new p("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new p("`loose`, if provided, must be a boolean");var R=arguments.length>3?arguments[3]:null,x=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,n=!!v&&v(E,m);if(r)r(E,m,{configurable:c===null&&n?n.configurable:!c,enumerable:R===null&&n?n.enumerable:!R,value:_,writable:x===null&&n?n.writable:!x});else if(f||!R&&!x&&!c)E[m]=_;else throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Sr}var wr,xt;function xn(){if(xt)return wr;xt=1;var r=gr(),s=function(){return!!r};return s.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},wr=s,wr}var Fr,Ot;function On(){if(Ot)return Fr;Ot=1;var r=Fn(),s=In(),p=xn()(),v=Pt(),b=ve(),E=r("%Math.floor%");return Fr=function(_,R){if(typeof _!="function")throw new b("`fn` is not a function");if(typeof R!="number"||R<0||R>4294967295||E(R)!==R)throw new b("`length` must be a positive 32-bit integer");var x=arguments.length>2&&!!arguments[2],c=!0,f=!0;if("length"in _&&v){var n=v(_,"length");n&&!n.configurable&&(c=!1),n&&!n.writable&&(f=!1)}return(c||f||!x)&&(p?s(_,"length",R,!0,!0):s(_,"length",R)),_},Fr}var Rt;function Rn(){return Rt||(Rt=1,function(r){var s=Se(),p=cr(),v=On(),b=ve(),E=p("%Function.prototype.apply%"),m=p("%Function.prototype.call%"),_=p("%Reflect.apply%",!0)||s.call(m,E),R=gr(),x=p("%Math.max%");r.exports=function(n){if(typeof n!="function")throw new b("a function is required");var o=_(s,m,arguments);return v(o,1+x(0,n.length-(arguments.length-1)),!0)};var c=function(){return _(s,E,arguments)};R?R(r.exports,"apply",{value:c}):r.exports.apply=c}(dr)),dr.exports}var Er,$t;function $n(){if($t)return Er;$t=1;var r=cr(),s=Rn(),p=s(r("String.prototype.indexOf"));return Er=function(b,E){var m=r(b,!!E);return typeof m=="function"&&p(b,".prototype.")>-1?s(m):m},Er}const _n=ln(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Pr,_t;function Tn(){if(_t)return Pr;_t=1;var r=typeof Map=="function"&&Map.prototype,s=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,p=r&&s&&typeof s.get=="function"?s.get:null,v=r&&Map.prototype.forEach,b=typeof Set=="function"&&Set.prototype,E=Object.getOwnPropertyDescriptor&&b?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,m=b&&E&&typeof E.get=="function"?E.get:null,_=b&&Set.prototype.forEach,R=typeof WeakMap=="function"&&WeakMap.prototype,x=R?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,f=c?WeakSet.prototype.has:null,n=typeof WeakRef=="function"&&WeakRef.prototype,o=n?WeakRef.prototype.deref:null,i=Boolean.prototype.valueOf,e=Object.prototype.toString,t=Function.prototype.toString,a=String.prototype.match,u=String.prototype.slice,d=String.prototype.replace,w=String.prototype.toUpperCase,l=String.prototype.toLowerCase,S=RegExp.prototype.test,y=Array.prototype.concat,M=Array.prototype.join,N=Array.prototype.slice,U=Math.floor,z=typeof BigInt=="function"?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,j=typeof Symbol=="function"&&typeof Symbol.iterator=="object",D=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===j||!0)?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,C=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(h){return h.__proto__}:null);function F(h,g){if(h===1/0||h===-1/0||h!==h||h&&h>-1e3&&h<1e3||S.call(/e/,g))return g;var Y=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof h=="number"){var X=h<0?-U(-h):U(h);if(X!==h){var te=String(X),K=u.call(g,te.length+1);return d.call(te,Y,"$&_")+"."+d.call(d.call(K,/([0-9]{3})/g,"$&_"),/_$/,"")}}return d.call(g,Y,"$&_")}var T=_n,A=T.custom,I=W(A)?A:null;Pr=function h(g,Y,X,te){var K=Y||{};if(ee(K,"quoteStyle")&&K.quoteStyle!=="single"&&K.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ee(K,"maxStringLength")&&(typeof K.maxStringLength=="number"?K.maxStringLength<0&&K.maxStringLength!==1/0:K.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ce=ee(K,"customInspect")?K.customInspect:!0;if(typeof ce!="boolean"&&ce!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ee(K,"indent")&&K.indent!==null&&K.indent!=="	"&&!(parseInt(K.indent,10)===K.indent&&K.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ee(K,"numericSeparator")&&typeof K.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ae=K.numericSeparator;if(typeof g>"u")return"undefined";if(g===null)return"null";if(typeof g=="boolean")return g?"true":"false";if(typeof g=="string")return Xt(g,K);if(typeof g=="number"){if(g===0)return 1/0/g>0?"0":"-0";var se=String(g);return Ae?F(g,se):se}if(typeof g=="bigint"){var de=String(g)+"n";return Ae?F(g,de):de}var Gr=typeof K.depth>"u"?5:K.depth;if(typeof X>"u"&&(X=0),X>=Gr&&Gr>0&&typeof g=="object")return O(g)?"[Array]":"[Object]";var we=Xn(K,X);if(typeof te>"u")te=[];else if(ge(te,g)>=0)return"[Circular]";function ue(Fe,je,ra){if(je&&(te=N.call(te),te.push(je)),ra){var fn={depth:K.depth};return ee(K,"quoteStyle")&&(fn.quoteStyle=K.quoteStyle),h(Fe,fn,X+1,te)}return h(Fe,K,X+1,te)}if(typeof g=="function"&&!G(g)){var rn=le(g),tn=qe(g,ue);return"[Function"+(rn?": "+rn:" (anonymous)")+"]"+(tn.length>0?" { "+M.call(tn,", ")+" }":"")}if(W(g)){var nn=j?d.call(String(g),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(g);return typeof g=="object"&&!j?xe(nn):nn}if(Kn(g)){for(var Oe="<"+l.call(String(g.nodeName)),Zr=g.attributes||[],ze=0;ze<Zr.length;ze++)Oe+=" "+Zr[ze].name+"="+k($(Zr[ze].value),"double",K);return Oe+=">",g.childNodes&&g.childNodes.length&&(Oe+="..."),Oe+="</"+l.call(String(g.nodeName))+">",Oe}if(O(g)){if(g.length===0)return"[]";var Lr=qe(g,ue);return we&&!Yn(Lr)?"["+jr(Lr,we)+"]":"[ "+M.call(Lr,", ")+" ]"}if(L(g)){var Vr=qe(g,ue);return!("cause"in Error.prototype)&&"cause"in g&&!H.call(g,"cause")?"{ ["+String(g)+"] "+M.call(y.call("[cause]: "+ue(g.cause),Vr),", ")+" }":Vr.length===0?"["+String(g)+"]":"{ ["+String(g)+"] "+M.call(Vr,", ")+" }"}if(typeof g=="object"&&ce){if(I&&typeof g[I]=="function"&&T)return T(g,{depth:Gr-X});if(ce!=="symbol"&&typeof g.inspect=="function")return g.inspect()}if(qr(g)){var an=[];return v&&v.call(g,function(Fe,je){an.push(ue(je,g,!0)+" => "+ue(Fe,g))}),en("Map",p.call(g),an,we)}if(Jn(g)){var on=[];return _&&_.call(g,function(Fe){on.push(ue(Fe,g))}),en("Set",m.call(g),on,we)}if(Vn(g))return zr("WeakMap");if(Hn(g))return zr("WeakSet");if(Wn(g))return zr("WeakRef");if(B(g))return xe(ue(Number(g)));if(Q(g))return xe(ue(z.call(g)));if(V(g))return xe(i.call(g));if(J(g))return xe(ue(String(g)));if(typeof window<"u"&&g===window)return"{ [object Window] }";if(g===Ge)return"{ [object globalThis] }";if(!q(g)&&!G(g)){var Wr=qe(g,ue),sn=C?C(g)===Object.prototype:g instanceof Object||g.constructor===Object,Jr=g instanceof Object?"":"null prototype",un=!sn&&D&&Object(g)===g&&D in g?u.call(re(g),8,-1):Jr?"Object":"",ea=sn||typeof g.constructor!="function"?"":g.constructor.name?g.constructor.name+" ":"",Hr=ea+(un||Jr?"["+M.call(y.call([],un||[],Jr||[]),": ")+"] ":"");return Wr.length===0?Hr+"{}":we?Hr+"{"+jr(Wr,we)+"}":Hr+"{ "+M.call(Wr,", ")+" }"}return String(g)};function k(h,g,Y){var X=(Y.quoteStyle||g)==="double"?'"':"'";return X+h+X}function $(h){return d.call(String(h),/"/g,"&quot;")}function O(h){return re(h)==="[object Array]"&&(!D||!(typeof h=="object"&&D in h))}function q(h){return re(h)==="[object Date]"&&(!D||!(typeof h=="object"&&D in h))}function G(h){return re(h)==="[object RegExp]"&&(!D||!(typeof h=="object"&&D in h))}function L(h){return re(h)==="[object Error]"&&(!D||!(typeof h=="object"&&D in h))}function J(h){return re(h)==="[object String]"&&(!D||!(typeof h=="object"&&D in h))}function B(h){return re(h)==="[object Number]"&&(!D||!(typeof h=="object"&&D in h))}function V(h){return re(h)==="[object Boolean]"&&(!D||!(typeof h=="object"&&D in h))}function W(h){if(j)return h&&typeof h=="object"&&h instanceof Symbol;if(typeof h=="symbol")return!0;if(!h||typeof h!="object"||!Z)return!1;try{return Z.call(h),!0}catch{}return!1}function Q(h){if(!h||typeof h!="object"||!z)return!1;try{return z.call(h),!0}catch{}return!1}var ae=Object.prototype.hasOwnProperty||function(h){return h in this};function ee(h,g){return ae.call(h,g)}function re(h){return e.call(h)}function le(h){if(h.name)return h.name;var g=a.call(t.call(h),/^function\s*([\w$]+)/);return g?g[1]:null}function ge(h,g){if(h.indexOf)return h.indexOf(g);for(var Y=0,X=h.length;Y<X;Y++)if(h[Y]===g)return Y;return-1}function qr(h){if(!p||!h||typeof h!="object")return!1;try{p.call(h);try{m.call(h)}catch{return!0}return h instanceof Map}catch{}return!1}function Vn(h){if(!x||!h||typeof h!="object")return!1;try{x.call(h,x);try{f.call(h,f)}catch{return!0}return h instanceof WeakMap}catch{}return!1}function Wn(h){if(!o||!h||typeof h!="object")return!1;try{return o.call(h),!0}catch{}return!1}function Jn(h){if(!m||!h||typeof h!="object")return!1;try{m.call(h);try{p.call(h)}catch{return!0}return h instanceof Set}catch{}return!1}function Hn(h){if(!f||!h||typeof h!="object")return!1;try{f.call(h,f);try{x.call(h,x)}catch{return!0}return h instanceof WeakSet}catch{}return!1}function Kn(h){return!h||typeof h!="object"?!1:typeof HTMLElement<"u"&&h instanceof HTMLElement?!0:typeof h.nodeName=="string"&&typeof h.getAttribute=="function"}function Xt(h,g){if(h.length>g.maxStringLength){var Y=h.length-g.maxStringLength,X="... "+Y+" more character"+(Y>1?"s":"");return Xt(u.call(h,0,g.maxStringLength),g)+X}var te=d.call(d.call(h,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qn);return k(te,"single",g)}function Qn(h){var g=h.charCodeAt(0),Y={8:"b",9:"t",10:"n",12:"f",13:"r"}[g];return Y?"\\"+Y:"\\x"+(g<16?"0":"")+w.call(g.toString(16))}function xe(h){return"Object("+h+")"}function zr(h){return h+" { ? }"}function en(h,g,Y,X){var te=X?jr(Y,X):M.call(Y,", ");return h+" ("+g+") {"+te+"}"}function Yn(h){for(var g=0;g<h.length;g++)if(ge(h[g],`
`)>=0)return!1;return!0}function Xn(h,g){var Y;if(h.indent==="	")Y="	";else if(typeof h.indent=="number"&&h.indent>0)Y=M.call(Array(h.indent+1)," ");else return null;return{base:Y,prev:M.call(Array(g+1),Y)}}function jr(h,g){if(h.length===0)return"";var Y=`
`+g.prev+g.base;return Y+M.call(h,","+Y)+`
`+g.prev}function qe(h,g){var Y=O(h),X=[];if(Y){X.length=h.length;for(var te=0;te<h.length;te++)X[te]=ee(h,te)?g(h[te],h):""}var K=typeof P=="function"?P(h):[],ce;if(j){ce={};for(var Ae=0;Ae<K.length;Ae++)ce["$"+K[Ae]]=K[Ae]}for(var se in h)ee(h,se)&&(Y&&String(Number(se))===se&&se<h.length||j&&ce["$"+se]instanceof Symbol||(S.call(/[^\w$]/,se)?X.push(g(se,h)+": "+g(h[se],h)):X.push(se+": "+g(h[se],h))));if(typeof P=="function")for(var de=0;de<K.length;de++)H.call(h,K[de])&&X.push("["+g(K[de])+"]: "+g(h[K[de]],h));return X}return Pr}var Ir,Tt;function kn(){if(Tt)return Ir;Tt=1;var r=cr(),s=$n(),p=Tn(),v=ve(),b=r("%WeakMap%",!0),E=r("%Map%",!0),m=s("WeakMap.prototype.get",!0),_=s("WeakMap.prototype.set",!0),R=s("WeakMap.prototype.has",!0),x=s("Map.prototype.get",!0),c=s("Map.prototype.set",!0),f=s("Map.prototype.has",!0),n=function(t,a){for(var u=t,d;(d=u.next)!==null;u=d)if(d.key===a)return u.next=d.next,d.next=t.next,t.next=d,d},o=function(t,a){var u=n(t,a);return u&&u.value},i=function(t,a,u){var d=n(t,a);d?d.value=u:t.next={key:a,next:t.next,value:u}},e=function(t,a){return!!n(t,a)};return Ir=function(){var a,u,d,w={assert:function(l){if(!w.has(l))throw new v("Side channel does not contain "+p(l))},get:function(l){if(b&&l&&(typeof l=="object"||typeof l=="function")){if(a)return m(a,l)}else if(E){if(u)return x(u,l)}else if(d)return o(d,l)},has:function(l){if(b&&l&&(typeof l=="object"||typeof l=="function")){if(a)return R(a,l)}else if(E){if(u)return f(u,l)}else if(d)return e(d,l);return!1},set:function(l,S){b&&l&&(typeof l=="object"||typeof l=="function")?(a||(a=new b),_(a,l,S)):E?(u||(u=new E),c(u,l,S)):(d||(d={key:{},next:null}),i(d,l,S))}};return w},Ir}var xr,kt;function Or(){if(kt)return xr;kt=1;var r=String.prototype.replace,s=/%20/g,p={RFC1738:"RFC1738",RFC3986:"RFC3986"};return xr={default:p.RFC3986,formatters:{RFC1738:function(v){return r.call(v,s,"+")},RFC3986:function(v){return String(v)}},RFC1738:p.RFC1738,RFC3986:p.RFC3986},xr}var Rr,Ct;function Mt(){if(Ct)return Rr;Ct=1;var r=Or(),s=Object.prototype.hasOwnProperty,p=Array.isArray,v=function(){for(var t=[],a=0;a<256;++a)t.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase());return t}(),b=function(a){for(;a.length>1;){var u=a.pop(),d=u.obj[u.prop];if(p(d)){for(var w=[],l=0;l<d.length;++l)typeof d[l]<"u"&&w.push(d[l]);u.obj[u.prop]=w}}},E=function(a,u){for(var d=u&&u.plainObjects?Object.create(null):{},w=0;w<a.length;++w)typeof a[w]<"u"&&(d[w]=a[w]);return d},m=function t(a,u,d){if(!u)return a;if(typeof u!="object"){if(p(a))a.push(u);else if(a&&typeof a=="object")(d&&(d.plainObjects||d.allowPrototypes)||!s.call(Object.prototype,u))&&(a[u]=!0);else return[a,u];return a}if(!a||typeof a!="object")return[a].concat(u);var w=a;return p(a)&&!p(u)&&(w=E(a,d)),p(a)&&p(u)?(u.forEach(function(l,S){if(s.call(a,S)){var y=a[S];y&&typeof y=="object"&&l&&typeof l=="object"?a[S]=t(y,l,d):a.push(l)}else a[S]=l}),a):Object.keys(u).reduce(function(l,S){var y=u[S];return s.call(l,S)?l[S]=t(l[S],y,d):l[S]=y,l},w)},_=function(a,u){return Object.keys(u).reduce(function(d,w){return d[w]=u[w],d},a)},R=function(t,a,u){var d=t.replace(/\+/g," ");if(u==="iso-8859-1")return d.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(d)}catch{return d}},x=1024,c=function(a,u,d,w,l){if(a.length===0)return a;var S=a;if(typeof a=="symbol"?S=Symbol.prototype.toString.call(a):typeof a!="string"&&(S=String(a)),d==="iso-8859-1")return escape(S).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var y="",M=0;M<S.length;M+=x){for(var N=S.length>=x?S.slice(M,M+x):S,U=[],z=0;z<N.length;++z){var P=N.charCodeAt(z);if(P===45||P===46||P===95||P===126||P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122||l===r.RFC1738&&(P===40||P===41)){U[U.length]=N.charAt(z);continue}if(P<128){U[U.length]=v[P];continue}if(P<2048){U[U.length]=v[192|P>>6]+v[128|P&63];continue}if(P<55296||P>=57344){U[U.length]=v[224|P>>12]+v[128|P>>6&63]+v[128|P&63];continue}z+=1,P=65536+((P&1023)<<10|N.charCodeAt(z)&1023),U[U.length]=v[240|P>>18]+v[128|P>>12&63]+v[128|P>>6&63]+v[128|P&63]}y+=U.join("")}return y},f=function(a){for(var u=[{obj:{o:a},prop:"o"}],d=[],w=0;w<u.length;++w)for(var l=u[w],S=l.obj[l.prop],y=Object.keys(S),M=0;M<y.length;++M){var N=y[M],U=S[N];typeof U=="object"&&U!==null&&d.indexOf(U)===-1&&(u.push({obj:S,prop:N}),d.push(U))}return b(u),a},n=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"},o=function(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))},i=function(a,u){return[].concat(a,u)},e=function(a,u){if(p(a)){for(var d=[],w=0;w<a.length;w+=1)d.push(u(a[w]));return d}return u(a)};return Rr={arrayToObject:E,assign:_,combine:i,compact:f,decode:R,encode:c,isBuffer:o,isRegExp:n,maybeMap:e,merge:m},Rr}var $r,Ut;function Cn(){if(Ut)return $r;Ut=1;var r=kn(),s=Mt(),p=Or(),v=Object.prototype.hasOwnProperty,b={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,a){return t+"["+a+"]"},repeat:function(t){return t}},E=Array.isArray,m=Array.prototype.push,_=function(e,t){m.apply(e,E(t)?t:[t])},R=Date.prototype.toISOString,x=p.default,c={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:s.encode,encodeValuesOnly:!1,format:x,formatter:p.formatters[x],indices:!1,serializeDate:function(t){return R.call(t)},skipNulls:!1,strictNullHandling:!1},f=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},n={},o=function e(t,a,u,d,w,l,S,y,M,N,U,z,P,Z,j,D,H,C){for(var F=t,T=C,A=0,I=!1;(T=T.get(n))!==void 0&&!I;){var k=T.get(t);if(A+=1,typeof k<"u"){if(k===A)throw new RangeError("Cyclic object value");I=!0}typeof T.get(n)>"u"&&(A=0)}if(typeof N=="function"?F=N(a,F):F instanceof Date?F=P(F):u==="comma"&&E(F)&&(F=s.maybeMap(F,function(re){return re instanceof Date?P(re):re})),F===null){if(l)return M&&!D?M(a,c.encoder,H,"key",Z):a;F=""}if(f(F)||s.isBuffer(F)){if(M){var $=D?a:M(a,c.encoder,H,"key",Z);return[j($)+"="+j(M(F,c.encoder,H,"value",Z))]}return[j(a)+"="+j(String(F))]}var O=[];if(typeof F>"u")return O;var q;if(u==="comma"&&E(F))D&&M&&(F=s.maybeMap(F,M)),q=[{value:F.length>0?F.join(",")||null:void 0}];else if(E(N))q=N;else{var G=Object.keys(F);q=U?G.sort(U):G}var L=y?a.replace(/\./g,"%2E"):a,J=d&&E(F)&&F.length===1?L+"[]":L;if(w&&E(F)&&F.length===0)return J+"[]";for(var B=0;B<q.length;++B){var V=q[B],W=typeof V=="object"&&typeof V.value<"u"?V.value:F[V];if(!(S&&W===null)){var Q=z&&y?V.replace(/\./g,"%2E"):V,ae=E(F)?typeof u=="function"?u(J,Q):J:J+(z?"."+Q:"["+Q+"]");C.set(t,A);var ee=r();ee.set(n,C),_(O,e(W,ae,u,d,w,l,S,y,u==="comma"&&D&&E(F)?null:M,N,U,z,P,Z,j,D,H,ee))}}return O},i=function(t){if(!t)return c;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var a=t.charset||c.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var u=p.default;if(typeof t.format<"u"){if(!v.call(p.formatters,t.format))throw new TypeError("Unknown format option provided.");u=t.format}var d=p.formatters[u],w=c.filter;(typeof t.filter=="function"||E(t.filter))&&(w=t.filter);var l;if(t.arrayFormat in b?l=t.arrayFormat:"indices"in t?l=t.indices?"indices":"repeat":l=c.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var S=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:c.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:c.addQueryPrefix,allowDots:S,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:c.allowEmptyArrays,arrayFormat:l,charset:a,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:c.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?c.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:c.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:c.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:c.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:c.encodeValuesOnly,filter:w,format:u,formatter:d,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:c.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:c.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:c.strictNullHandling}};return $r=function(e,t){var a=e,u=i(t),d,w;typeof u.filter=="function"?(w=u.filter,a=w("",a)):E(u.filter)&&(w=u.filter,d=w);var l=[];if(typeof a!="object"||a===null)return"";var S=b[u.arrayFormat],y=S==="comma"&&u.commaRoundTrip;d||(d=Object.keys(a)),u.sort&&d.sort(u.sort);for(var M=r(),N=0;N<d.length;++N){var U=d[N];u.skipNulls&&a[U]===null||_(l,o(a[U],U,S,y,u.allowEmptyArrays,u.strictNullHandling,u.skipNulls,u.encodeDotInKeys,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,M))}var z=l.join(u.delimiter),P=u.addQueryPrefix===!0?"?":"";return u.charsetSentinel&&(u.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),z.length>0?P+z:""},$r}var _r,Dt;function Mn(){if(Dt)return _r;Dt=1;var r=Mt(),s=Object.prototype.hasOwnProperty,p=Array.isArray,v={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},b=function(n){return n.replace(/&#(\d+);/g,function(o,i){return String.fromCharCode(parseInt(i,10))})},E=function(n,o){return n&&typeof n=="string"&&o.comma&&n.indexOf(",")>-1?n.split(","):n},m="utf8=%26%2310003%3B",_="utf8=%E2%9C%93",R=function(o,i){var e={__proto__:null},t=i.ignoreQueryPrefix?o.replace(/^\?/,""):o;t=t.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=i.parameterLimit===1/0?void 0:i.parameterLimit,u=t.split(i.delimiter,a),d=-1,w,l=i.charset;if(i.charsetSentinel)for(w=0;w<u.length;++w)u[w].indexOf("utf8=")===0&&(u[w]===_?l="utf-8":u[w]===m&&(l="iso-8859-1"),d=w,w=u.length);for(w=0;w<u.length;++w)if(w!==d){var S=u[w],y=S.indexOf("]="),M=y===-1?S.indexOf("="):y+1,N,U;M===-1?(N=i.decoder(S,v.decoder,l,"key"),U=i.strictNullHandling?null:""):(N=i.decoder(S.slice(0,M),v.decoder,l,"key"),U=r.maybeMap(E(S.slice(M+1),i),function(P){return i.decoder(P,v.decoder,l,"value")})),U&&i.interpretNumericEntities&&l==="iso-8859-1"&&(U=b(U)),S.indexOf("[]=")>-1&&(U=p(U)?[U]:U);var z=s.call(e,N);z&&i.duplicates==="combine"?e[N]=r.combine(e[N],U):(!z||i.duplicates==="last")&&(e[N]=U)}return e},x=function(n,o,i,e){for(var t=e?o:E(o,i),a=n.length-1;a>=0;--a){var u,d=n[a];if(d==="[]"&&i.parseArrays)u=i.allowEmptyArrays&&(t===""||i.strictNullHandling&&t===null)?[]:[].concat(t);else{u=i.plainObjects?Object.create(null):{};var w=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,l=i.decodeDotInKeys?w.replace(/%2E/g,"."):w,S=parseInt(l,10);!i.parseArrays&&l===""?u={0:t}:!isNaN(S)&&d!==l&&String(S)===l&&S>=0&&i.parseArrays&&S<=i.arrayLimit?(u=[],u[S]=t):l!=="__proto__"&&(u[l]=t)}t=u}return t},c=function(o,i,e,t){if(o){var a=e.allowDots?o.replace(/\.([^.[]+)/g,"[$1]"):o,u=/(\[[^[\]]*])/,d=/(\[[^[\]]*])/g,w=e.depth>0&&u.exec(a),l=w?a.slice(0,w.index):a,S=[];if(l){if(!e.plainObjects&&s.call(Object.prototype,l)&&!e.allowPrototypes)return;S.push(l)}for(var y=0;e.depth>0&&(w=d.exec(a))!==null&&y<e.depth;){if(y+=1,!e.plainObjects&&s.call(Object.prototype,w[1].slice(1,-1))&&!e.allowPrototypes)return;S.push(w[1])}if(w){if(e.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+e.depth+" and strictDepth is true");S.push("["+a.slice(w.index)+"]")}return x(S,i,e,t)}},f=function(o){if(!o)return v;if(typeof o.allowEmptyArrays<"u"&&typeof o.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof o.decodeDotInKeys<"u"&&typeof o.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(o.decoder!==null&&typeof o.decoder<"u"&&typeof o.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof o.charset<"u"&&o.charset!=="utf-8"&&o.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=typeof o.charset>"u"?v.charset:o.charset,e=typeof o.duplicates>"u"?v.duplicates:o.duplicates;if(e!=="combine"&&e!=="first"&&e!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var t=typeof o.allowDots>"u"?o.decodeDotInKeys===!0?!0:v.allowDots:!!o.allowDots;return{allowDots:t,allowEmptyArrays:typeof o.allowEmptyArrays=="boolean"?!!o.allowEmptyArrays:v.allowEmptyArrays,allowPrototypes:typeof o.allowPrototypes=="boolean"?o.allowPrototypes:v.allowPrototypes,allowSparse:typeof o.allowSparse=="boolean"?o.allowSparse:v.allowSparse,arrayLimit:typeof o.arrayLimit=="number"?o.arrayLimit:v.arrayLimit,charset:i,charsetSentinel:typeof o.charsetSentinel=="boolean"?o.charsetSentinel:v.charsetSentinel,comma:typeof o.comma=="boolean"?o.comma:v.comma,decodeDotInKeys:typeof o.decodeDotInKeys=="boolean"?o.decodeDotInKeys:v.decodeDotInKeys,decoder:typeof o.decoder=="function"?o.decoder:v.decoder,delimiter:typeof o.delimiter=="string"||r.isRegExp(o.delimiter)?o.delimiter:v.delimiter,depth:typeof o.depth=="number"||o.depth===!1?+o.depth:v.depth,duplicates:e,ignoreQueryPrefix:o.ignoreQueryPrefix===!0,interpretNumericEntities:typeof o.interpretNumericEntities=="boolean"?o.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof o.parameterLimit=="number"?o.parameterLimit:v.parameterLimit,parseArrays:o.parseArrays!==!1,plainObjects:typeof o.plainObjects=="boolean"?o.plainObjects:v.plainObjects,strictDepth:typeof o.strictDepth=="boolean"?!!o.strictDepth:v.strictDepth,strictNullHandling:typeof o.strictNullHandling=="boolean"?o.strictNullHandling:v.strictNullHandling}};return _r=function(n,o){var i=f(o);if(n===""||n===null||typeof n>"u")return i.plainObjects?Object.create(null):{};for(var e=typeof n=="string"?R(n,i):n,t=i.plainObjects?Object.create(null):{},a=Object.keys(e),u=0;u<a.length;++u){var d=a[u],w=c(d,e[d],i,typeof n=="string");t=r.merge(t,w,i)}return i.allowSparse===!0?t:r.compact(t)},_r}var Tr,Nt;function Un(){if(Nt)return Tr;Nt=1;var r=Cn(),s=Mn(),p=Or();return Tr={formats:p,parse:s,stringify:r},Tr}var Bt;function kr(){if(Bt)return he;Bt=1;var r=bn();function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var p=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,b=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,E=["<",">",'"',"`"," ","\r",`
`,"	"],m=["{","}","|","\\","^","`"].concat(E),_=["'"].concat(m),R=["%","/","?",";","#"].concat(_),x=["/","?","#"],c=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,n=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,o={javascript:!0,"javascript:":!0},i={javascript:!0,"javascript:":!0},e={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},t=Un();function a(l,S,y){if(l&&typeof l=="object"&&l instanceof s)return l;var M=new s;return M.parse(l,S,y),M}s.prototype.parse=function(l,S,y){if(typeof l!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof l);var M=l.indexOf("?"),N=M!==-1&&M<l.indexOf("#")?"?":"#",U=l.split(N),z=/\\/g;U[0]=U[0].replace(z,"/"),l=U.join(N);var P=l;if(P=P.trim(),!y&&l.split("#").length===1){var Z=b.exec(P);if(Z)return this.path=P,this.href=P,this.pathname=Z[1],Z[2]?(this.search=Z[2],S?this.query=t.parse(this.search.substr(1)):this.query=this.search.substr(1)):S&&(this.search="",this.query={}),this}var j=p.exec(P);if(j){j=j[0];var D=j.toLowerCase();this.protocol=D,P=P.substr(j.length)}if(y||j||P.match(/^\/\/[^@/]+@[^@/]+/)){var H=P.substr(0,2)==="//";H&&!(j&&i[j])&&(P=P.substr(2),this.slashes=!0)}if(!i[j]&&(H||j&&!e[j])){for(var C=-1,F=0;F<x.length;F++){var T=P.indexOf(x[F]);T!==-1&&(C===-1||T<C)&&(C=T)}var A,I;C===-1?I=P.lastIndexOf("@"):I=P.lastIndexOf("@",C),I!==-1&&(A=P.slice(0,I),P=P.slice(I+1),this.auth=decodeURIComponent(A)),C=-1;for(var F=0;F<R.length;F++){var T=P.indexOf(R[F]);T!==-1&&(C===-1||T<C)&&(C=T)}C===-1&&(C=P.length),this.host=P.slice(0,C),P=P.slice(C),this.parseHost(),this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k)for(var $=this.hostname.split(/\./),F=0,O=$.length;F<O;F++){var q=$[F];if(q&&!q.match(f)){for(var G="",L=0,J=q.length;L<J;L++)q.charCodeAt(L)>127?G+="x":G+=q[L];if(!G.match(f)){var B=$.slice(0,F),V=$.slice(F+1),W=q.match(n);W&&(B.push(W[1]),V.unshift(W[2])),V.length&&(P="/"+V.join(".")+P),this.hostname=B.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var Q=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+Q,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),P[0]!=="/"&&(P="/"+P))}if(!o[D])for(var F=0,O=_.length;F<O;F++){var ee=_[F];if(P.indexOf(ee)!==-1){var re=encodeURIComponent(ee);re===ee&&(re=escape(ee)),P=P.split(ee).join(re)}}var le=P.indexOf("#");le!==-1&&(this.hash=P.substr(le),P=P.slice(0,le));var ge=P.indexOf("?");if(ge!==-1?(this.search=P.substr(ge),this.query=P.substr(ge+1),S&&(this.query=t.parse(this.query)),P=P.slice(0,ge)):S&&(this.search="",this.query={}),P&&(this.pathname=P),e[D]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",qr=this.search||"";this.path=Q+qr}return this.href=this.format(),this};function u(l){return typeof l=="string"&&(l=a(l)),l instanceof s?l.format():s.prototype.format.call(l)}s.prototype.format=function(){var l=this.auth||"";l&&(l=encodeURIComponent(l),l=l.replace(/%3A/i,":"),l+="@");var S=this.protocol||"",y=this.pathname||"",M=this.hash||"",N=!1,U="";this.host?N=l+this.host:this.hostname&&(N=l+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(U=t.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var z=this.search||U&&"?"+U||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||e[S])&&N!==!1?(N="//"+(N||""),y&&y.charAt(0)!=="/"&&(y="/"+y)):N||(N=""),M&&M.charAt(0)!=="#"&&(M="#"+M),z&&z.charAt(0)!=="?"&&(z="?"+z),y=y.replace(/[?#]/g,function(P){return encodeURIComponent(P)}),z=z.replace("#","%23"),S+N+y+z+M};function d(l,S){return a(l,!1,!0).resolve(S)}s.prototype.resolve=function(l){return this.resolveObject(a(l,!1,!0)).format()};function w(l,S){return l?a(l,!1,!0).resolveObject(S):S}return s.prototype.resolveObject=function(l){if(typeof l=="string"){var S=new s;S.parse(l,!1,!0),l=S}for(var y=new s,M=Object.keys(this),N=0;N<M.length;N++){var U=M[N];y[U]=this[U]}if(y.hash=l.hash,l.href==="")return y.href=y.format(),y;if(l.slashes&&!l.protocol){for(var z=Object.keys(l),P=0;P<z.length;P++){var Z=z[P];Z!=="protocol"&&(y[Z]=l[Z])}return e[y.protocol]&&y.hostname&&!y.pathname&&(y.pathname="/",y.path=y.pathname),y.href=y.format(),y}if(l.protocol&&l.protocol!==y.protocol){if(!e[l.protocol]){for(var j=Object.keys(l),D=0;D<j.length;D++){var H=j[D];y[H]=l[H]}return y.href=y.format(),y}if(y.protocol=l.protocol,!l.host&&!i[l.protocol]){for(var O=(l.pathname||"").split("/");O.length&&!(l.host=O.shift()););l.host||(l.host=""),l.hostname||(l.hostname=""),O[0]!==""&&O.unshift(""),O.length<2&&O.unshift(""),y.pathname=O.join("/")}else y.pathname=l.pathname;if(y.search=l.search,y.query=l.query,y.host=l.host||"",y.auth=l.auth,y.hostname=l.hostname||l.host,y.port=l.port,y.pathname||y.search){var C=y.pathname||"",F=y.search||"";y.path=C+F}return y.slashes=y.slashes||l.slashes,y.href=y.format(),y}var T=y.pathname&&y.pathname.charAt(0)==="/",A=l.host||l.pathname&&l.pathname.charAt(0)==="/",I=A||T||y.host&&l.pathname,k=I,$=y.pathname&&y.pathname.split("/")||[],O=l.pathname&&l.pathname.split("/")||[],q=y.protocol&&!e[y.protocol];if(q&&(y.hostname="",y.port=null,y.host&&($[0]===""?$[0]=y.host:$.unshift(y.host)),y.host="",l.protocol&&(l.hostname=null,l.port=null,l.host&&(O[0]===""?O[0]=l.host:O.unshift(l.host)),l.host=null),I=I&&(O[0]===""||$[0]==="")),A)y.host=l.host||l.host===""?l.host:y.host,y.hostname=l.hostname||l.hostname===""?l.hostname:y.hostname,y.search=l.search,y.query=l.query,$=O;else if(O.length)$||($=[]),$.pop(),$=$.concat(O),y.search=l.search,y.query=l.query;else if(l.search!=null){if(q){y.host=$.shift(),y.hostname=y.host;var G=y.host&&y.host.indexOf("@")>0?y.host.split("@"):!1;G&&(y.auth=G.shift(),y.hostname=G.shift(),y.host=y.hostname)}return y.search=l.search,y.query=l.query,(y.pathname!==null||y.search!==null)&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.href=y.format(),y}if(!$.length)return y.pathname=null,y.search?y.path="/"+y.search:y.path=null,y.href=y.format(),y;for(var L=$.slice(-1)[0],J=(y.host||l.host||$.length>1)&&(L==="."||L==="..")||L==="",B=0,V=$.length;V>=0;V--)L=$[V],L==="."?$.splice(V,1):L===".."?($.splice(V,1),B++):B&&($.splice(V,1),B--);if(!I&&!k)for(;B--;B)$.unshift("..");I&&$[0]!==""&&(!$[0]||$[0].charAt(0)!=="/")&&$.unshift(""),J&&$.join("/").substr(-1)!=="/"&&$.push("");var W=$[0]===""||$[0]&&$[0].charAt(0)==="/";if(q){y.hostname=W?"":$.length?$.shift():"",y.host=y.hostname;var G=y.host&&y.host.indexOf("@")>0?y.host.split("@"):!1;G&&(y.auth=G.shift(),y.hostname=G.shift(),y.host=y.hostname)}return I=I||y.host&&$.length,I&&!W&&$.unshift(""),$.length>0?y.pathname=$.join("/"):(y.pathname=null,y.path=null),(y.pathname!==null||y.search!==null)&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.auth=l.auth||y.auth,y.slashes=y.slashes||l.slashes,y.href=y.format(),y},s.prototype.parseHost=function(){var l=this.host,S=v.exec(l);S&&(S=S[0],S!==":"&&(this.port=S.substr(1)),l=l.substr(0,l.length-S.length)),l&&(this.hostname=l)},he.parse=a,he.resolve=d,he.resolveObject=w,he.format=u,he.Url=s,he}var ie={},qt;function me(){if(qt)return ie;qt=1;var r=kr(),s=ie.ValidationError=function(e,t,a,u,d,w){if(Array.isArray(u)?(this.path=u,this.property=u.reduce(function(S,y){return S+R(y)},"instance")):u!==void 0&&(this.property=u),e&&(this.message=e),a){var l=a.$id||a.id;this.schema=l||a}t!==void 0&&(this.instance=t),this.name=d,this.argument=w,this.stack=this.toString()};s.prototype.toString=function(){return this.property+" "+this.message};var p=ie.ValidatorResult=function(e,t,a,u){this.instance=e,this.schema=t,this.options=a,this.path=u.path,this.propertyPath=u.propertyPath,this.errors=[],this.throwError=a&&a.throwError,this.throwFirst=a&&a.throwFirst,this.throwAll=a&&a.throwAll,this.disableFormat=a&&a.disableFormat===!0};p.prototype.addError=function(e){var t;if(typeof e=="string")t=new s(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new s(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new b(this);if(this.throwError)throw t;return t},p.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))};function v(i,e){return e+": "+i.toString()+`
`}p.prototype.toString=function(e){return this.errors.map(v).join("")},Object.defineProperty(p.prototype,"valid",{get:function(){return!this.errors.length}}),ie.ValidatorResultError=b;function b(i){Error.captureStackTrace&&Error.captureStackTrace(this,b),this.instance=i.instance,this.schema=i.schema,this.options=i.options,this.errors=i.errors}b.prototype=new Error,b.prototype.constructor=b,b.prototype.name="Validation Error";var E=ie.SchemaError=function i(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,i)};E.prototype=Object.create(Error.prototype,{constructor:{value:E,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var m=ie.SchemaContext=function(e,t,a,u,d){this.schema=e,this.options=t,Array.isArray(a)?(this.path=a,this.propertyPath=a.reduce(function(w,l){return w+R(l)},"instance")):this.propertyPath=a,this.base=u,this.schemas=d};m.prototype.resolve=function(e){return r.resolve(this.base,e)},m.prototype.makeChild=function(e,t){var a=t===void 0?this.path:this.path.concat([t]),u=e.$id||e.id,d=r.resolve(this.base,u||""),w=new m(e,this.options,a,d,Object.create(this.schemas));return u&&!w.schemas[d]&&(w.schemas[d]=e),w};var _=ie.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(i){return typeof i=="string"&&parseFloat(i)===parseInt(i,10)&&!isNaN(i)},regex:function(i){var e=!0;try{new RegExp(i)}catch{e=!1}return e},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};_.regexp=_.regex,_.pattern=_.regex,_.ipv4=_["ip-address"],ie.isFormat=function(e,t,a){if(typeof e=="string"&&_[t]!==void 0){if(_[t]instanceof RegExp)return _[t].test(e);if(typeof _[t]=="function")return _[t](e)}else if(a&&a.customFormats&&typeof a.customFormats[t]=="function")return a.customFormats[t](e);return!0};var R=ie.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};ie.deepCompareStrict=function i(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:e.every(function(d,w){return i(e[w],t[w])});if(typeof e=="object"){if(!e||!t)return e===t;var a=Object.keys(e),u=Object.keys(t);return a.length!==u.length?!1:a.every(function(d){return i(e[d],t[d])})}return e===t};function x(i,e,t,a){typeof t=="object"?e[a]=n(i[a],t):i.indexOf(t)===-1&&e.push(t)}function c(i,e,t){e[t]=i[t]}function f(i,e,t,a){typeof e[a]!="object"||!e[a]?t[a]=e[a]:i[a]?t[a]=n(i[a],e[a]):t[a]=e[a]}function n(i,e){var t=Array.isArray(e),a=t&&[]||{};return t?(i=i||[],a=a.concat(i),e.forEach(x.bind(null,i,a))):(i&&typeof i=="object"&&Object.keys(i).forEach(c.bind(null,i,a)),Object.keys(e).forEach(f.bind(null,i,e,a))),a}ie.deepMerge=n,ie.objectGetPath=function(e,t){for(var a=t.split("/").slice(1),u;typeof(u=a.shift())=="string";){var d=decodeURIComponent(u.replace(/~0/,"~").replace(/~1/g,"/"));if(!(d in e))return;e=e[d]}return e};function o(i){return"/"+encodeURIComponent(i).replace(/~/g,"%7E")}return ie.encodePath=function(e){return e.map(o).join("")},ie.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;typeof e!="number"&&(e=Number(e));var a=e.toString().split("e");if(a.length===2){if(a[1][0]!=="-")return t;t=Number(a[1].slice(1))}var u=a[0].split(".");return u.length===2&&(t+=u[1].length),t},ie.isSchema=function(e){return typeof e=="object"&&e||typeof e=="boolean"},ie}var Cr,zt;function Dn(){if(zt)return Cr;zt=1;var r=me(),s=r.ValidatorResult,p=r.SchemaError,v={};v.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var b=v.validators={};b.type=function(f,n,o,i){if(f===void 0)return null;var e=new s(f,n,o,i),t=Array.isArray(n.type)?n.type:[n.type];if(!t.some(this.testType.bind(this,f,n,o,i))){var a=t.map(function(u){if(u){var d=u.$id||u.id;return d?"<"+d+">":u+""}});e.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return e};function E(c,f,n,o,i){var e=f.throwError,t=f.throwAll;f.throwError=!1,f.throwAll=!1;var a=this.validateSchema(c,i,f,n);return f.throwError=e,f.throwAll=t,!a.valid&&o instanceof Function&&o(a),a.valid}b.anyOf=function(f,n,o,i){if(f===void 0)return null;var e=new s(f,n,o,i),t=new s(f,n,o,i);if(!Array.isArray(n.anyOf))throw new p("anyOf must be an array");if(!n.anyOf.some(E.bind(this,f,o,i,function(u){t.importErrors(u)}))){var a=n.anyOf.map(function(u,d){var w=u.$id||u.id;return w?"<"+w+">":u.title&&JSON.stringify(u.title)||u.$ref&&"<"+u.$ref+">"||"[subschema "+d+"]"});o.nestedErrors&&e.importErrors(t),e.addError({name:"anyOf",argument:a,message:"is not any of "+a.join(",")})}return e},b.allOf=function(f,n,o,i){if(f===void 0)return null;if(!Array.isArray(n.allOf))throw new p("allOf must be an array");var e=new s(f,n,o,i),t=this;return n.allOf.forEach(function(a,u){var d=t.validateSchema(f,a,o,i);if(!d.valid){var w=a.$id||a.id,l=w||a.title&&JSON.stringify(a.title)||a.$ref&&"<"+a.$ref+">"||"[subschema "+u+"]";e.addError({name:"allOf",argument:{id:l,length:d.errors.length,valid:d},message:"does not match allOf schema "+l+" with "+d.errors.length+" error[s]:"}),e.importErrors(d)}}),e},b.oneOf=function(f,n,o,i){if(f===void 0)return null;if(!Array.isArray(n.oneOf))throw new p("oneOf must be an array");var e=new s(f,n,o,i),t=new s(f,n,o,i),a=n.oneOf.filter(E.bind(this,f,o,i,function(d){t.importErrors(d)})).length,u=n.oneOf.map(function(d,w){var l=d.$id||d.id;return l||d.title&&JSON.stringify(d.title)||d.$ref&&"<"+d.$ref+">"||"[subschema "+w+"]"});return a!==1&&(o.nestedErrors&&e.importErrors(t),e.addError({name:"oneOf",argument:u,message:"is not exactly one from "+u.join(",")})),e},b.if=function(f,n,o,i){if(f===void 0)return null;if(!r.isSchema(n.if))throw new Error('Expected "if" keyword to be a schema');var e=E.call(this,f,o,i,null,n.if),t=new s(f,n,o,i),a;if(e){if(n.then===void 0)return;if(!r.isSchema(n.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(f,n.then,o,i.makeChild(n.then)),t.importErrors(a)}else{if(n.else===void 0)return;if(!r.isSchema(n.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(f,n.else,o,i.makeChild(n.else)),t.importErrors(a)}return t};function m(c,f){if(Object.hasOwnProperty.call(c,f))return c[f];if(f in c){for(;c=Object.getPrototypeOf(c);)if(Object.propertyIsEnumerable.call(c,f))return c[f]}}b.propertyNames=function(f,n,o,i){if(this.types.object(f)){var e=new s(f,n,o,i),t=n.propertyNames!==void 0?n.propertyNames:{};if(!r.isSchema(t))throw new p('Expected "propertyNames" to be a schema (object or boolean)');for(var a in f)if(m(f,a)!==void 0){var u=this.validateSchema(a,t,o,i.makeChild(t));e.importErrors(u)}return e}},b.properties=function(f,n,o,i){if(this.types.object(f)){var e=new s(f,n,o,i),t=n.properties||{};for(var a in t){var u=t[a];if(u!==void 0){if(u===null)throw new p('Unexpected null, expected schema in "properties"');typeof o.preValidateProperty=="function"&&o.preValidateProperty(f,a,u,o,i);var d=m(f,a),w=this.validateSchema(d,u,o,i.makeChild(u,a));w.instance!==e.instance[a]&&(e.instance[a]=w.instance),e.importErrors(w)}}return e}};function _(c,f,n,o,i,e){if(this.types.object(c)&&!(f.properties&&f.properties[i]!==void 0))if(f.additionalProperties===!1)e.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var t=f.additionalProperties||{};typeof n.preValidateProperty=="function"&&n.preValidateProperty(c,i,t,n,o);var a=this.validateSchema(c[i],t,n,o.makeChild(t,i));a.instance!==e.instance[i]&&(e.instance[i]=a.instance),e.importErrors(a)}}b.patternProperties=function(f,n,o,i){if(this.types.object(f)){var e=new s(f,n,o,i),t=n.patternProperties||{};for(var a in f){var u=!0;for(var d in t){var w=t[d];if(w!==void 0){if(w===null)throw new p('Unexpected null, expected schema in "patternProperties"');try{var l=new RegExp(d,"u")}catch{l=new RegExp(d)}if(l.test(a)){u=!1,typeof o.preValidateProperty=="function"&&o.preValidateProperty(f,a,w,o,i);var S=this.validateSchema(f[a],w,o,i.makeChild(w,a));S.instance!==e.instance[a]&&(e.instance[a]=S.instance),e.importErrors(S)}}}u&&_.call(this,f,n,o,i,a,e)}return e}},b.additionalProperties=function(f,n,o,i){if(this.types.object(f)){if(n.patternProperties)return null;var e=new s(f,n,o,i);for(var t in f)_.call(this,f,n,o,i,t,e);return e}},b.minProperties=function(f,n,o,i){if(this.types.object(f)){var e=new s(f,n,o,i),t=Object.keys(f);return t.length>=n.minProperties||e.addError({name:"minProperties",argument:n.minProperties,message:"does not meet minimum property length of "+n.minProperties}),e}},b.maxProperties=function(f,n,o,i){if(this.types.object(f)){var e=new s(f,n,o,i),t=Object.keys(f);return t.length<=n.maxProperties||e.addError({name:"maxProperties",argument:n.maxProperties,message:"does not meet maximum property length of "+n.maxProperties}),e}},b.items=function(f,n,o,i){var e=this;if(this.types.array(f)&&n.items!==void 0){var t=new s(f,n,o,i);return f.every(function(a,u){if(Array.isArray(n.items))var d=n.items[u]===void 0?n.additionalItems:n.items[u];else var d=n.items;if(d===void 0)return!0;if(d===!1)return t.addError({name:"items",message:"additionalItems not permitted"}),!1;var w=e.validateSchema(a,d,o,i.makeChild(d,u));return w.instance!==t.instance[u]&&(t.instance[u]=w.instance),t.importErrors(w),!0}),t}},b.contains=function(f,n,o,i){var e=this;if(this.types.array(f)&&n.contains!==void 0){if(!r.isSchema(n.contains))throw new Error('Expected "contains" keyword to be a schema');var t=new s(f,n,o,i),a=f.some(function(u,d){var w=e.validateSchema(u,n.contains,o,i.makeChild(n.contains,d));return w.errors.length===0});return a===!1&&t.addError({name:"contains",argument:n.contains,message:"must contain an item matching given schema"}),t}},b.minimum=function(f,n,o,i){if(this.types.number(f)){var e=new s(f,n,o,i);return n.exclusiveMinimum&&n.exclusiveMinimum===!0?f>n.minimum||e.addError({name:"minimum",argument:n.minimum,message:"must be greater than "+n.minimum}):f>=n.minimum||e.addError({name:"minimum",argument:n.minimum,message:"must be greater than or equal to "+n.minimum}),e}},b.maximum=function(f,n,o,i){if(this.types.number(f)){var e=new s(f,n,o,i);return n.exclusiveMaximum&&n.exclusiveMaximum===!0?f<n.maximum||e.addError({name:"maximum",argument:n.maximum,message:"must be less than "+n.maximum}):f<=n.maximum||e.addError({name:"maximum",argument:n.maximum,message:"must be less than or equal to "+n.maximum}),e}},b.exclusiveMinimum=function(f,n,o,i){if(typeof n.exclusiveMinimum!="boolean"&&this.types.number(f)){var e=new s(f,n,o,i),t=f>n.exclusiveMinimum;return t||e.addError({name:"exclusiveMinimum",argument:n.exclusiveMinimum,message:"must be strictly greater than "+n.exclusiveMinimum}),e}},b.exclusiveMaximum=function(f,n,o,i){if(typeof n.exclusiveMaximum!="boolean"&&this.types.number(f)){var e=new s(f,n,o,i),t=f<n.exclusiveMaximum;return t||e.addError({name:"exclusiveMaximum",argument:n.exclusiveMaximum,message:"must be strictly less than "+n.exclusiveMaximum}),e}};var R=function(f,n,o,i,e,t){if(this.types.number(f)){var a=n[e];if(a==0)throw new p(e+" cannot be zero");var u=new s(f,n,o,i),d=r.getDecimalPlaces(f),w=r.getDecimalPlaces(a),l=Math.max(d,w),S=Math.pow(10,l);return Math.round(f*S)%Math.round(a*S)!==0&&u.addError({name:e,argument:a,message:t+JSON.stringify(a)}),u}};b.multipleOf=function(f,n,o,i){return R.call(this,f,n,o,i,"multipleOf","is not a multiple of (divisible by) ")},b.divisibleBy=function(f,n,o,i){return R.call(this,f,n,o,i,"divisibleBy","is not divisible by (multiple of) ")},b.required=function(f,n,o,i){var e=new s(f,n,o,i);return f===void 0&&n.required===!0?e.addError({name:"required",message:"is required"}):this.types.object(f)&&Array.isArray(n.required)&&n.required.forEach(function(t){m(f,t)===void 0&&e.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),e},b.pattern=function(f,n,o,i){if(this.types.string(f)){var e=new s(f,n,o,i),t=n.pattern;try{var a=new RegExp(t,"u")}catch{a=new RegExp(t)}return f.match(a)||e.addError({name:"pattern",argument:n.pattern,message:"does not match pattern "+JSON.stringify(n.pattern.toString())}),e}},b.format=function(f,n,o,i){if(f!==void 0){var e=new s(f,n,o,i);return!e.disableFormat&&!r.isFormat(f,n.format,this)&&e.addError({name:"format",argument:n.format,message:"does not conform to the "+JSON.stringify(n.format)+" format"}),e}},b.minLength=function(f,n,o,i){if(this.types.string(f)){var e=new s(f,n,o,i),t=f.match(/[\uDC00-\uDFFF]/g),a=f.length-(t?t.length:0);return a>=n.minLength||e.addError({name:"minLength",argument:n.minLength,message:"does not meet minimum length of "+n.minLength}),e}},b.maxLength=function(f,n,o,i){if(this.types.string(f)){var e=new s(f,n,o,i),t=f.match(/[\uDC00-\uDFFF]/g),a=f.length-(t?t.length:0);return a<=n.maxLength||e.addError({name:"maxLength",argument:n.maxLength,message:"does not meet maximum length of "+n.maxLength}),e}},b.minItems=function(f,n,o,i){if(this.types.array(f)){var e=new s(f,n,o,i);return f.length>=n.minItems||e.addError({name:"minItems",argument:n.minItems,message:"does not meet minimum length of "+n.minItems}),e}},b.maxItems=function(f,n,o,i){if(this.types.array(f)){var e=new s(f,n,o,i);return f.length<=n.maxItems||e.addError({name:"maxItems",argument:n.maxItems,message:"does not meet maximum length of "+n.maxItems}),e}};function x(c,f,n){var o,i=n.length;for(o=f+1,i;o<i;o++)if(r.deepCompareStrict(c,n[o]))return!1;return!0}return b.uniqueItems=function(f,n,o,i){if(n.uniqueItems===!0&&this.types.array(f)){var e=new s(f,n,o,i);return f.every(x)||e.addError({name:"uniqueItems",message:"contains duplicate item"}),e}},b.dependencies=function(f,n,o,i){if(this.types.object(f)){var e=new s(f,n,o,i);for(var t in n.dependencies)if(f[t]!==void 0){var a=n.dependencies[t],u=i.makeChild(a,t);if(typeof a=="string"&&(a=[a]),Array.isArray(a))a.forEach(function(w){f[w]===void 0&&e.addError({name:"dependencies",argument:u.propertyPath,message:"property "+w+" not found, required by "+u.propertyPath})});else{var d=this.validateSchema(f,a,o,u);e.instance!==d.instance&&(e.instance=d.instance),d&&d.errors.length&&(e.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),e.importErrors(d))}}return e}},b.enum=function(f,n,o,i){if(f===void 0)return null;if(!Array.isArray(n.enum))throw new p("enum expects an array",n);var e=new s(f,n,o,i);return n.enum.some(r.deepCompareStrict.bind(null,f))||e.addError({name:"enum",argument:n.enum,message:"is not one of enum values: "+n.enum.map(String).join(",")}),e},b.const=function(f,n,o,i){if(f===void 0)return null;var e=new s(f,n,o,i);return r.deepCompareStrict(n.const,f)||e.addError({name:"const",argument:n.const,message:"does not exactly match expected constant: "+n.const}),e},b.not=b.disallow=function(f,n,o,i){var e=this;if(f===void 0)return null;var t=new s(f,n,o,i),a=n.not||n.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach(function(u){if(e.testType(f,n,o,i,u)){var d=u&&(u.$id||u.id),w=d||u;t.addError({name:"not",argument:w,message:"is of prohibited type "+w})}}),t):null},Cr=v,Cr}var Ce={},jt;function Mr(){if(jt)return Ce;jt=1;var r=kr(),s=me();Ce.SchemaScanResult=p;function p(v,b){this.id=v,this.ref=b}return Ce.scan=function(b,E){function m(f,n){if(!(!n||typeof n!="object")){if(n.$ref){var o=r.resolve(f,n.$ref);c[o]=c[o]?c[o]+1:0;return}var i=n.$id||n.id,e=i?r.resolve(f,i):f;if(e){if(e.indexOf("#")<0&&(e+="#"),x[e]){if(!s.deepCompareStrict(x[e],n))throw new Error("Schema <"+e+"> already exists with different definition");return x[e]}x[e]=n,e[e.length-1]=="#"&&(x[e.substring(0,e.length-1)]=n)}_(e+"/items",Array.isArray(n.items)?n.items:[n.items]),_(e+"/extends",Array.isArray(n.extends)?n.extends:[n.extends]),m(e+"/additionalItems",n.additionalItems),R(e+"/properties",n.properties),m(e+"/additionalProperties",n.additionalProperties),R(e+"/definitions",n.definitions),R(e+"/patternProperties",n.patternProperties),R(e+"/dependencies",n.dependencies),_(e+"/disallow",n.disallow),_(e+"/allOf",n.allOf),_(e+"/anyOf",n.anyOf),_(e+"/oneOf",n.oneOf),m(e+"/not",n.not)}}function _(f,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)m(f+"/"+o,n[o])}function R(f,n){if(!(!n||typeof n!="object"))for(var o in n)m(f+"/"+o,n[o])}var x={},c={};return m(b,E),new p(x,c)},Ce}var Ur,Gt;function Nn(){if(Gt)return Ur;Gt=1;var r=kr(),s=Dn(),p=me(),v=Mr().scan,b=p.ValidatorResult,E=p.ValidatorResultError,m=p.SchemaError,_=p.SchemaContext,R="/",x=function n(){this.customFormats=Object.create(n.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(f),this.attributes=Object.create(s.validators)};x.prototype.customFormats={},x.prototype.schemas=null,x.prototype.types=null,x.prototype.attributes=null,x.prototype.unresolvedRefs=null,x.prototype.addSchema=function(o,i){var e=this;if(!o)return null;var t=v(i||R,o),a=i||o.$id||o.id;for(var u in t.id)this.schemas[u]=t.id[u];for(var u in t.ref)this.unresolvedRefs.push(u);return this.unresolvedRefs=this.unresolvedRefs.filter(function(d){return typeof e.schemas[d]>"u"}),this.schemas[a]},x.prototype.addSubSchemaArray=function(o,i){if(Array.isArray(i))for(var e=0;e<i.length;e++)this.addSubSchema(o,i[e])},x.prototype.addSubSchemaObject=function(o,i){if(!(!i||typeof i!="object"))for(var e in i)this.addSubSchema(o,i[e])},x.prototype.setSchemas=function(o){this.schemas=o},x.prototype.getSchema=function(o){return this.schemas[o]},x.prototype.validate=function(o,i,e,t){if(typeof i!="boolean"&&typeof i!="object"||i===null)throw new m("Expected `schema` to be an object or boolean");e||(e={});var a=i.$id||i.id,u=r.resolve(e.base||R,a||"");if(!t){t=new _(i,e,[],u,Object.create(this.schemas)),t.schemas[u]||(t.schemas[u]=i);var d=v(u,i);for(var w in d.id){var l=d.id[w];t.schemas[w]=l}}if(e.required&&o===void 0){var S=new b(o,i,e,t);return S.addError("is required, but is undefined"),S}var S=this.validateSchema(o,i,e,t);if(S){if(e.throwAll&&S.errors.length)throw new E(S)}else throw new Error("Result undefined");return S};function c(n){var o=typeof n=="string"?n:n.$ref;return typeof o=="string"?o:!1}x.prototype.validateSchema=function(o,i,e,t){var a=new b(o,i,e,t);if(typeof i=="boolean")i===!0?i={}:i===!1&&(i={type:[]});else if(!i)throw new Error("schema is undefined");if(i.extends)if(Array.isArray(i.extends)){var u={schema:i,ctx:t};i.extends.forEach(this.schemaTraverser.bind(this,u)),i=u.schema,u.schema=null,u.ctx=null,u=null}else i=p.deepMerge(i,this.superResolve(i.extends,t));var d=c(i);if(d){var w=this.resolve(i,d,t),l=new _(w.subschema,e,t.path,w.switchSchema,t.schemas);return this.validateSchema(o,w.subschema,e,l)}var S=e&&e.skipAttributes||[];for(var y in i)if(!s.ignoreProperties[y]&&S.indexOf(y)<0){var M=null,N=this.attributes[y];if(N)M=N.call(this,o,i,e,t);else if(e.allowUnknownAttributes===!1)throw new m("Unsupported attribute: "+y,i);M&&a.importErrors(M)}if(typeof e.rewrite=="function"){var U=e.rewrite.call(this,o,i,e,t);a.instance=U}return a},x.prototype.schemaTraverser=function(o,i){o.schema=p.deepMerge(o.schema,this.superResolve(i,o.ctx))},x.prototype.superResolve=function(o,i){var e=c(o);return e?this.resolve(o,e,i).subschema:o},x.prototype.resolve=function(o,i,e){if(i=e.resolve(i),e.schemas[i])return{subschema:e.schemas[i],switchSchema:i};var t=r.parse(i),a=t&&t.hash,u=a&&a.length&&i.substr(0,i.length-a.length);if(!u||!e.schemas[u])throw new m("no such schema <"+i+">",o);var d=p.objectGetPath(e.schemas[u],a.substr(1));if(d===void 0)throw new m("no such schema "+a+" located in <"+u+">",o);return{subschema:d,switchSchema:i}},x.prototype.testType=function(o,i,e,t,a){if(a!==void 0){if(a===null)throw new m('Unexpected null in "type" keyword');if(typeof this.types[a]=="function")return this.types[a].call(this,o);if(a&&typeof a=="object"){var u=this.validateSchema(o,a,e,t);return u===void 0||!(u&&u.errors.length)}return!0}};var f=x.prototype.types={};return f.string=function(o){return typeof o=="string"},f.number=function(o){return typeof o=="number"&&isFinite(o)},f.integer=function(o){return typeof o=="number"&&o%1===0},f.boolean=function(o){return typeof o=="boolean"},f.array=function(o){return Array.isArray(o)},f.null=function(o){return o===null},f.date=function(o){return o instanceof Date},f.any=function(o){return!0},f.object=function(o){return o&&typeof o=="object"&&!Array.isArray(o)&&!(o instanceof Date)},Ur=x,Ur}var Zt;function Bn(){if(Zt)return fe;Zt=1;var r=fe.Validator=Nn();return fe.ValidatorResult=me().ValidatorResult,fe.ValidatorResultError=me().ValidatorResultError,fe.ValidationError=me().ValidationError,fe.SchemaError=me().SchemaError,fe.SchemaScanResult=Mr().SchemaScanResult,fe.scan=Mr().scan,fe.validate=function(s,p,v){var b=new r;return b.validate(s,p,v)},fe}Bn();const Me="activeSettingsProfile",Ue="settingsProfiles";class qn{constructor(s){pe(this,"_storage");this._storage=s??ne.storage.local}async get(s){const p=await this.activeProfile();return p===void 0?await this._storage.get(s):gn(await this._storage.get(Re(s,p.name)),p.name)}async set(s){const p=await this.activeProfile();p===void 0?await this._storage.set(s):await this._storage.set(Re(s,p.name))}async activeProfile(){const s=await this._storage.get(Me),p=s&&s[Me];return p===void 0?void 0:(await this.profiles()).find(b=>b.name===p)}async setActiveProfile(s){if(s===void 0)await this._storage.remove(Me);else{if(!((await this.profiles()).find(b=>b.name===s)!==void 0))throw new Error(`Cannot set active profile to non-existant profile ${s}`);await this._storage.set({[Me]:s})}}async profiles(){const s=await this._storage.get({[Ue]:[]});return s?s[Ue]??[]:[]}async addProfile(s){const p=await this.profiles();p.find(E=>E.name===s)===void 0&&p.push({name:s}),await this._storage.set({[Ue]:p});const b=await this._storage.get(Object.keys(Ee));await this._storage.set(Re(b,s))}async removeProfile(s){const p=await this.profiles(),v=await this.activeProfile();if(s===(v==null?void 0:v.name))throw new Error("Cannot remove active profile");const b=p.filter(m=>m.name!==s),E=Object.keys(Re(Ee,s));await this._storage.remove(E),await this._storage.set({[Ue]:b})}async clear(){await this._storage.clear()}}const Lt={ftueHasSeenAnkiDialogQuickSelectV2:!1,ftueHasSeenSubtitleTrackSelector:!1};class zn{constructor(s){pe(this,"_storage");this._storage=s??ne.storage.local}async getAll(){return await this._storage.get(Lt)}async get(s){const p={};for(const v of s)p[v]=Lt[v];return await this._storage.get(p)}async set(s){await this._storage.set(s)}}const jn={matches:["*://killergerbah.github.io/asbplayer*","*://app.asbplayer.dev/*"],allFrames:!0,runAt:"document_start",main(r){const s=E=>{window.postMessage({sender:"asbplayer-extension-to-player",message:E})},p=new qn,v=new zn;window.addEventListener("message",async E=>{if(E.source!==window)return;const m=E.data;if(m.sender==="asbplayer"||m.sender==="asbplayerv2")switch(m.message.command){case"get-settings":const _=m.message;s({response:await p.get(_.keysAndDefaults),messageId:m.message.messageId});break;case"set-settings":const R=m.message;await p.set(R.settings),s({messageId:m.message.messageId});break;case"get-active-profile":s({response:await p.activeProfile(),messageId:m.message.messageId});break;case"set-active-profile":const x=m.message;await p.setActiveProfile(x.name),s({messageId:m.message.messageId});break;case"get-profiles":s({response:await p.profiles(),messageId:m.message.messageId});break;case"add-profile":const c=m.message;await p.addProfile(c.name),s({messageId:m.message.messageId});break;case"remove-profile":const f=m.message;await p.removeProfile(f.name),s({messageId:m.message.messageId});break;case"request-subtitles":s({response:await ne.runtime.sendMessage(m),messageId:m.message.messageId});break;case"request-copy-history":const n=m.message;s({response:await ne.runtime.sendMessage(m),messageId:n.messageId,count:n.count});break;case"save-copy-history":await ne.runtime.sendMessage(m),s({messageId:m.message.messageId});break;case"delete-copy-history":await ne.runtime.sendMessage(m),s({messageId:m.message.messageId});break;case"clear-copy-history":await ne.runtime.sendMessage(m),s({messageId:m.message.messageId});break;case"get-global-state":const o=m.message,{keys:i}=o;s({response:i===void 0?await v.getAll():await v.get(i),messageId:m.message.messageId});break;case"set-global-state":const e=m.message;await v.set(e.state),s({messageId:m.message.messageId});break;default:ne.runtime.sendMessage(m);break}}),ne.runtime.onMessage.addListener((E,m,_)=>{E.sender==="asbplayer-extension-to-player"&&window.postMessage(E)});const b=ne.runtime.getManifest();window.addEventListener("DOMContentLoaded",async E=>{const m=await ne.runtime.sendMessage({sender:"asbplayerv2",message:{command:"extension-commands"}});s({command:"version",version:b.version,extensionCommands:m})})}};function De(r,...s){}const Gn={debug:(...r)=>De(console.debug,...r),log:(...r)=>De(console.log,...r),warn:(...r)=>De(console.warn,...r),error:(...r)=>De(console.error,...r)},Be=class Be extends Event{constructor(s,p){super(Be.EVENT_NAME,{}),this.newUrl=s,this.oldUrl=p}};pe(Be,"EVENT_NAME",Nr("wxt:locationchange"));let Dr=Be;function Nr(r){var s;return`${(s=ne==null?void 0:ne.runtime)==null?void 0:s.id}:asbplayer:${r}`}function Zn(r){let s,p;return{run(){s==null&&(p=new URL(location.href),s=r.setInterval(()=>{let v=new URL(location.href);v.href!==p.href&&(window.dispatchEvent(new Dr(v,p)),p=v)},1e3))}}}const Ie=class Ie{constructor(s,p){pe(this,"isTopFrame",window.self===window.top);pe(this,"abortController");pe(this,"locationWatcher",Zn(this));pe(this,"receivedMessageIds",new Set);this.contentScriptName=s,this.options=p,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(s){return this.abortController.abort(s)}get isInvalid(){return ne.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(s){return this.signal.addEventListener("abort",s),()=>this.signal.removeEventListener("abort",s)}block(){return new Promise(()=>{})}setInterval(s,p){const v=setInterval(()=>{this.isValid&&s()},p);return this.onInvalidated(()=>clearInterval(v)),v}setTimeout(s,p){const v=setTimeout(()=>{this.isValid&&s()},p);return this.onInvalidated(()=>clearTimeout(v)),v}requestAnimationFrame(s){const p=requestAnimationFrame((...v)=>{this.isValid&&s(...v)});return this.onInvalidated(()=>cancelAnimationFrame(p)),p}requestIdleCallback(s,p){const v=requestIdleCallback((...b)=>{this.signal.aborted||s(...b)},p);return this.onInvalidated(()=>cancelIdleCallback(v)),v}addEventListener(s,p,v,b){var E;p==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(E=s.addEventListener)==null||E.call(s,p.startsWith("wxt:")?Nr(p):p,v,{...b,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),Gn.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:Ie.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(s){var E,m,_;const p=((E=s.data)==null?void 0:E.type)===Ie.SCRIPT_STARTED_MESSAGE_TYPE,v=((m=s.data)==null?void 0:m.contentScriptName)===this.contentScriptName,b=!this.receivedMessageIds.has((_=s.data)==null?void 0:_.messageId);return p&&v&&b}listenForNewerScripts(s){let p=!0;const v=b=>{if(this.verifyScriptStartedEvent(b)){this.receivedMessageIds.add(b.data.messageId);const E=p;if(p=!1,E&&(s!=null&&s.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",v),this.onInvalidated(()=>removeEventListener("message",v))}};pe(Ie,"SCRIPT_STARTED_MESSAGE_TYPE",Nr("wxt:content-script-started"));let Br=Ie;function ua(){}function Ne(r,...s){}const Ln={debug:(...r)=>Ne(console.debug,...r),log:(...r)=>Ne(console.log,...r),warn:(...r)=>Ne(console.warn,...r),error:(...r)=>Ne(console.error,...r)};return(async()=>{try{const{main:r,...s}=jn,p=new Br("asbplayer",s);return await r(p)}catch(r){throw Ln.error('The content script "asbplayer" crashed on startup!',r),r}})()}();
asbplayer;
