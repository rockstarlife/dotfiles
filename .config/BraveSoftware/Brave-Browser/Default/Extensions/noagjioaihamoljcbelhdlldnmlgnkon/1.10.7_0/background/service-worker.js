(()=>{var e,t,n,r,o,s,i=[,,e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function a(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=i(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,a(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||i(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},(e,t,n)=>{var r=n(4),o=n(37);function s(){return(new Date).getTime()}var i,a=Array.prototype.slice,c={};i=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[h,"log"],[m,"info"],[g,"warn"],[y,"error"],[v,"time"],[b,"timeEnd"],[_,"trace"],[w,"dir"],[x,"assert"]],l=0;l<u.length;l++){var p=u[l],d=p[0],f=p[1];i[f]||(i[f]=d)}function h(){}function m(){i.log.apply(i,arguments)}function g(){i.log.apply(i,arguments)}function y(){i.warn.apply(i,arguments)}function v(e){c[e]=s()}function b(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var n=s()-t;i.log(e+": "+n+"ms")}function _(){var e=new Error;e.name="Trace",e.message=r.format.apply(null,arguments),i.error(e.stack)}function w(e){i.log(r.inspect(e)+"\n")}function x(e){if(!e){var t=a.call(arguments,1);o.ok(!1,r.format.apply(null,t))}}e.exports=i},(e,t,n)=>{var r=n(2),o=n(3),s=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!T(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),a=r[n];n<o;a=r[++n])x(a)||!A(a)?s+=" "+a:s+=" "+l(a);return s},t.deprecate=function(e,n){if(void 0!==r&&!0===r.noDeprecation)return e;if(void 0===r)return function(){return t.deprecate(e,n).apply(this,arguments)};var s=!1;function i(){if(!s){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?o.trace(n):o.error(n),s=!0}return e.apply(this,arguments)}return i};var a={},c=/^$/;if({PACKAGE_VERSION:"1.10.7",IS_FIREFOX:!1,IS_CHROMIUM:!0}.NODE_DEBUG){var u={PACKAGE_VERSION:"1.10.7",IS_FIREFOX:!1,IS_CHROMIUM:!0}.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+u+"$","i")}function l(e,n){var r={seen:[],stylize:d};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),w(n)?r.showHidden=n:n&&t._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=p),h(r,e,r.depth)}function p(e,t){var n=l.styles[t];return n?"\x1b["+l.colors[n][0]+"m"+e+"\x1b["+l.colors[n][1]+"m":e}function d(e,t){return e}function f(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function h(e,n,r){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return T(o)||(o=h(e,o,r)),o}var s=m(e,n);if(s)return s;var i=Object.keys(n),a=f(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),R(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return g(n);if(0===i.length){if(C(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(j(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(I(n))return e.stylize(Date.prototype.toString.call(n),"date");if(R(n))return g(n)}var u,l="",p=!1,d=["{","}"];return _(n)&&(p=!0,d=["[","]"]),C(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),j(n)&&(l=" "+RegExp.prototype.toString.call(n)),I(n)&&(l=" "+Date.prototype.toUTCString.call(n)),R(n)&&(l=" "+g(n)),0!==i.length||p&&0!=n.length?r<0?j(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=p?y(e,n,r,a,i):i.map((function(t){return v(e,n,r,a,t,p)})),e.seen.pop(),b(u,l,d)):d[0]+l+d[1]}function m(e,t){if(E(t))return e.stylize("undefined","undefined");if(T(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return S(t)?e.stylize(""+t,"number"):w(t)?e.stylize(""+t,"boolean"):x(t)?e.stylize("null","null"):void 0}function g(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,n,r,o){for(var s=[],i=0,a=t.length;i<a;++i)D(t,String(i))?s.push(v(e,t,n,r,String(i),!0)):s.push("");return o.forEach((function(o){o.match(/^\d+$/)||s.push(v(e,t,n,r,o,!0))})),s}function v(e,t,n,r,o,s){var i,a,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),D(r,o)||(i="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=x(n)?h(e,c.value,null):h(e,c.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),E(i)){if(s&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.slice(1,-1),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function b(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function _(e){return Array.isArray(e)}function w(e){return"boolean"==typeof e}function x(e){return null===e}function k(e){return null==e}function S(e){return"number"==typeof e}function T(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function E(e){return void 0===e}function j(e){return A(e)&&"[object RegExp]"===P(e)}function A(e){return"object"==typeof e&&null!==e}function I(e){return A(e)&&"[object Date]"===P(e)}function R(e){return A(e)&&("[object Error]"===P(e)||e instanceof Error)}function C(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function P(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(c.test(e)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);o.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5),t.isArray=_,t.isBoolean=w,t.isNull=x,t.isNullOrUndefined=k,t.isNumber=S,t.isString=T,t.isSymbol=O,t.isUndefined=E,t.isRegExp=j,t.types.isRegExp=j,t.isObject=A,t.isDate=I,t.types.isDate=I,t.isError=R,t.types.isNativeError=R,t.isFunction=C,t.isPrimitive=N,t.isBuffer=n(35);var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),$[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){o.log("%s - %s",L(),t.format.apply(t,arguments))},t.inherits=n(36),t._extend=function(e,t){if(!t||!A(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var F="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function U(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function B(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var s=this,i=function(){return o.apply(s,arguments)};e.apply(this,t).then((function(e){r.nextTick(i.bind(null,null,e))}),(function(e){r.nextTick(U.bind(null,e,i))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,s(e)),t}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(F&&e[F]){var t;if("function"!=typeof(t=e[F]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),F&&Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,s(e))},t.promisify.custom=F,t.callbackify=B},(e,t,n)=>{"use strict";var r=n(6),o=n(29),s=n(30),i=n(34);function a(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),p=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(c)var h=a(BigInt.prototype.valueOf);if(u)var m=a(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch}function v(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):i(e)||B(e)}function b(e){return"Uint8Array"===s(e)}function _(e){return"Uint8ClampedArray"===s(e)}function w(e){return"Uint16Array"===s(e)}function x(e){return"Uint32Array"===s(e)}function k(e){return"Int8Array"===s(e)}function S(e){return"Int16Array"===s(e)}function T(e){return"Int32Array"===s(e)}function O(e){return"Float32Array"===s(e)}function E(e){return"Float64Array"===s(e)}function j(e){return"BigInt64Array"===s(e)}function A(e){return"BigUint64Array"===s(e)}function I(e){return"[object Map]"===l(e)}function R(e){return"undefined"!=typeof Map&&(I.working?I(e):e instanceof Map)}function C(e){return"[object Set]"===l(e)}function N(e){return"undefined"!=typeof Set&&(C.working?C(e):e instanceof Set)}function P(e){return"[object WeakMap]"===l(e)}function M(e){return"undefined"!=typeof WeakMap&&(P.working?P(e):e instanceof WeakMap)}function $(e){return"[object WeakSet]"===l(e)}function L(e){return $(e)}function D(e){return"[object ArrayBuffer]"===l(e)}function F(e){return"undefined"!=typeof ArrayBuffer&&(D.working?D(e):e instanceof ArrayBuffer)}function U(e){return"[object DataView]"===l(e)}function B(e){return"undefined"!=typeof DataView&&(U.working?U(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=o,t.isTypedArray=i,t.isPromise=y,t.isArrayBufferView=v,t.isUint8Array=b,t.isUint8ClampedArray=_,t.isUint16Array=w,t.isUint32Array=x,t.isInt8Array=k,t.isInt16Array=S,t.isInt32Array=T,t.isFloat32Array=O,t.isFloat64Array=E,t.isBigInt64Array=j,t.isBigUint64Array=A,I.working="undefined"!=typeof Map&&I(new Map),t.isMap=R,C.working="undefined"!=typeof Set&&C(new Set),t.isSet=N,P.working="undefined"!=typeof WeakMap&&P(new WeakMap),t.isWeakMap=M,$.working="undefined"!=typeof WeakSet&&$(new WeakSet),t.isWeakSet=L,D.working="undefined"!=typeof ArrayBuffer&&D(new ArrayBuffer),t.isArrayBuffer=F,U.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&U(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=B;var q="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function V(e){return"[object SharedArrayBuffer]"===l(e)}function H(e){return void 0!==q&&(void 0===V.working&&(V.working=V(new q)),V.working?V(e):e instanceof q)}function z(e){return"[object AsyncFunction]"===l(e)}function W(e){return"[object Map Iterator]"===l(e)}function Z(e){return"[object Set Iterator]"===l(e)}function G(e){return"[object Generator]"===l(e)}function K(e){return"[object WebAssembly.Module]"===l(e)}function Y(e){return g(e,p)}function J(e){return g(e,d)}function X(e){return g(e,f)}function Q(e){return c&&g(e,h)}function ee(e){return u&&g(e,m)}function te(e){return Y(e)||J(e)||X(e)||Q(e)||ee(e)}function ne(e){return"undefined"!=typeof Uint8Array&&(F(e)||H(e))}t.isSharedArrayBuffer=H,t.isAsyncFunction=z,t.isMapIterator=W,t.isSetIterator=Z,t.isGeneratorObject=G,t.isWebAssemblyCompiledModule=K,t.isNumberObject=Y,t.isStringObject=J,t.isBooleanObject=X,t.isBigIntObject=Q,t.isSymbolObject=ee,t.isBoxedPrimitive=te,t.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},(e,t,n)=>{"use strict";var r=n(7)(),o=n(9)("Object.prototype.toString"),s=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},i=function(e){return!!s(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return s(arguments)}();s.isLegacyArguments=i,e.exports=a?s:i},(e,t,n)=>{"use strict";var r=n(8);e.exports=function(){return r()&&!!Symbol.toStringTag}},e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==r||!0!==s.enumerable)return!1}return!0}},(e,t,n)=>{"use strict";var r=n(10),o=n(23),s=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&s(e,".prototype.")>-1?o(n):n}},(e,t,n)=>{"use strict";var r,o=n(11),s=n(12),i=n(13),a=n(14),c=n(15),u=n(16),l=n(17),p=Function,d=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(e){f=null}var h=function(){throw new u},m=f?function(){try{return h}catch(e){try{return f(arguments,"callee").get}catch(e){return h}}}():h,g=n(18)(),y=n(19)(),v=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),b={},_="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":m,"%TypedArray%":_,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(e){var x=v(v(e));w["%Error.prototype%"]=x}var k=function e(t){var n;if("%AsyncFunction%"===t)n=d("async function () {}");else if("%GeneratorFunction%"===t)n=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=d("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(n=v(o.prototype))}return w[t]=n,n},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=n(20),O=n(22),E=T.call(Function.call,Array.prototype.concat),j=T.call(Function.apply,Array.prototype.splice),A=T.call(Function.call,String.prototype.replace),I=T.call(Function.call,String.prototype.slice),R=T.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,P=function(e){var t=I(e,0,1),n=I(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return A(e,C,(function(e,t,n,o){r[r.length]=n?A(o,N,"$1"):t||e})),r},M=function(e,t){var n,r=e;if(O(S,r)&&(r="%"+(n=S[r])[0]+"%"),O(w,r)){var o=w[r];if(o===b&&(o=k(r)),void 0===o&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=P(e),r=n.length>0?n[0]:"",o=M("%"+r+"%",t),s=o.name,i=o.value,a=!1,l=o.alias;l&&(r=l[0],j(n,E([0,1],l)));for(var p=1,d=!0;p<n.length;p+=1){var h=n[p],m=I(h,0,1),g=I(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&d||(a=!0),O(w,s="%"+(r+="."+h)+"%"))i=w[s];else if(null!=i){if(!(h in i)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(f&&p+1>=n.length){var y=f(i,h);i=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:i[h]}else d=O(i,h),i=i[h];d&&!a&&(w[s]=i)}}return i}},e=>{"use strict";e.exports=Error},e=>{"use strict";e.exports=EvalError},e=>{"use strict";e.exports=RangeError},e=>{"use strict";e.exports=ReferenceError},e=>{"use strict";e.exports=SyntaxError},e=>{"use strict";e.exports=TypeError},e=>{"use strict";e.exports=URIError},(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(8);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},e=>{"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},(e,t,n)=>{"use strict";var r=n(21);e.exports=Function.prototype.bind||r},e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,r=Math.max,o="[object Function]",s=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},i=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n},a=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var c=this;if("function"!=typeof c||n.apply(c)!==o)throw new TypeError(t+c);for(var u,l=i(arguments,1),p=function(){if(this instanceof u){var t=c.apply(this,s(l,arguments));return Object(t)===t?t:this}return c.apply(e,s(l,arguments))},d=r(0,c.length-l.length),f=[],h=0;h<d;h++)f[h]="$"+h;if(u=Function("binder","return function ("+a(f,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var m=function(){};m.prototype=c.prototype,u.prototype=new m,m.prototype=null}return u}},(e,t,n)=>{"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,s=n(20);e.exports=s.call(r,o)},(e,t,n)=>{"use strict";var r=n(20),o=n(10),s=n(24),i=n(16),a=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||r.call(c,a),l=n(26),p=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var t=u(r,c,arguments);return s(t,1+p(0,e.length-(arguments.length-1)),!0)};var d=function(){return u(r,a,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},(e,t,n)=>{"use strict";var r=n(10),o=n(25),s=n(28)(),i=n(27),a=n(16),c=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in e&&i){var l=i(e,"length");l&&!l.configurable&&(r=!1),l&&!l.writable&&(u=!1)}return(r||u||!n)&&(s?o(e,"length",t,!0,!0):o(e,"length",t)),e}},(e,t,n)=>{"use strict";var r=n(26),o=n(15),s=n(16),i=n(27);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],p=!!i&&i(e,t);if(r)r(e,t,{configurable:null===u&&p?p.configurable:!u,enumerable:null===a&&p?p.enumerable:!a,value:n,writable:null===c&&p?p.writable:!c});else{if(!l&&(a||c||u))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},(e,t,n)=>{"use strict";var r=n(10)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},(e,t,n)=>{"use strict";var r=n(10)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},(e,t,n)=>{"use strict";var r=n(26),o=function(){return!!r};o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},(e,t,n)=>{"use strict";var r,o=Object.prototype.toString,s=Function.prototype.toString,i=/^\s*(?:function)?\*/,a=n(7)(),c=Object.getPrototypeOf,u=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}};e.exports=function(e){if("function"!=typeof e)return!1;if(i.test(s.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===o.call(e);if(!c)return!1;if(void 0===r){var t=u();r=!!t&&c(t)}return c(e)===r}},(e,t,n)=>{"use strict";var r=n(31),o=n(33),s=n(9),i=n(27),a=s("Object.prototype.toString"),c=n(7)(),u="undefined"==typeof globalThis?n.g:globalThis,l=o(),p=s("String.prototype.slice"),d={},f=Object.getPrototypeOf;c&&i&&f&&r(l,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var n=f(t),r=i(n,Symbol.toStringTag);if(!r){var o=f(n);r=i(o,Symbol.toStringTag)}d[e]=r.get}}}));var h=function(e){var t=!1;return r(d,(function(n,r){if(!t)try{var o=n.call(e);o===r&&(t=o)}catch(e){}})),t},m=n(34);e.exports=function(e){return!!m(e)&&(c&&Symbol.toStringTag in e?h(e):p(a(e),8,-1))}},(e,t,n)=>{"use strict";var r=n(32),o=Object.prototype.toString,s=Object.prototype.hasOwnProperty,i=function(e,t,n){for(var r=0,o=e.length;r<o;r++)s.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},a=function(e,t,n){for(var r=0,o=e.length;r<o;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},c=function(e,t,n){for(var r in e)s.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},u=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),"[object Array]"===o.call(e)?i(e,t,s):"string"==typeof e?a(e,t,s):c(e,t,s)};e.exports=u},e=>{"use strict";var t,n,r=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,t)}catch(e){e!==n&&(o=null)}else o=null;var s=/^\s*class\b/,i=function(e){try{var t=r.call(e);return s.test(t)}catch(e){return!1}},a=function(e){try{return!i(e)&&(r.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="[object Object]",l="[object Function]",p="[object GeneratorFunction]",d="[object HTMLAllCollection]",f="[object HTML document.all class]",h="[object HTMLCollection]",m="function"==typeof Symbol&&!!Symbol.toStringTag,g=!(0 in[,]),y=function(){return!1};if("object"==typeof document){var v=document.all;c.call(v)===c.call(document.all)&&(y=function(e){if((g||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return(t===d||t===f||t===h||t===u)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(y(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==n)return!1}return!i(e)&&a(e)}:function(e){if(y(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(m)return a(e);if(i(e))return!1;var t=c.call(e);return!(t!==l&&t!==p&&!/^\[object HTML/.test(t))&&a(e)}},(e,t,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof o[r[t]]&&(e[e.length]=r[t]);return e}},(e,t,n)=>{"use strict";var r=n(31),o=n(33),s=n(9),i=s("Object.prototype.toString"),a=n(7)(),c=n(27),u="undefined"==typeof globalThis?n.g:globalThis,l=o(),p=s("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},d=s("String.prototype.slice"),f={},h=Object.getPrototypeOf;a&&c&&h&&r(l,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var n=h(t),r=c(n,Symbol.toStringTag);if(!r){var o=h(n);r=c(o,Symbol.toStringTag)}f[e]=r.get}}));var m=function(e){var t=!1;return r(f,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t};e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=d(i(e),8,-1);return p(l,t)>-1}return!!c&&m(e)}},e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},(e,t,n)=>{"use strict";var r=n(2),o=n(3);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,c,u=n(38).codes,l=u.ERR_AMBIGUOUS_ARGUMENT,p=u.ERR_INVALID_ARG_TYPE,d=u.ERR_INVALID_ARG_VALUE,f=u.ERR_INVALID_RETURN_VALUE,h=u.ERR_MISSING_ARGS,m=n(39),g=n(4).inspect,y=n(4).types,v=y.isPromise,b=y.isRegExp,_=Object.assign?Object.assign:n(40).assign,w=Object.is?Object.is:n(41);function x(){var e=n(49);a=e.isDeepEqual,c=e.isDeepStrictEqual}new Map;var k=!1,S=e.exports=A,T={};function O(e){if(e.message instanceof Error)throw e.message;throw new m(e)}function E(e,t,n,s,i){var a,c=arguments.length;if(0===c?a="Failed":1===c?(n=e,e=void 0):(!1===k&&(k=!0,(r.emitWarning?r.emitWarning:o.warn.bind(o))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===c&&(s="!=")),n instanceof Error)throw n;var u={actual:e,expected:t,operator:void 0===s?"fail":s,stackStartFn:i||E};void 0!==n&&(u.message=n);var l=new m(u);throw a&&(l.message=a,l.generatedMessage=!0),l}function j(e,t,n,r){if(!n){var o=!1;if(0===t)o=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new m({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw s.generatedMessage=o,s}}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];j.apply(void 0,[A,t.length].concat(t))}function I(e,t,n){if(arguments.length<2)throw new h("actual","expected");void 0===a&&x(),c(e,t)&&O({actual:e,expected:t,message:n,operator:"notDeepStrictEqual",stackStartFn:I})}S.fail=E,S.AssertionError=m,S.ok=A,S.equal=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");t!=n&&O({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},S.notEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");t==n&&O({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},S.deepEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===a&&x(),a(t,n)||O({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},S.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===a&&x(),a(t,n)&&O({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},S.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===a&&x(),c(t,n)||O({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},S.notDeepStrictEqual=I,S.strictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");w(t,n)||O({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},S.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");w(t,n)&&O({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var R=function e(t,n,r){var o=this;i(this,e),n.forEach((function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&b(t[e])&&t[e].test(r[e])?o[e]=r[e]:o[e]=t[e])}))};function C(e,t,n,r,o,s){if(!(n in e)||!c(e[n],t[n])){if(!r){var i=new R(e,o),a=new R(t,o,e),u=new m({actual:i,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw u.actual=e,u.expected=t,u.operator=s.name,u}O({actual:e,expected:t,message:r,operator:s.name,stackStartFn:s})}}function N(e,t,n,r){if("function"!=typeof t){if(b(t))return t.test(e);if(2===arguments.length)throw new p("expected",["Function","RegExp"],t);if("object"!==s(e)||null===e){var o=new m({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:r});throw o.operator=r.name,o}var i=Object.keys(t);if(t instanceof Error)i.push("name","message");else if(0===i.length)throw new d("error",t,"may not be an empty object");return void 0===a&&x(),i.forEach((function(o){"string"==typeof e[o]&&b(t[o])&&t[o].test(e[o])||C(e,t,o,n,i,r)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function P(e){if("function"!=typeof e)throw new p("fn","Function",e);try{e()}catch(e){return e}return T}function M(e){return v(e)||null!==e&&"object"===s(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function $(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!M(t=e()))throw new f("instance of Promise","promiseFn",t)}else{if(!M(e))throw new p("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return T})).catch((function(e){return e}))}))}function L(e,t,n,r){if("string"==typeof n){if(4===arguments.length)throw new p("error",["Object","Error","Function","RegExp"],n);if("object"===s(t)&&null!==t){if(t.message===n)throw new l("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new l("error/message",'The error "'.concat(t,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==s(n)&&"function"!=typeof n)throw new p("error",["Object","Error","Function","RegExp"],n);if(t===T){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=r?": ".concat(r):".";var i="rejects"===e.name?"rejection":"exception";O({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(i).concat(o),stackStartFn:e})}if(n&&!N(t,n,r,e))throw t}function D(e,t,n,r){if(t!==T){if("string"==typeof n&&(r=n,n=void 0),!n||N(t,n)){var o=r?": ".concat(r):".",s="doesNotReject"===e.name?"rejection":"exception";O({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(s).concat(o,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];j.apply(void 0,[F,t.length].concat(t))}S.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];L.apply(void 0,[e,P(t)].concat(r))},S.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return $(t).then((function(t){return L.apply(void 0,[e,t].concat(r))}))},S.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];D.apply(void 0,[e,P(t)].concat(r))},S.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return $(t).then((function(t){return D.apply(void 0,[e,t].concat(r))}))},S.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===s(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=g(t);var r=new m({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),o=t.stack;if("string"==typeof o){var i=o.split("\n");i.shift();for(var a=r.stack.split("\n"),c=0;c<i.length;c++){var u=a.indexOf(i[c]);if(-1!==u){a=a.slice(0,u);break}}r.stack="".concat(a.join("\n"),"\n").concat(i.join("\n"))}throw r}},S.strict=_(F,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var l,p,d={};function f(e,t,n){function r(e,n,r){return"string"==typeof t?t:t(e,n,r)}n||(n=Error);var i=function(t){function n(t,i,c){var u;return o(this,n),(u=s(this,a(n).call(this,r(t,i,c)))).code=e,u}return c(n,t),n}(n);d[e]=i}function h(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function m(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function g(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function y(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}f("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),f("ERR_INVALID_ARG_TYPE",(function(e,t,o){var s,i;if(void 0===l&&(l=n(37)),l("string"==typeof e,"'name' must be a string"),"string"==typeof t&&m(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",g(e," argument"))i="The ".concat(e," ").concat(s," ").concat(h(t,"type"));else{var a=y(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(s," ").concat(h(t,"type"))}return i+". Received type ".concat(r(o))}),TypeError),f("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===p&&(p=n(4));var o=p.inspect(t);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(o)}),TypeError,RangeError),f("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var o;return o=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(o,".")}),TypeError),f("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===l&&(l=n(37)),l(t.length>0,"At least one arg needs to be specified");var o="The ",s=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),s){case 1:o+="".concat(t[0]," argument");break;case 2:o+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:o+=t.slice(0,s-1).join(", "),o+=", and ".concat(t[s-1]," arguments")}return"".concat(o," must be specified")}),TypeError),e.exports.codes=d},(e,t,n)=>{"use strict";var r=n(2);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||!m(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return h(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},d(e)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t,n){return h=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&g(o,n.prototype),o},h.apply(null,arguments)}function m(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var b=n(4).inspect,_=n(38).codes.ERR_INVALID_ARG_TYPE;function w(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function x(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}var k="",S="",T="",O="",E={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},j=10;function A(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){n[t]=e[t]})),Object.defineProperty(n,"message",{value:e.message}),n}function I(e){return b(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function R(e,t,n){var o="",s="",i=0,a="",c=!1,u=I(e),l=u.split("\n"),p=I(t).split("\n"),d=0,f="";if("strictEqual"===n&&"object"===v(e)&&"object"===v(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===l.length&&1===p.length&&l[0]!==p[0]){var h=l[0].length+p[0].length;if(h<=j){if(!("object"===v(e)&&null!==e||"object"===v(t)&&null!==t||0===e&&0===t))return"".concat(E[n],"\n\n")+"".concat(l[0]," !== ").concat(p[0],"\n")}else if("strictEqualObject"!==n&&h<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;l[0][d]===p[0][d];)d++;d>2&&(f="\n  ".concat(x(" ",d),"^"),d=0)}}for(var m=l[l.length-1],g=p[p.length-1];m===g&&(d++<2?a="\n  ".concat(m).concat(a):o=m,l.pop(),p.pop(),0!==l.length&&0!==p.length);)m=l[l.length-1],g=p[p.length-1];var y=Math.max(l.length,p.length);if(0===y){var b=u.split("\n");if(b.length>30)for(b[26]="".concat(k,"...").concat(O);b.length>27;)b.pop();return"".concat(E.notIdentical,"\n\n").concat(b.join("\n"),"\n")}d>3&&(a="\n".concat(k,"...").concat(O).concat(a),c=!0),""!==o&&(a="\n  ".concat(o).concat(a),o="");var _=0,A=E[n]+"\n".concat(S,"+ actual").concat(O," ").concat(T,"- expected").concat(O),R=" ".concat(k,"...").concat(O," Lines skipped");for(d=0;d<y;d++){var C=d-i;if(l.length<d+1)C>1&&d>2&&(C>4?(s+="\n".concat(k,"...").concat(O),c=!0):C>3&&(s+="\n  ".concat(p[d-2]),_++),s+="\n  ".concat(p[d-1]),_++),i=d,o+="\n".concat(T,"-").concat(O," ").concat(p[d]),_++;else if(p.length<d+1)C>1&&d>2&&(C>4?(s+="\n".concat(k,"...").concat(O),c=!0):C>3&&(s+="\n  ".concat(l[d-2]),_++),s+="\n  ".concat(l[d-1]),_++),i=d,s+="\n".concat(S,"+").concat(O," ").concat(l[d]),_++;else{var N=p[d],P=l[d],M=P!==N&&(!w(P,",")||P.slice(0,-1)!==N);M&&w(N,",")&&N.slice(0,-1)===P&&(M=!1,P+=","),M?(C>1&&d>2&&(C>4?(s+="\n".concat(k,"...").concat(O),c=!0):C>3&&(s+="\n  ".concat(l[d-2]),_++),s+="\n  ".concat(l[d-1]),_++),i=d,s+="\n".concat(S,"+").concat(O," ").concat(P),o+="\n".concat(T,"-").concat(O," ").concat(N),_+=2):(s+=o,o="",1!==C&&0!==d||(s+="\n  ".concat(P),_++))}if(_>20&&d<y-2)return"".concat(A).concat(R,"\n").concat(s,"\n").concat(k,"...").concat(O).concat(o,"\n")+"".concat(k,"...").concat(O)}return"".concat(A).concat(c?R:"","\n").concat(s).concat(o).concat(a).concat(f)}var C=function(e){function t(e){var n;if(i(this,t),"object"!==v(e)||null===e)throw new _("options","Object",e);var o=e.message,s=e.operator,a=e.stackStartFn,c=e.actual,p=e.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=o)n=u(this,y(t).call(this,String(o)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(k="\x1b[34m",S="\x1b[32m",O="\x1b[39m",T="\x1b[31m"):(k="",S="",O="",T="")),"object"===v(c)&&null!==c&&"object"===v(p)&&null!==p&&"stack"in c&&c instanceof Error&&"stack"in p&&p instanceof Error&&(c=A(c),p=A(p)),"deepStrictEqual"===s||"strictEqual"===s)n=u(this,y(t).call(this,R(c,p,s)));else if("notDeepStrictEqual"===s||"notStrictEqual"===s){var f=E[s],h=I(c).split("\n");if("notStrictEqual"===s&&"object"===v(c)&&null!==c&&(f=E.notStrictEqualObject),h.length>30)for(h[26]="".concat(k,"...").concat(O);h.length>27;)h.pop();n=1===h.length?u(this,y(t).call(this,"".concat(f," ").concat(h[0]))):u(this,y(t).call(this,"".concat(f,"\n\n").concat(h.join("\n"),"\n")))}else{var m=I(c),g="",b=E[s];"notDeepEqual"===s||"notEqual"===s?(m="".concat(E[s],"\n\n").concat(m)).length>1024&&(m="".concat(m.slice(0,1021),"...")):(g="".concat(I(p)),m.length>512&&(m="".concat(m.slice(0,509),"...")),g.length>512&&(g="".concat(g.slice(0,509),"...")),"deepEqual"===s||"equal"===s?m="".concat(b,"\n\n").concat(m,"\n\nshould equal\n\n"):g=" ".concat(s," ").concat(g)),n=u(this,y(t).call(this,"".concat(m).concat(g)))}return Error.stackTraceLimit=d,n.generatedMessage=!o,Object.defineProperty(l(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=p,n.operator=s,Error.captureStackTrace&&Error.captureStackTrace(l(n),a),n.stack,n.name="AssertionError",u(n)}return p(t,e),c(t,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:b.custom,value:function(e,t){return b(this,o({},t,{customInspect:!1,depth:0}))}}]),t}(d(Error));e.exports=C},e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var s=Object.keys(Object(o)),i=0,a=s.length;i<a;i++){var c=s[i],u=Object.getOwnPropertyDescriptor(o,c);void 0!==u&&u.enumerable&&(n[c]=o[c])}}return n}function n(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}e.exports={assign:t,polyfill:n}},(e,t,n)=>{"use strict";var r=n(42),o=n(23),s=n(46),i=n(47),a=n(48),c=o(i(),Object);r(c,{getPolyfill:i,implementation:s,shim:a}),e.exports=c},(e,t,n)=>{"use strict";var r=n(43),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=Object.prototype.toString,i=Array.prototype.concat,a=Object.defineProperty,c=function(e){return"function"==typeof e&&"[object Function]"===s.call(e)},u=n(28)(),l=a&&u,p=function(e,t,n,r){(!(t in e)||c(r)&&r())&&(l?a(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},s=r(t);o&&(s=i.call(s,Object.getOwnPropertySymbols(t)));for(var a=0;a<s.length;a+=1)p(e,s[a],t[s[a]],n[s[a]])};d.supportsDescriptors=!!l,e.exports=d},(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(44),s=Object.keys,i=s?function(e){return s(e)}:n(45),a=Object.keys;i.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?a(r.call(e)):a(e)})}else Object.keys=i;return Object.keys||i},e.exports=i},e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,s=Object.prototype.toString,i=n(44),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),h=function(e){if("undefined"==typeof window||!f)return p(e);try{return p(e)}catch(e){return!1}};r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===s.call(e),r=i(e),a=t&&"[object String]"===s.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=u&&n;if(a&&e.length>0&&!o.call(e,0))for(var f=0;f<e.length;++f)p.push(String(f));if(r&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var g in e)d&&"prototype"===g||!o.call(e,g)||p.push(String(g));if(c)for(var y=h(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!o.call(e,l[v])||p.push(l[v]);return p}}e.exports=r},e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},(e,t,n)=>{"use strict";var r=n(46);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},(e,t,n)=>{"use strict";var r=n(47),o=n(42);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},(e,t,n)=>{"use strict";function r(e,t){return i(e)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return n}function i(e){if(Array.isArray(e))return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var c=void 0!==/a/g.flags,u=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},l=function(e){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t},p=Object.is?Object.is:n(41),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:n(50);function h(e){return e.call.bind(e)}var m=h(Object.prototype.hasOwnProperty),g=h(Object.prototype.propertyIsEnumerable),y=h(Object.prototype.toString),v=n(4).types,b=v.isAnyArrayBuffer,_=v.isArrayBufferView,w=v.isDate,x=v.isMap,k=v.isRegExp,S=v.isSet,T=v.isNativeError,O=v.isBoxedPrimitive,E=v.isNumberObject,j=v.isStringObject,A=v.isBooleanObject,I=v.isBigIntObject,R=v.isSymbolObject,C=v.isFloat32Array,N=v.isFloat64Array;function P(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function M(e){return Object.keys(e).filter(P).concat(d(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function $(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}var L=void 0,D=!0,F=!1,U=0,B=1,q=2,V=3;function H(e,t){return c?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}function z(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function W(e,t){return e.byteLength===t.byteLength&&0===$(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Z(e,t){return e.byteLength===t.byteLength&&0===$(new Uint8Array(e),new Uint8Array(t))}function G(e,t){return E(e)?E(t)&&p(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):j(e)?j(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):A(e)?A(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):I(e)?I(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):R(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}function K(e,t,n,r){if(e===t)return 0!==e||!n||p(e,t);if(n){if("object"!==a(e))return"number"==typeof e&&f(e)&&f(t);if("object"!==a(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==a(e))return(null===t||"object"!==a(t))&&e==t;if(null===t||"object"!==a(t))return!1}var o=y(e);if(o!==y(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var s=M(e,L),i=M(t,L);return s.length===i.length&&J(e,t,n,r,B,s)}if("[object Object]"===o&&(!x(e)&&x(t)||!S(e)&&S(t)))return!1;if(w(e)){if(!w(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(k(e)){if(!k(t)||!H(e,t))return!1}else if(T(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(_(e)){if(n||!C(e)&&!N(e)){if(!W(e,t))return!1}else if(!z(e,t))return!1;var c=M(e,L),u=M(t,L);return c.length===u.length&&J(e,t,n,r,U,c)}if(S(e))return!(!S(t)||e.size!==t.size)&&J(e,t,n,r,q);if(x(e))return!(!x(t)||e.size!==t.size)&&J(e,t,n,r,V);if(b(e)){if(!Z(e,t))return!1}else if(O(e)&&!G(e,t))return!1}return J(e,t,n,r,U)}function Y(e,t){return t.filter((function(t){return g(e,t)}))}function J(e,t,n,r,o,s){if(5===arguments.length){s=Object.keys(e);var i=Object.keys(t);if(s.length!==i.length)return!1}for(var a=0;a<s.length;a++)if(!m(t,s[a]))return!1;if(n&&5===arguments.length){var c=d(e);if(0!==c.length){var u=0;for(a=0;a<c.length;a++){var l=c[a];if(g(e,l)){if(!g(t,l))return!1;s.push(l),u++}else if(g(t,l))return!1}var p=d(t);if(c.length!==p.length&&Y(t,p).length!==u)return!1}else{var f=d(t);if(0!==f.length&&0!==Y(t,f).length)return!1}}if(0===s.length&&(o===U||o===B&&0===e.length||0===e.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var h=r.val1.get(e);if(void 0!==h){var y=r.val2.get(t);if(void 0!==y)return h===y}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var v=se(e,t,n,s,r,o);return r.val1.delete(e),r.val2.delete(t),v}function X(e,t,n,r){for(var o=u(e),s=0;s<o.length;s++){var i=o[s];if(K(t,i,n,r))return e.delete(i),!0}return!1}function Q(e){switch(a(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(f(e))return!1}return!0}function ee(e,t,n){var r=Q(n);return null!=r?r:t.has(r)&&!e.has(r)}function te(e,t,n,r,o){var s=Q(n);if(null!=s)return s;var i=t.get(s);return!(void 0===i&&!t.has(s)||!K(r,i,!1,o))&&!e.has(s)&&K(r,i,!1,o)}function ne(e,t,n,r){for(var o=null,s=u(e),i=0;i<s.length;i++){var c=s[i];if("object"===a(c)&&null!==c)null===o&&(o=new Set),o.add(c);else if(!t.has(c)){if(n)return!1;if(!ee(e,t,c))return!1;null===o&&(o=new Set),o.add(c)}}if(null!==o){for(var l=u(t),p=0;p<l.length;p++){var d=l[p];if("object"===a(d)&&null!==d){if(!X(o,d,n,r))return!1}else if(!n&&!e.has(d)&&!X(o,d,n,r))return!1}return 0===o.size}return!0}function re(e,t,n,r,o,s){for(var i=u(e),a=0;a<i.length;a++){var c=i[a];if(K(n,c,o,s)&&K(r,t.get(c),o,s))return e.delete(c),!0}return!1}function oe(e,t,n,o){for(var s=null,i=l(e),c=0;c<i.length;c++){var u=r(i[c],2),p=u[0],d=u[1];if("object"===a(p)&&null!==p)null===s&&(s=new Set),s.add(p);else{var f=t.get(p);if(void 0===f&&!t.has(p)||!K(d,f,n,o)){if(n)return!1;if(!te(e,t,p,d,o))return!1;null===s&&(s=new Set),s.add(p)}}}if(null!==s){for(var h=l(t),m=0;m<h.length;m++){var g=r(h[m],2),y=(p=g[0],g[1]);if("object"===a(p)&&null!==p){if(!re(s,e,p,y,n,o))return!1}else if(!(n||e.has(p)&&K(e.get(p),y,!1,o)||re(s,e,p,y,!1,o)))return!1}return 0===s.size}return!0}function se(e,t,n,r,o,s){var i=0;if(s===q){if(!ne(e,t,n,o))return!1}else if(s===V){if(!oe(e,t,n,o))return!1}else if(s===B)for(;i<e.length;i++){if(!m(e,i)){if(m(t,i))return!1;for(var a=Object.keys(e);i<a.length;i++){var c=a[i];if(!m(t,c)||!K(e[c],t[c],n,o))return!1}return a.length===Object.keys(t).length}if(!m(t,i)||!K(e[i],t[i],n,o))return!1}for(i=0;i<r.length;i++){var u=r[i];if(!K(e[u],t[u],n,o))return!1}return!0}function ie(e,t){return K(e,t,F)}function ae(e,t){return K(e,t,D)}e.exports={isDeepEqual:ie,isDeepStrictEqual:ae}},(e,t,n)=>{"use strict";var r=n(51),o=n(42),s=n(56),i=n(57),a=n(58),c=r(i(),Number);o(c,{getPolyfill:i,implementation:s,shim:a}),e.exports=c},(e,t,n)=>{"use strict";var r=n(52),o=n(54),s=o("%Function.prototype.apply%"),i=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||r.call(i,s),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(r,i,arguments);return c&&u&&c(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var p=function(){return a(r,s,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},(e,t,n)=>{"use strict";var r=n(53);e.exports=Function.prototype.bind||r},e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var s=this;if("function"!=typeof s||r.call(s)!==o)throw new TypeError(t+s);for(var i,a=n.call(arguments,1),c=function(){if(this instanceof i){var t=s.apply(this,a.concat(n.call(arguments)));return Object(t)===t?t:this}return s.apply(e,a.concat(n.call(arguments)))},u=Math.max(0,s.length-a.length),l=[],p=0;p<u;p++)l.push("$"+p);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),s.prototype){var d=function(){};d.prototype=s.prototype,i.prototype=new d,d.prototype=null}return i}},(e,t,n)=>{"use strict";var r,o=SyntaxError,s=Function,i=TypeError,a=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new i},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,p=n(18)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"==typeof Uint8Array?r:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};try{null.error}catch(e){var g=d(d(e));m["%Error.prototype%"]=g}var y=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=d(o.prototype))}return m[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(52),_=n(55),w=b.call(Function.call,Array.prototype.concat),x=b.call(Function.apply,Array.prototype.splice),k=b.call(Function.call,String.prototype.replace),S=b.call(Function.call,String.prototype.slice),T=b.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,j=function(e){var t=S(e,0,1),n=S(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return k(e,O,(function(e,t,n,o){r[r.length]=n?k(o,E,"$1"):t||e})),r},A=function(e,t){var n,r=e;if(_(v,r)&&(r="%"+(n=v[r])[0]+"%"),_(m,r)){var s=m[r];if(s===f&&(s=y(r)),void 0===s&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:s}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=j(e),r=n.length>0?n[0]:"",s=A("%"+r+"%",t),a=s.name,u=s.value,l=!1,p=s.alias;p&&(r=p[0],x(n,w([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var h=n[d],g=S(h,0,1),y=S(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&f||(l=!0),_(m,a="%"+(r+="."+h)+"%"))u=m[a];else if(null!=u){if(!(h in u)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&d+1>=n.length){var v=c(u,h);u=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[h]}else f=_(u,h),u=u[h];f&&!l&&(m[a]=u)}}return u}},(e,t,n)=>{"use strict";var r=n(20);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},e=>{"use strict";e.exports=function(e){return e!=e}},(e,t,n)=>{"use strict";var r=n(56);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},(e,t,n)=>{"use strict";var r=n(42),o=n(57);e.exports=function(){var e=o();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},function(e){var t;t=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",s="minute",i="hour",a="day",c="week",u="month",l="quarter",p="year",d="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,u),s=n-o<0,i=t.clone().add(r+(s?-1:1),u);return+(-(r+(n-o)/(s?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:p,w:c,d:a,D:d,h:i,m:s,s:o,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",_={};_[b]=g;var w=function(e){return e instanceof T},x=function e(t,n,r){var o;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();_[s]&&(o=s),n&&(_[s]=n,o=s);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var a=t.name;_[a]=t,o=a}return!r&&o&&(b=o),o||!r&&b},k=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},S=v;S.l=x,S.i=w,S.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var o=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return k(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<k(e)},y.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!S.u(t)||t,l=S.p(e),f=function(e,t){var o=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(a)},h=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(l){case p:return r?f(1,0):f(31,11);case u:return r?f(1,g):f(0,g+1);case c:var b=this.$locale().weekStart||0,_=(m<b?m+7:m)-b;return f(r?y-_:y+(6-_),g);case a:case d:return h(v+"Hours",0);case i:return h(v+"Minutes",1);case s:return h(v+"Seconds",2);case o:return h(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,c=S.p(e),l="set"+(this.$u?"UTC":""),f=(n={},n[a]=l+"Date",n[d]=l+"Date",n[u]=l+"Month",n[p]=l+"FullYear",n[i]=l+"Hours",n[s]=l+"Minutes",n[o]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],h=c===a?this.$D+(t-this.$W):t;if(c===u||c===p){var m=this.clone().set(d,1);m.$d[f](h),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[S.p(e)]()},y.add=function(r,l){var d,f=this;r=Number(r);var h=S.p(l),m=function(e){var t=k(f);return S.w(t.date(t.date()+Math.round(e*r)),f)};if(h===u)return this.set(u,this.$M+r);if(h===p)return this.set(p,this.$y+r);if(h===a)return m(1);if(h===c)return m(7);var g=(d={},d[s]=t,d[i]=n,d[o]=e,d)[h]||1,y=this.$d.getTime()+r*g;return S.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),s=this.$H,i=this.$m,a=this.$M,c=n.weekdays,u=n.months,l=function(e,n,o,s){return e&&(e[n]||e(t,r))||o[n].slice(0,s)},p=function(e){return S.s(s%12||12,e,"0")},d=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:l(n.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,c,2),ddd:l(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:S.s(s,2,"0"),h:p(1),hh:p(2),a:d(s,i,!0),A:d(s,i,!1),m:String(i),mm:S.s(i,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:o};return r.replace(m,(function(e,t){return t||h[e]||o.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,f){var h,m=S.p(d),g=k(r),y=(g.utcOffset()-this.utcOffset())*t,v=this-g,b=S.m(this,g);return b=(h={},h[p]=b/12,h[u]=b,h[l]=b/3,h[c]=(v-y)/6048e5,h[a]=(v-y)/864e5,h[i]=v/n,h[s]=v/t,h[o]=v/e,h)[m]||v,f?b:S.a(b)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return _[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),O=T.prototype;return k.prototype=O,[["$ms",r],["$s",o],["$m",s],["$H",i],["$W",a],["$M",u],["$y",p],["$D",d]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,T,k),e.$i=!0),k},k.locale=x,k.isDayjs=w,k.unix=function(e){return k(1e3*e)},k.en=_[b],k.Ls=_,k.p={},k},e.exports=t()},function(e,t){"use strict";var n,r,o,s,i,a,c,u,l,p,d,f,h,m,g,y,v,b,_,w,x,k,S,T=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),O=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},E=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};t.__esModule=!0,t.default=void 0;var j=function(e){var t=131,n=137,r=0;e+="x";for(var o=Math.floor(9007199254740991/n),s=0;s<e.length;s++)r>o&&(r=Math.floor(r/n)),r=r*t+e.charCodeAt(s);return r},A="0123456789abcdef".split(""),I=[-2147483648,8388608,32768,128],R=[24,16,8,0],C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],N=[],P=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),r.set(this,void 0),o.set(this,void 0),s.set(this,void 0),i.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),p.set(this,void 0),d.set(this,void 0),f.set(this,void 0),h.set(this,void 0),m.set(this,void 0),g.set(this,void 0),y.set(this,void 0),v.set(this,void 0),b.set(this,0),_.set(this,void 0),this.init(e,t)}return e.prototype.init=function(e,t){t?(N[0]=N[16]=N[1]=N[2]=N[3]=N[4]=N[5]=N[6]=N[7]=N[8]=N[9]=N[10]=N[11]=N[12]=N[13]=N[14]=N[15]=0,O(this,o,N)):O(this,o,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e?(O(this,c,3238371032),O(this,u,914150663),O(this,l,812702999),O(this,p,4144912697),O(this,d,4290775857),O(this,f,1750603025),O(this,h,1694076839),O(this,m,3204075428)):(O(this,c,1779033703),O(this,u,3144134277),O(this,l,1013904242),O(this,p,2773480762),O(this,d,1359893119),O(this,f,2600822924),O(this,h,528734635),O(this,m,1541459225)),O(this,r,O(this,_,O(this,s,O(this,y,0)))),O(this,i,O(this,g,!1)),O(this,a,!0),O(this,v,e)},e.prototype.update=function(e){if(E(this,i))return this;for(var t,n=0,a=(t=e instanceof ArrayBuffer?new Uint8Array(e):e).length,c=E(this,o);n<a;){var u=void 0;if(E(this,g)&&(O(this,g,!1),c[0]=E(this,r),c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),"string"!=typeof t)for(u=E(this,_);n<a&&u<64;++n)c[u>>2]|=t[n]<<R[3&u++];else for(u=E(this,_);n<a&&u<64;++n){var l=t.charCodeAt(n);l<128?c[u>>2]|=l<<R[3&u++]:l<2048?(c[u>>2]|=(192|l>>6)<<R[3&u++],c[u>>2]|=(128|63&l)<<R[3&u++]):l<55296||l>=57344?(c[u>>2]|=(224|l>>12)<<R[3&u++],c[u>>2]|=(128|l>>6&63)<<R[3&u++],c[u>>2]|=(128|63&l)<<R[3&u++]):(l=65536+((1023&l)<<10|1023&t.charCodeAt(++n)),c[u>>2]|=(240|l>>18)<<R[3&u++],c[u>>2]|=(128|l>>12&63)<<R[3&u++],c[u>>2]|=(128|l>>6&63)<<R[3&u++],c[u>>2]|=(128|63&l)<<R[3&u++])}O(this,b,u),O(this,s,E(this,s)+(u-E(this,_))),u>=64?(O(this,r,c[16]),O(this,_,u-64),this.hash(),O(this,g,!0)):O(this,_,u)}return E(this,s)>4294967295&&(O(this,y,E(this,y)+(E(this,s)/4294967296|0)),O(this,s,E(this,s)%4294967296)),this},e.prototype.finalize=function(){if(!E(this,i)){O(this,i,!0);var e=E(this,o),t=E(this,b);e[16]=E(this,r),e[t>>2]|=I[3&t],O(this,r,e[16]),t>=56&&(E(this,g)||this.hash(),e[0]=E(this,r),e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=E(this,y)<<3|E(this,s)>>>29,e[15]=E(this,s)<<3,this.hash()}},e.prototype.hash=function(){for(var e,t,n,r,s,i,g,y,b=E(this,c),_=E(this,u),w=E(this,l),x=E(this,p),k=E(this,d),S=E(this,f),T=E(this,h),j=E(this,m),A=E(this,o),I=16;I<64;++I)e=((r=A[I-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,t=((r=A[I-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,A[I]=A[I-16]+e+A[I-7]+t|0;y=_&w;for(var R=0;R<64;R+=4)E(this,a)?(E(this,v)?(s=300032,j=(r=A[0]-1413257819)-150054599|0,x=r+24177077|0):(s=704751109,j=(r=A[0]-210244248)-1521486534|0,x=r+143694565|0),O(this,a,!1)):(e=(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),n=(s=b&_)^b&w^y,j=x+(r=j+(t=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&S^~k&T)+C[R]+A[R])|0,x=r+(e+n)|0),e=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),n=(i=x&b)^x&_^s,T=w+(r=T+(t=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&k^~j&S)+C[R+1]+A[R+1])|0,e=((w=r+(e+n)|0)>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),n=(g=w&x)^w&b^i,S=_+(r=S+(t=(T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&j^~T&k)+C[R+2]+A[R+2])|0,e=((_=r+(e+n)|0)>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),n=(y=_&w)^_&x^g,k=b+(r=k+(t=(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&T^~S&j)+C[R+3]+A[R+3])|0,b=r+(e+n)|0;O(this,c,E(this,c)+b|0),O(this,u,E(this,u)+_|0),O(this,l,E(this,l)+w|0),O(this,p,E(this,p)+x|0),O(this,d,E(this,d)+k|0),O(this,f,E(this,f)+S|0),O(this,h,E(this,h)+T|0),O(this,m,E(this,m)+j|0)},e.prototype.hex=function(){this.finalize();var e=E(this,c),t=E(this,u),n=E(this,l),r=E(this,p),o=E(this,d),s=E(this,f),i=E(this,h),a=E(this,m),g=A[e>>28&15]+A[e>>24&15]+A[e>>20&15]+A[e>>16&15]+A[e>>12&15]+A[e>>8&15]+A[e>>4&15]+A[15&e]+A[t>>28&15]+A[t>>24&15]+A[t>>20&15]+A[t>>16&15]+A[t>>12&15]+A[t>>8&15]+A[t>>4&15]+A[15&t]+A[n>>28&15]+A[n>>24&15]+A[n>>20&15]+A[n>>16&15]+A[n>>12&15]+A[n>>8&15]+A[n>>4&15]+A[15&n]+A[r>>28&15]+A[r>>24&15]+A[r>>20&15]+A[r>>16&15]+A[r>>12&15]+A[r>>8&15]+A[r>>4&15]+A[15&r]+A[o>>28&15]+A[o>>24&15]+A[o>>20&15]+A[o>>16&15]+A[o>>12&15]+A[o>>8&15]+A[o>>4&15]+A[15&o]+A[s>>28&15]+A[s>>24&15]+A[s>>20&15]+A[s>>16&15]+A[s>>12&15]+A[s>>8&15]+A[s>>4&15]+A[15&s]+A[i>>28&15]+A[i>>24&15]+A[i>>20&15]+A[i>>16&15]+A[i>>12&15]+A[i>>8&15]+A[i>>4&15]+A[15&i];return E(this,v)||(g+=A[a>>28&15]+A[a>>24&15]+A[a>>20&15]+A[a>>16&15]+A[a>>12&15]+A[a>>8&15]+A[a>>4&15]+A[15&a]),g},e.prototype.toString=function(){return this.hex()},e.prototype.digest=function(){this.finalize();var e=E(this,c),t=E(this,u),n=E(this,l),r=E(this,p),o=E(this,d),s=E(this,f),i=E(this,h),a=E(this,m),g=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i];return E(this,v)||g.push(a>>24&255,a>>16&255,a>>8&255,255&a),g},e.prototype.array=function(){return this.digest()},e.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(E(this,v)?28:32),t=new DataView(e);return t.setUint32(0,E(this,c)),t.setUint32(4,E(this,u)),t.setUint32(8,E(this,l)),t.setUint32(12,E(this,p)),t.setUint32(16,E(this,d)),t.setUint32(20,E(this,f)),t.setUint32(24,E(this,h)),E(this,v)||t.setUint32(28,E(this,m)),e},e}();function M(e){var t=new P;return t.update(e),parseInt(t.hex().substring(0,8),16)}r=new WeakMap,o=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,_=new WeakMap,function(e){function t(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o,s=e.call(this,n,r)||this;if(w.set(s,void 0),x.set(s,void 0),k.set(s,void 0),S.set(s,void 0),"string"==typeof t){for(var i=[],a=t.length,c=0,u=0;u<a;++u){var l=t.charCodeAt(u);l<128?i[c++]=l:l<2048?(i[c++]=192|l>>6,i[c++]=128|63&l):l<55296||l>=57344?(i[c++]=224|l>>12,i[c++]=128|l>>6&63,i[c++]=128|63&l):(l=65536+((1023&l)<<10|1023&t.charCodeAt(++u)),i[c++]=240|l>>18,i[c++]=128|l>>12&63,i[c++]=128|l>>6&63,i[c++]=128|63&l)}o=i}else o=t instanceof ArrayBuffer?new Uint8Array(t):t;o.length>64&&(o=new P(n,!0).update(o).array());var p=[],d=[];for(u=0;u<64;++u){var f=o[u]||0;p[u]=92^f,d[u]=54^f}return s.update(d),O(s,k,p),O(s,w,!0),O(s,x,n),O(s,S,r),s}T(t,e),t.prototype.finalize=function(){if(e.prototype.finalize.call(this),E(this,w)){O(this,w,!1);var t=this.array();e.prototype.init.call(this,E(this,x),E(this,S)),this.update(E(this,k)),this.update(t),e.prototype.finalize.call(this)}}}(P),w=new WeakMap,x=new WeakMap,k=new WeakMap,S=new WeakMap;var $=function(e){var t="#";return e.forEach((function(e){e<16&&(t+=0),t+=e.toString(16)})),t},L=function(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;return[(e/=360)+1/3,e,e-1/3].map((function(e){return e<0&&e++,e>1&&e--,e=e<1/6?o+6*(r-o)*e:e<.5?r:e<2/3?o+6*(r-o)*(2/3-e):o,Math.round(255*e)}))},D=function(){function e(e){void 0===e&&(e={});var t=[e.lightness,e.saturation].map((function(e){return e=void 0!==e?e:[.35,.5,.65],Array.isArray(e)?e.concat():[e]})),n=t[0],r=t[1];this.L=n,this.S=r,"number"==typeof e.hue&&(e.hue={min:e.hue,max:e.hue}),"object"!=typeof e.hue||Array.isArray(e.hue)||(e.hue=[e.hue]),void 0===e.hue&&(e.hue=[]),this.hueRanges=e.hue.map((function(e){return{min:void 0===e.min?0:e.min,max:void 0===e.max?360:e.max}})),this.hash=M,"function"==typeof e.hash&&(this.hash=e.hash),"bkdr"===e.hash&&(this.hash=j)}return e.prototype.hsl=function(e){var t,n,r=this.hash(e),o=727;if(this.hueRanges.length){var s=this.hueRanges[r%this.hueRanges.length];t=r/this.hueRanges.length%o*(s.max-s.min)/o+s.min}else t=r%359;return r=Math.ceil(r/360),n=this.S[r%this.S.length],r=Math.ceil(r/this.S.length),[t,n,this.L[r%this.L.length]]},e.prototype.rgb=function(e){var t=this.hsl(e);return L.apply(this,t)},e.prototype.hex=function(e){var t=this.rgb(e);return $(t)},e}();t.default=D},(e,t,n)=>{var r=n(62),o=n(63),s=n(66),i="Expected a function",a=Math.max,c=Math.min;function u(e,t,n){var u,l,p,d,f,h,m=0,g=!1,y=!1,v=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=u,r=l;return u=l=void 0,m=t,d=e.apply(r,n)}function _(e){return m=e,f=setTimeout(k,t),g?b(e):d}function w(e){var n=t-(e-h);return y?c(n,p-(e-m)):n}function x(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-m>=p}function k(){var e=o();if(x(e))return S(e);f=setTimeout(k,w(e))}function S(e){return f=void 0,v&&u?b(e):(u=l=void 0,d)}function T(){void 0!==f&&clearTimeout(f),m=0,u=h=l=f=void 0}function O(){return void 0===f?d:S(o())}function E(){var e=o(),n=x(e);if(u=arguments,l=this,h=e,n){if(void 0===f)return _(h);if(y)return clearTimeout(f),f=setTimeout(k,t),b(h)}return void 0===f&&(f=setTimeout(k,t)),d}return t=s(t)||0,r(n)&&(g=!!n.leading,p=(y="maxWait"in n)?a(s(n.maxWait)||0,t):p,v="trailing"in n?!!n.trailing:v),E.cancel=T,E.flush=O,E}e.exports=u},e=>{function t(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=t},(e,t,n)=>{var r=n(64),o=function(){return r.Date.now()};e.exports=o},(e,t,n)=>{var r=n(65),o="object"==typeof self&&self&&self.Object===Object&&self,s=r||o||Function("return this")();e.exports=s},(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},(e,t,n)=>{var r=n(67),o=n(62),s=n(69),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function p(e){if("number"==typeof e)return e;if(s(e))return i;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=p},(e,t,n)=>{var r=n(68),o=/^\s+/;function s(e){return e?e.slice(0,r(e)+1).replace(o,""):e}e.exports=s},e=>{var t=/\s/;function n(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}e.exports=n},(e,t,n)=>{var r=n(70),o=n(74),s="[object Symbol]";function i(e){return"symbol"==typeof e||o(e)&&r(e)==s}e.exports=i},(e,t,n)=>{var r=n(71),o=n(72),s=n(73),i="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;function u(e){return null==e?void 0===e?a:i:c&&c in Object(e)?o(e):s(e)}e.exports=u},(e,t,n)=>{var r=n(64).Symbol;e.exports=r},(e,t,n)=>{var r=n(71),o=Object.prototype,s=o.hasOwnProperty,i=o.toString,a=r?r.toStringTag:void 0;function c(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[a]=n:delete e[a]),o}e.exports=c},e=>{var t=Object.prototype.toString;function n(e){return t.call(e)}e.exports=n},e=>{function t(e){return null!=e&&"object"==typeof e}e.exports=t},(e,t,n)=>{"use strict";var r=n(3);const o=n(76),s=n(77),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function c(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function u(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return p(e,t,n)}function p(e,t,n){if("string"==typeof e)return m(e,t);if(ArrayBuffer.isView(e))return y(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ie(e,ArrayBuffer)||e&&ie(e.buffer,ArrayBuffer))return v(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(ie(e,SharedArrayBuffer)||e&&ie(e.buffer,SharedArrayBuffer)))return v(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const o=b(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e,t,n){return d(e),e<=0?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)}function h(e){return d(e),u(e<0?0:0|_(e))}function m(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|w(e,t);let r=u(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}function g(e){const t=e.length<0?0:0|_(e.length),n=u(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function y(e){if(ie(e,Uint8Array)){const t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return g(e)}function v(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function b(e){if(l.isBuffer(e)){const t=0|_(e.length),n=u(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||ae(e.length)?u(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}function _(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function w(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ie(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return te(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return oe(e).length;default:if(o)return r?-1:te(e).length;t=(""+t).toLowerCase(),o=!0}}function x(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return $(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function k(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ae(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:T(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):T(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function T(e,t,n,r,o){let s,i=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,a/=2,c/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let r=-1;for(s=n;s<a;s++)if(u(e,s)===u(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===c)return r*i}else-1!==r&&(s-=s-r),r=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){let n=!0;for(let r=0;r<c;r++)if(u(e,s+r)!==u(t,r)){n=!1;break}if(n)return s}return-1}function O(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const s=t.length;let i;for(r>s/2&&(r=s/2),i=0;i<r;++i){const r=parseInt(t.substr(2*i,2),16);if(ae(r))return i;e[n+i]=r}return i}function E(e,t,n,r){return se(te(t,e.length-n),e,n,r)}function j(e,t,n,r){return se(ne(t),e,n,r)}function A(e,t,n,r){return se(oe(t),e,n,r)}function I(e,t,n,r){return se(re(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let s=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=n){let n,r,a,c;switch(i){case 1:t<128&&(s=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(s=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,i=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=i}return P(r)}l.TYPED_ARRAY_SUPPORT=c(),l.TYPED_ARRAY_SUPPORT||void 0===r||"function"!=typeof r.error||r.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return p(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return f(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(ie(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),ie(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,s=Math.min(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(ie(t,Uint8Array))o+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)k(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):x.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,o){if(ie(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(o>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0);const a=Math.min(s,i),c=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==u[e]){s=c[e],i=u[e];break}return s<i?-1:i<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return O(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return j(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function P(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}function M(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function $(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function L(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=ce[e[r]];return o}function D(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function F(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,o,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,o){Y(t,r,o,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function q(e,t,n,r,o){Y(t,r,o,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function V(e,t,n,r,o,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,o){return t=+t,n>>>=0,o||V(e,t,n,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,o){return t=+t,n>>>=0,o||V(e,t,n,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);let r=this[e],o=1,s=0;for(;++s<t&&(o*=256);)r+=this[e+s]*o;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=ue((function(e){J(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=ue((function(e){J(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);let r=this[e],o=1,s=0;for(;++s<t&&(o*=256);)r+=this[e+s]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);let r=t,o=1,s=this[e+--r];for(;r>0&&(o*=256);)s+=this[e+--r]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||F(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||F(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=ue((function(e){J(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=ue((function(e){J(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||F(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||F(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||F(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||F(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||U(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||U(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=ue((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=ue((function(e,t=0){return q(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}let o=0,s=1,i=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/s|0)-i&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}let o=n-1,s=1,i=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/s|0)-i&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=ue((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=ue((function(e,t=0){return q(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const s=l.isBuffer(e)?e:l.from(e,r),i=s.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%i]}return this};const W={};function Z(e,t,n){W[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function G(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function K(e,t,n){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||X(t,e.length-(n+1))}function Y(e,t,n,r,o,s){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",o,e)}K(r,o,s)}function J(e,t){if("number"!=typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,n){if(Math.floor(e)!==e)throw J(e,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}Z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),Z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=G(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=G(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const Q=/[^+/0-9A-Za-z-_]/g;function ee(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function te(e,t){let n;t=t||1/0;const r=e.length;let o=null;const s=[];for(let i=0;i<r;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&s.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function ne(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function re(e,t){let n,r,o;const s=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,o=n%256,s.push(o),s.push(r);return s}function oe(e){return o.toByteArray(ee(e))}function se(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function ie(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ae(e){return e!=e}const ce=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function ue(e){return"undefined"==typeof BigInt?le:e}function le(){throw new Error("BigInt not supported")}},(e,t)=>{"use strict";t.byteLength=u,t.toByteArray=p,t.fromByteArray=h;for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=s.length;i<a;++i)n[i]=s[i],r[s.charCodeAt(i)]=i;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function l(e,t,n){return 3*(t+n)/4-n}function p(e){var t,n,s=c(e),i=s[0],a=s[1],u=new o(l(e,i,a)),p=0,d=a>0?i-4:i;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[p++]=t>>16&255,u[p++]=t>>8&255,u[p++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[p++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[p++]=t>>8&255,u[p++]=255&t),u}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,n){for(var r,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(d(r));return o.join("")}function h(e){for(var t,r=e.length,o=r%3,s=[],i=16383,a=0,c=r-o;a<c;a+=i)s.push(f(e,a,a+i>c?c:a+i));return 1===o?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},(e,t)=>{t.read=function(e,t,n,r,o){var s,i,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,p=n?o-1:0,d=n?-1:1,f=e[t+p];for(p+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+e[t+p],p+=d,l-=8);for(i=s&(1<<-l)-1,s>>=-l,l+=r;l>0;i=256*i+e[t+p],p+=d,l-=8);if(0===s)s=1-u;else{if(s===c)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,r),s-=u}return(f?-1:1)*i*Math.pow(2,s-r)},t.write=function(e,t,n,r,o,s){var i,a,c,u=8*s-o-1,l=(1<<u)-1,p=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+p>=1?d/c:d*Math.pow(2,1-p))*c>=2&&(i++,c/=2),i+p>=l?(a=0,i=l):i+p>=1?(a=(t*c-1)*Math.pow(2,o),i+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),i=0));o>=8;e[n+f]=255&a,f+=h,a/=256,o-=8);for(i=i<<o|a,u+=o;u>0;e[n+f]=255&i,f+=h,i/=256,u-=8);e[n+f-h]|=128*m}},(e,t,n)=>{var r=n(79),o=n(80),s=n(105),i=n(89);function a(e,t){return(i(e)?r:o)(e,s(t))}e.exports=a},e=>{function t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=t},(e,t,n)=>{var r=n(81),o=n(104)(r);e.exports=o},(e,t,n)=>{var r=n(82),o=n(84);function s(e,t){return e&&r(e,t,o)}e.exports=s},(e,t,n)=>{var r=n(83)();e.exports=r},e=>{function t(e){return function(t,n,r){for(var o=-1,s=Object(t),i=r(t),a=i.length;a--;){var c=i[e?a:++o];if(!1===n(s[c],c,s))break}return t}}e.exports=t},(e,t,n)=>{var r=n(85),o=n(98),s=n(102);function i(e){return s(e)?r(e):o(e)}e.exports=i},(e,t,n)=>{var r=n(86),o=n(87),s=n(89),i=n(90),a=n(92),c=n(93),u=Object.prototype.hasOwnProperty;function l(e,t){var n=s(e),l=!n&&o(e),p=!n&&!l&&i(e),d=!n&&!l&&!p&&c(e),f=n||l||p||d,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!u.call(e,g)||f&&("length"==g||p&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||h.push(g);return h}e.exports=l},e=>{function t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=t},(e,t,n)=>{var r=n(88),o=n(74),s=Object.prototype,i=s.hasOwnProperty,a=s.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},(e,t,n)=>{var r=n(70),o=n(74),s="[object Arguments]";function i(e){return o(e)&&r(e)==s}e.exports=i},e=>{var t=Array.isArray;e.exports=t},(e,t,n)=>{e=n.nmd(e);var r=n(64),o=n(91),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,a=i&&i.exports===s?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;e.exports=c},e=>{function t(){return!1}e.exports=t},e=>{var t=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(e,r){var o=typeof e;return!!(r=null==r?t:r)&&("number"==o||"symbol"!=o&&n.test(e))&&e>-1&&e%1==0&&e<r}e.exports=r},(e,t,n)=>{var r=n(94),o=n(96),s=n(97),i=s&&s.isTypedArray,a=i?o(i):r;e.exports=a},(e,t,n)=>{var r=n(70),o=n(95),s=n(74),i="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",p="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",E="[object Uint16Array]",j="[object Uint32Array]",A={};function I(e){return s(e)&&o(e.length)&&!!A[r(e)]}A["[object Float32Array]"]=A[w]=A[x]=A[k]=A[S]=A[T]=A[O]=A[E]=A[j]=!0,A[i]=A[a]=A[b]=A[c]=A[_]=A[u]=A[l]=A[p]=A[d]=A[f]=A[h]=A[m]=A[g]=A[y]=A[v]=!1,e.exports=I},e=>{var t=9007199254740991;function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}e.exports=n},e=>{function t(e){return function(t){return e(t)}}e.exports=t},(e,t,n)=>{e=n.nmd(e);var r=n(65),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,i=s&&s.exports===o&&r.process,a=function(){try{return s&&s.require&&s.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a},(e,t,n)=>{var r=n(99),o=n(100),s=Object.prototype.hasOwnProperty;function i(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=i},e=>{var t=Object.prototype;function n(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}e.exports=n},(e,t,n)=>{var r=n(101)(Object.keys,Object);e.exports=r},e=>{function t(e,t){return function(n){return e(t(n))}}e.exports=t},(e,t,n)=>{var r=n(103),o=n(95);function s(e){return null!=e&&o(e.length)&&!r(e)}e.exports=s},(e,t,n)=>{var r=n(70),o=n(62),s="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";function u(e){if(!o(e))return!1;var t=r(e);return t==i||t==a||t==s||t==c}e.exports=u},(e,t,n)=>{var r=n(102);function o(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var s=n.length,i=t?s:-1,a=Object(n);(t?i--:++i<s)&&!1!==o(a[i],i,a););return n}}e.exports=o},(e,t,n)=>{var r=n(106);function o(e){return"function"==typeof e?e:r}e.exports=o},e=>{function t(e){return e}e.exports=t},(e,t,n)=>{e.exports=n(108)},(e,t,n)=>{"use strict";var r=n(109),o=n(110),s=n(111),i=n(133);function a(e){var t=new s(e),n=o(s.prototype.request,t);return r.extend(n,s.prototype,t),r.extend(n,t),n.create=function(t){return a(i(e,t))},n}var c=a(n(116));c.Axios=s,c.CanceledError=n(129),c.CancelToken=n(136),c.isCancel=n(132),c.VERSION=n(135).version,c.toFormData=n(120),c.AxiosError=n(118),c.Cancel=c.CanceledError,c.all=function(e){return Promise.all(e)},c.spread=n(137),c.isAxiosError=n(138),e.exports=c,e.exports.default=c},(e,t,n)=>{"use strict";var r,o=n(110),s=Object.prototype.toString,i=(r=Object.create(null),function(e){var t=s.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function c(e){return Array.isArray(e)}function u(e){return void 0===e}function l(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var p=a("ArrayBuffer");function d(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer)}function f(e){return"string"==typeof e}function h(e){return"number"==typeof e}function m(e){return null!==e&&"object"==typeof e}function g(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var y=a("Date"),v=a("File"),b=a("Blob"),_=a("FileList");function w(e){return"[object Function]"===s.call(e)}function x(e){return m(e)&&w(e.pipe)}function k(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||s.call(e)===t||w(e.toString)&&e.toString()===t)}var S=a("URLSearchParams");function T(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function O(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function E(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function j(){var e={};function t(t,n){g(e[n])&&g(t)?e[n]=j(e[n],t):g(t)?e[n]=j({},t):c(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)E(arguments[n],t);return e}function A(e,t,n){return E(t,(function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t})),e}function I(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function R(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function C(e,t,n){var r,o,s,i={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)i[s=r[o]]||(t[s]=e[s],i[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function N(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n}function P(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var M,$=(M="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return M&&e instanceof M});e.exports={isArray:c,isArrayBuffer:p,isBuffer:l,isFormData:k,isArrayBufferView:d,isString:f,isNumber:h,isObject:m,isPlainObject:g,isUndefined:u,isDate:y,isFile:v,isBlob:b,isFunction:w,isStream:x,isURLSearchParams:S,isStandardBrowserEnv:O,forEach:E,merge:j,extend:A,trim:T,stripBOM:I,inherits:R,toFlatObject:C,kindOf:i,kindOfTest:a,endsWith:N,toArray:P,isTypedArray:$,isFileList:_}},e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},(e,t,n)=>{"use strict";var r=n(109),o=n(112),s=n(113),i=n(114),a=n(133),c=n(124),u=n(134),l=u.validators;function p(e){this.defaults=e,this.interceptors={request:new s,response:new s}}p.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var s,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!o){var p=[i,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(c),s=Promise.resolve(t);p.length;)s=s.then(p.shift(),p.shift());return s}for(var d=t;r.length;){var f=r.shift(),h=r.shift();try{d=f(d)}catch(e){h(e);break}}try{s=i(d)}catch(e){return Promise.reject(e)}for(;c.length;)s=s.then(c.shift(),c.shift());return s},p.prototype.getUri=function(e){e=a(this.defaults,e);var t=c(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){p.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}p.prototype[e]=t(),p.prototype[e+"Form"]=t(!0)})),e.exports=p},(e,t,n)=>{"use strict";var r=n(109);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},(e,t,n)=>{"use strict";var r=n(109);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},(e,t,n)=>{"use strict";var r=n(109),o=n(115),s=n(132),i=n(116),a=n(129);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},(e,t,n)=>{"use strict";var r=n(109),o=n(116);e.exports=function(e,t,n){var s=this||o;return r.forEach(n,(function(n){e=n.call(s,e,t)})),e}},(e,t,n)=>{"use strict";var r=n(2),o=n(109),s=n(117),i=n(118),a=n(119),c=n(120),u={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function p(){var e;return("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(e=n(121)),e}function d(e,t,n){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}var f={transitional:a,adapter:p(),transformRequest:[function(e,t){if(s(t,"Accept"),s(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))return e;if(o.isArrayBufferView(e))return e.buffer;if(o.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=o.isObject(e),i=t&&t["Content-Type"];if((n=o.isFileList(e))||r&&"multipart/form-data"===i){var a=this.env&&this.env.FormData;return c(n?{"files[]":e}:e,a&&new a)}return r||"application/json"===i?(l(t,"application/json"),d(e)):e}],transformResponse:[function(e){var t=this.transitional||f.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(131)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){f.headers[e]=o.merge(u)})),e.exports=f},(e,t,n)=>{"use strict";var r=n(109);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},(e,t,n)=>{"use strict";var r=n(109);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=o.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(o,i),Object.defineProperty(s,"isAxiosError",{value:!0}),o.from=function(e,t,n,i,a,c){var u=Object.create(s);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),o.call(u,e.message,t,n,i,a),u.name=e.name,c&&Object.assign(u,c),u},e.exports=o},e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},(e,t,n)=>{"use strict";var r=n(75).hp,o=n(109);function s(e,t){t=t||new FormData;var n=[];function s(e){return null===e?"":o.isDate(e)?e.toISOString():o.isArrayBuffer(e)||o.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):r.from(e):e}function i(e,r){if(o.isPlainObject(e)||o.isArray(e)){if(-1!==n.indexOf(e))throw Error("Circular reference detected in "+r);n.push(e),o.forEach(e,(function(e,n){if(!o.isUndefined(e)){var a,c=r?r+"."+n:n;if(e&&!r&&"object"==typeof e)if(o.endsWith(n,"{}"))e=JSON.stringify(e);else if(o.endsWith(n,"[]")&&(a=o.toArray(e)))return void a.forEach((function(e){!o.isUndefined(e)&&t.append(c,s(e))}));i(e,c)}})),n.pop()}else t.append(r,s(e))}return i(e),t}e.exports=s},(e,t,n)=>{"use strict";var r=n(109),o=n(122),s=n(123),i=n(112),a=n(124),c=n(127),u=n(128),l=n(119),p=n(118),d=n(129),f=n(130);e.exports=function(e){return new Promise((function(t,n){var h,m=e.data,g=e.headers,y=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(_+":"+w)}var x=a(e.baseURL,e.url);function k(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,s={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};o((function(e){t(e),v()}),(function(e){n(e),v()}),s),b=null}}if(b.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(k)},b.onabort=function(){b&&(n(new p("Request aborted",p.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new p("Network Error",p.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new p(t,r.clarifyTimeoutError?p.ETIMEDOUT:p.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||u(x))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in b&&r.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),m||(m=null);var T=f(x);T&&-1===["http","https","file"].indexOf(T)?n(new p("Unsupported protocol "+T+":",p.ERR_BAD_REQUEST,e)):b.send(m)}))}},(e,t,n)=>{"use strict";var r=n(118);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},(e,t,n)=>{"use strict";var r=n(109);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},(e,t,n)=>{"use strict";var r=n(125),o=n(126);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},(e,t,n)=>{"use strict";var r=n(109),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,i={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},(e,t,n)=>{"use strict";var r=n(109);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},(e,t,n)=>{"use strict";var r=n(118);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(109).inherits(o,r,{__CANCEL__:!0}),e.exports=o},e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},e=>{e.exports=null},e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},(e,t,n)=>{"use strict";var r=n(109);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||s,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},(e,t,n)=>{"use strict";var r=n(3),o=n(135).version,s=n(118),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};function c(e,t,n){if("object"!=typeof e)throw new s("options must be an object",s.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var c=e[i],u=void 0===c||a(c,i,e);if(!0!==u)throw new s("option "+i+" must be "+u,s.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new s("Unknown option "+i,s.ERR_BAD_OPTION)}}i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+o+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,c){if(!1===e)throw new s(i(o," has been removed"+(t?" in "+t:"")),s.ERR_DEPRECATED);return t&&!a[o]&&(a[o]=!0,r.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,c)}},e.exports={assertOptions:c,validators:i}},e=>{e.exports={version:"0.27.2"}},(e,t,n)=>{"use strict";var r=n(129);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},(e,t,n)=>{"use strict";var r=n(109);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},(e,t,n)=>{"use strict";var r,o=n(3),s="object"==typeof Reflect?Reflect:null,i=s&&"function"==typeof s.apply?s.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function a(e){o&&o.warn&&o.warn(e)}r=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=w,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function p(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,s,i;if(p(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),i=s[t]),void 0===i)i=s[t]=n,++e._eventsCount;else if("function"==typeof i?i=s[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=d(e))>0&&i.length>o&&!i.warned){i.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=i.length,a(c)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function g(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?_(o):v(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function w(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}k(e,t,s,{once:!0}),"error"!==t&&x(e,o,{once:!0})}))}function x(e,t,n){"function"==typeof e.on&&k(e,"error",t,n)}function k(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(s){r.once&&e.removeEventListener(t,o),n(s)}))}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return d(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=v(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},u.prototype.addListener=function(e,t){return f(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return f(this,e,t,!0)},u.prototype.once=function(e,t){return p(t),this.on(e,m(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return p(t),this.prependListener(e,m(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,o,s,i;if(p(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){i=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():b(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(o=s[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return g(this,e,!0)},u.prototype.rawListeners=function(e){return g(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e){var t;t=function(){"use strict";return function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},s=function(e,t,n,r,s){var i=e.name?e:e.$locale(),a=o(i[t]),c=o(i[n]),u=a||c.map((function(e){return e.slice(0,r)}));if(!s)return u;var l=i.weekStart;return u.map((function(e,t){return u[(t+(l||0))%7]}))},i=function(){return n.Ls[n.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):s(e,"months")},monthsShort:function(t){return t?t.format("MMM"):s(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):s(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):s(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):s(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return s(i(),"months")},n.monthsShort=function(){return s(i(),"monthsShort","months",3)},n.weekdays=function(e){return s(i(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return s(i(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return s(i(),"weekdaysMin","weekdays",2,e)}}},e.exports=t()},function(e){var t;t=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var o=n.prototype,s=o.format;r.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,o){var s=o&&o.toUpperCase();return r||n[o]||e[o]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return s.call(this,r)}}},e.exports=t()},function(e){var t;t=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,s={},i=function(e){return(e=+e)+(e>68?1900:2e3)},a=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,r=s.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},p={A:[o,function(e){this.afternoon=l(e,!1)}],a:[o,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[o,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,a("year")],Z:c,ZZ:c};function d(n){var r,o;r=n,o=s&&s.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var s=r&&r.toUpperCase();return n||o[r]||e[r]||o[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=i.length,c=0;c<a;c+=1){var u=i[c],l=p[u],d=l&&l[0],f=l&&l[1];i[c]=f?{regex:d,parser:f}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var o=i[n];if("string"==typeof o)r+=o.length;else{var s=o.regex,c=o.parser,u=e.slice(r),l=s.exec(u)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var a=i[1];if("string"==typeof a){var c=!0===i[2],u=!0===i[3],l=c||u,p=i[2];u&&(p=i[2]),s=this.$locale(),!c&&p&&(s=n.Ls[p]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=d(t)(e),o=r.year,s=r.month,i=r.day,a=r.hours,c=r.minutes,u=r.seconds,l=r.milliseconds,p=r.zone,f=new Date,h=i||(o||s?1:f.getDate()),m=o||f.getFullYear(),g=0;o&&!s||(g=s>0?s-1:f.getMonth());var y=a||0,v=c||0,b=u||0,_=l||0;return p?new Date(Date.UTC(m,g,h,y,v,b,_+60*p.offset*1e3)):n?new Date(Date.UTC(m,g,h,y,v,b,_)):new Date(m,g,h,y,v,b,_)}catch(e){return new Date("")}}(t,a,r),this.init(),p&&!0!==p&&(this.$L=this.locale(p).$L),l&&t!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var f=a.length,h=1;h<=f;h+=1){i[1]=a[h-1];var m=n.apply(this,i);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}h===f&&(this.$d=new Date(""))}else o.call(this,e)}}},e.exports=t()},function(e){var t;t=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,n,o){return r.fromToBase(e,t,n,o)}n.en.relativeTime=o,r.fromToBase=function(t,r,s,i,a){for(var c,u,l,p=s.$locale().relativeTime||o,d=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=d.length,h=0;h<f;h+=1){var m=d[h];m.d&&(c=i?n(t).diff(s,m.d,!0):s.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(c));if(l=c>0,g<=m.r||!m.r){g<=1&&h>0&&(m=d[h-1]);var y=p[m.l];a&&(g=a(""+g)),u="string"==typeof y?y.replace("%d",g):y(g,r,m.l,l);break}}if(r)return u;var v=l?p.future:p.past;return"function"==typeof v?v(u):v.replace("%s",u)},r.to=function(e,t){return s(e,t,this,!0)},r.from=function(e,t){return s(e,t,this)};var i=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(i(this),e)},r.fromNow=function(e){return this.from(i(this),e)}}},e.exports=t()},function(e){var t;t=function(){"use strict";var e,t,n=1e3,r=6e4,o=36e5,s=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,c=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:a,months:c,days:s,hours:o,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},p=function(e){return e instanceof v},d=function(e,t,n){return new v(e,n,t.$l)},f=function(e){return t.p(e)+"s"},h=function(e){return e<0},m=function(e){return h(e)?Math.ceil(e):Math.floor(e)},g=function(e){return Math.abs(e)},y=function(e,t){return e?h(e)?{negative:!0,format:""+g(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},v=function(){function h(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return d(e*l[f(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[f(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var o=e.match(u);if(o){var s=o.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var g=h.prototype;return g.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*l[n]}),0)},g.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=m(e/a),e%=a,this.$d.months=m(e/c),e%=c,this.$d.days=m(e/s),e%=s,this.$d.hours=m(e/o),e%=o,this.$d.minutes=m(e/r),e%=r,this.$d.seconds=m(e/n),e%=n,this.$d.milliseconds=e},g.toISOString=function(){var e=y(this.$d.years,"Y"),t=y(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=y(n,"D"),o=y(this.$d.hours,"H"),s=y(this.$d.minutes,"M"),i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3);var a=y(i,"S"),c=e.negative||t.negative||r.negative||o.negative||s.negative||a.negative,u=o.format||s.format||a.format?"T":"",l=(c?"-":"")+"P"+e.format+t.format+r.format+u+o.format+s.format+a.format;return"P"===l||"-P"===l?"P0D":l},g.toJSON=function(){return this.toISOString()},g.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(i,(function(e,t){return t||String(r[e])}))},g.as=function(e){return this.$ms/l[f(e)]},g.get=function(e){var t=this.$ms,n=f(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?m(t/l[n]):this.$d[n],0===t?0:t},g.add=function(e,t,n){var r;return r=t?e*l[f(t)]:p(e)?e.$ms:d(e,this).$ms,d(this.$ms+r*(n?-1:1),this)},g.subtract=function(e,t){return this.add(e,t,!0)},g.locale=function(e){var t=this.clone();return t.$l=e,t},g.clone=function(){return d(this.$ms,this)},g.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},g.milliseconds=function(){return this.get("milliseconds")},g.asMilliseconds=function(){return this.as("milliseconds")},g.seconds=function(){return this.get("seconds")},g.asSeconds=function(){return this.as("seconds")},g.minutes=function(){return this.get("minutes")},g.asMinutes=function(){return this.as("minutes")},g.hours=function(){return this.get("hours")},g.asHours=function(){return this.as("hours")},g.days=function(){return this.get("days")},g.asDays=function(){return this.as("days")},g.weeks=function(){return this.get("weeks")},g.asWeeks=function(){return this.as("weeks")},g.months=function(){return this.get("months")},g.asMonths=function(){return this.as("months")},g.years=function(){return this.get("years")},g.asYears=function(){return this.as("years")},h}();return function(n,r,o){e=o,t=o().$utils(),o.duration=function(e,t){var n=o.locale();return d(e,{$l:n},t)},o.isDuration=p;var s=r.prototype.add,i=r.prototype.subtract;r.prototype.add=function(e,t){return p(e)&&(e=e.asMilliseconds()),s.bind(this)(e,t)},r.prototype.subtract=function(e,t){return p(e)&&(e=e.asMilliseconds()),i.bind(this)(e,t)}}},e.exports=t()},(e,t,n)=>{var r={"./af.js":[642,452],"./am.js":[643,5089],"./ar-dz.js":[644,4805],"./ar-iq.js":[645,7237],"./ar-kw.js":[646,4037],"./ar-ly.js":[647,1256],"./ar-ma.js":[648,7601],"./ar-sa.js":[649,3291],"./ar-tn.js":[650,2577],"./ar.js":[651,1432],"./az.js":[652,2128],"./be.js":[653,9078],"./bg.js":[654,1832],"./bi.js":[655,5034],"./bm.js":[656,2158],"./bn-bd.js":[657,8388],"./bn.js":[658,9095],"./bo.js":[659,2528],"./br.js":[660,3371],"./bs.js":[661,7204],"./ca.js":[662,6283],"./cs.js":[663,3657],"./cv.js":[664,4566],"./cy.js":[665,5427],"./da.js":[666,1416],"./de-at.js":[667,9814],"./de-ch.js":[668,5880],"./de.js":[669,8916],"./dv.js":[670,825],"./el.js":[671,3582],"./en-au.js":[672,7649],"./en-ca.js":[673,7619],"./en-gb.js":[674,4118],"./en-ie.js":[675,7145],"./en-il.js":[676,7658],"./en-in.js":[677,7580],"./en-nz.js":[678,7679],"./en-sg.js":[679,8133],"./en-tt.js":[680,8947],"./en.js":[681,8640],"./eo.js":[682,6327],"./es-do.js":[683,7215],"./es-mx.js":[684,199],"./es-pr.js":[685,3536],"./es-us.js":[686,7886],"./es.js":[687,3851],"./et.js":[688,4774],"./eu.js":[689,9357],"./fa.js":[690,7358],"./fi.js":[691,7574],"./fo.js":[692,772],"./fr-ca.js":[693,1814],"./fr-ch.js":[694,2005],"./fr.js":[695,9767],"./fy.js":[696,5574],"./ga.js":[697,9143],"./gd.js":[698,3420],"./gl.js":[699,6196],"./gom-latn.js":[700,3038],"./gu.js":[701,6995],"./he.js":[702,8424],"./hi.js":[703,4124],"./hr.js":[704,9481],"./ht.js":[705,2431],"./hu.js":[706,4472],"./hy-am.js":[707,5613],"./id.js":[708,6362],"./is.js":[709,6711],"./it-ch.js":[710,1206],"./it.js":[711,2298],"./ja.js":[712,1386],"./jv.js":[713,9511],"./ka.js":[714,403],"./kk.js":[715,3753],"./km.js":[716,7935],"./kn.js":[717,6246],"./ko.js":[718,4365],"./ku.js":[719,967],"./ky.js":[720,539],"./lb.js":[721,549],"./lo.js":[722,1954],"./lt.js":[723,6723],"./lv.js":[724,6177],"./me.js":[725,4885],"./mi.js":[726,3241],"./mk.js":[727,619],"./ml.js":[728,1542],"./mn.js":[729,4936],"./mr.js":[730,1484],"./ms-my.js":[731,2088],"./ms.js":[732,9763],"./mt.js":[733,3998],"./my.js":[734,4345],"./nb.js":[735,3007],"./ne.js":[736,6130],"./nl-be.js":[737,9549],"./nl.js":[738,9009],"./nn.js":[739,6515],"./oc-lnc.js":[740,8879],"./pa-in.js":[741,816],"./pl.js":[742,7663],"./pt-br.js":[743,2870],"./pt.js":[744,7671],"./rn.js":[745,7863],"./ro.js":[746,8256],"./ru.js":[747,9318],"./rw.js":[748,6248],"./sd.js":[749,3e3],"./se.js":[750,8111],"./si.js":[751,227],"./sk.js":[752,7761],"./sl.js":[753,6224],"./sq.js":[754,7835],"./sr-cyrl.js":[755,4299],"./sr.js":[756,9522],"./ss.js":[757,4057],"./sv-fi.js":[758,1788],"./sv.js":[759,4070],"./sw.js":[760,4413],"./ta.js":[761,168],"./te.js":[762,6436],"./tet.js":[763,3784],"./tg.js":[764,5954],"./th.js":[765,1079],"./tk.js":[766,3022],"./tl-ph.js":[767,1278],"./tlh.js":[768,6537],"./tr.js":[769,1581],"./tzl.js":[770,2155],"./tzm-latn.js":[771,1698],"./tzm.js":[772,4068],"./ug-cn.js":[773,1787],"./uk.js":[774,8707],"./ur.js":[775,1124],"./uz-latn.js":[776,3082],"./uz.js":[777,8028],"./vi.js":[778,5590],"./x-pseudo.js":[779,9206],"./yo.js":[780,2363],"./zh-cn.js":[781,4681],"./zh-hk.js":[782,7469],"./zh-tw.js":[783,7157],"./zh.js":[784,6489]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((()=>n.t(o,23)))}o.keys=()=>Object.keys(r),o.id=145,e.exports=o},(e,t,n)=>{var r={"./en/messages/_shared.js":[785,9,4768],"./en/messages/background.js":[786,7,9320],"./en/messages/content.js":[787,9,7429],"./en/messages/options.js":[788,9,9002,9298],"./en/messages/popup.js":[790,9,9002,894],"./pl/messages/_shared.js":[791,9,8757],"./pl/messages/background.js":[792,9,7915],"./pl/messages/content.js":[793,9,5884],"./pl/messages/options.js":[794,9,774,4579],"./pl/messages/popup.js":[796,9,774,7439],"./ru/messages/_shared.js":[797,9,6646],"./ru/messages/background.js":[798,7,9626],"./ru/messages/content.js":[799,9,7303],"./ru/messages/options.js":[800,9,6314,6412],"./ru/messages/popup.js":[802,9,6314,8932]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((()=>n.t(o,16|t[1])))}o.keys=()=>Object.keys(r),o.id=146,e.exports=o},(e,t,n)=>{var r={"./en/info.js":[149,9],"./en/messages/_shared.js":[785,9,4768],"./en/messages/background.js":[786,7,9320],"./en/messages/content.js":[787,9,7429],"./en/messages/options.js":[788,9,9002,9298],"./en/messages/popup.js":[790,9,9002,894],"./en/notes.js":[803,7,3118],"./en/settings.js":[804,7,6780],"./pl/info.js":[150,9],"./pl/messages/_shared.js":[791,9,8757],"./pl/messages/background.js":[792,9,7915],"./pl/messages/content.js":[793,9,5884],"./pl/messages/options.js":[794,9,774,4579],"./pl/messages/popup.js":[796,9,774,7439],"./ru/info.js":[151,9],"./ru/messages/_shared.js":[797,9,6646],"./ru/messages/background.js":[798,7,9626],"./ru/messages/content.js":[799,9,7303],"./ru/messages/options.js":[800,9,6314,6412],"./ru/messages/popup.js":[802,9,6314,8932],"./ru/options.js":[805,7,1275]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((()=>n.t(o,16|t[1])))}o.keys=()=>Object.keys(r),o.id=147,e.exports=o},(e,t,n)=>{var r={"./en/info.js":149,"./pl/info.js":150,"./ru/info.js":151};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=148},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={created:1632761979251,updated:1653302157e3,version:2,lang:{target:{code:"en",name:"English",nativeName:"English"}}}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={created:1632761895638,updated:1653302157e3,version:2,lang:{target:{code:"pl",name:"Polish",nativeName:"Polski"}}}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={created:1632761979251,updated:1653302157e3,version:2,lang:{target:{code:"ru",name:"Russian",nativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}}}},(e,t,n)=>{const r=n(153),o={},s={},i=[],a=[],c=[];for(const e in r){const{name:t,nativeName:n}=r[e];o[e]=s[t.toLowerCase()]=s[n.toLowerCase()]={code:e,name:t,nativeName:n},i.push(e),a.push(t),c.push(n)}e.exports=class e{static getLanguages(t=[]){return t.map((t=>e.validate(t)?Object.assign({},o[t]):{code:t,name:"",nativeName:""}))}static getName(t){return e.validate(t)?r[t].name:""}static getAllNames(){return a.slice()}static getNativeName(t){return e.validate(t)?r[t].nativeName:""}static getAllNativeNames(){return c.slice()}static getCode(e){return e=e.toLowerCase(),s.hasOwnProperty(e)?s[e].code:""}static getAllCodes(){return i.slice()}static validate(e){return r.hasOwnProperty(e)}}},e=>{const t={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:"\u0430\u04a7\u0441\u0443\u0430 \u0431\u044b\u0437\u0448\u04d9\u0430"},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:"\u12a0\u121b\u122d\u129b"},an:{name:"Aragonese",nativeName:"aragon\xe9s"},ar:{name:"Arabic",nativeName:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},as:{name:"Assamese",nativeName:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be"},av:{name:"Avaric",nativeName:"\u0430\u0432\u0430\u0440 \u043c\u0430\u0446\u04c0"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"az\u0259rbaycan dili"},ba:{name:"Bashkir",nativeName:"\u0431\u0430\u0448\u04a1\u043e\u0440\u0442 \u0442\u0435\u043b\u0435"},be:{name:"Belarusian",nativeName:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f \u043c\u043e\u0432\u0430"},bg:{name:"Bulgarian",nativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a"},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:"\u09ac\u09be\u0982\u09b2\u09be"},bo:{name:"Tibetan",nativeName:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42"},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Catal\xe0"},ce:{name:"Chechen",nativeName:"\u043d\u043e\u0445\u0447\u0438\u0439\u043d \u043c\u043e\u0442\u0442"},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423"},cs:{name:"Czech",nativeName:"\u010ce\u0161tina"},cu:{name:"Old Church Slavonic",nativeName:"\u0469\u0437\u044b\u043a\u044a \u0441\u043b\u043e\u0432\u0463\u043d\u044c\u0441\u043a\u044a"},cv:{name:"Chuvash",nativeName:"\u0447\u04d1\u0432\u0430\u0448 \u0447\u04d7\u043b\u0445\u0438"},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"Dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"\u078b\u07a8\u0788\u07ac\u0780\u07a8"},dz:{name:"Dzongkha",nativeName:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41"},ee:{name:"Ewe",nativeName:"E\u028begbe"},el:{name:"Greek",nativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espa\xf1ol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:"\u0641\u0627\u0631\u0633\u06cc"},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"F\xf8royskt"},fr:{name:"French",nativeName:"Fran\xe7ais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"G\xe0idhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran\xed",nativeName:"Ava\xf1e'\u1ebd"},gu:{name:"Gujarati",nativeName:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:"\u0647\u064e\u0648\u064f\u0633\u064e"},he:{name:"Hebrew",nativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea"},hi:{name:"Hindi",nativeName:"\u0939\u093f\u0928\u094d\u0926\u0940"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Krey\xf2l ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"As\u1ee5s\u1ee5 Igbo"},ii:{name:"Nuosu",nativeName:"\ua188\ua320\ua4bf Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"I\xf1upiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"\xcdslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"\u1403\u14c4\u1483\u144e\u1450\u1466"},ja:{name:"Japanese",nativeName:"\u65e5\u672c\u8a9e"},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8"},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"G\u0129k\u0169y\u0169"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:"\u049b\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:"\u1781\u17c1\u1798\u179a\u1797\u17b6\u179f\u17b6"},kn:{name:"Kannada",nativeName:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"},ko:{name:"Korean",nativeName:"\ud55c\uad6d\uc5b4"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"\u0915\u0936\u094d\u092e\u0940\u0930\u0940"},ku:{name:"Kurdish",nativeName:"Kurd\xee"},kv:{name:"Komi",nativeName:"\u043a\u043e\u043c\u0438 \u043a\u044b\u0432"},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"L\xebtzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Ling\xe1la"},lo:{name:"Lao",nativeName:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7"},lt:{name:"Lithuanian",nativeName:"lietuvi\u0173 kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latvie\u0161u valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin M\u0327aje\u013c"},mi:{name:"M\u0101ori",nativeName:"te reo M\u0101ori"},mk:{name:"Macedonian",nativeName:"\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 \u0458\u0430\u0437\u0438\u043a"},ml:{name:"Malayalam",nativeName:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},mn:{name:"Mongolian",nativeName:"\u041c\u043e\u043d\u0433\u043e\u043b \u0445\u044d\u043b"},mr:{name:"Marathi",nativeName:"\u092e\u0930\u093e\u0920\u0940"},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:"\u1017\u1019\u102c\u1005\u102c"},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokm\xe5l",nativeName:"Norsk bokm\xe5l"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"\u0928\u0947\u092a\u093e\u0932\u0940"},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din\xe9 bizaad"},ny:{name:"Chichewa",nativeName:"chiChe\u0175a"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"\u0b13\u0b21\u0b3c\u0b3f\u0b06"},os:{name:"Ossetian",nativeName:"\u0438\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433"},pa:{name:"Panjabi",nativeName:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},pi:{name:"P\u0101li",nativeName:"\u092a\u093e\u0934\u093f"},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:"\u067e\u069a\u062a\u0648"},pt:{name:"Portuguese",nativeName:"Portugu\xeas"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Rom\xe2n\u0103"},ru:{name:"Russian",nativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"\u0938\u093f\u0928\u094d\u0927\u0940"},se:{name:"Northern Sami",nativeName:"Davvis\xe1megiella"},sg:{name:"Sango",nativeName:"y\xe2ng\xe2 t\xee s\xe4ng\xf6"},si:{name:"Sinhala",nativeName:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd"},sk:{name:"Slovak",nativeName:"Sloven\u010dina"},sl:{name:"Slovenian",nativeName:"sloven\u0161\u010dina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a"},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},te:{name:"Telugu",nativeName:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"},tg:{name:"Tajik",nativeName:"\u0442\u043e\u04b7\u0438\u043a\u04e3"},th:{name:"Thai",nativeName:"\u0e44\u0e17\u0e22"},ti:{name:"Tigrinya",nativeName:"\u1275\u130d\u122d\u129b"},tk:{name:"Turkmen",nativeName:"T\xfcrkmen\xe7e"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"T\xfcrk\xe7e"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043b\u0435"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u06d5\u200e"},uk:{name:"Ukrainian",nativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},ur:{name:"Urdu",nativeName:"\u0627\u0631\u062f\u0648"},uz:{name:"Uzbek",nativeName:"\u040e\u0437\u0431\u0435\u043a"},ve:{name:"Venda",nativeName:"Tshiven\u1e13a"},vi:{name:"Vietnamese",nativeName:"Ti\u1ebfng Vi\u1ec7t"},vo:{name:"Volap\xfck",nativeName:"Volap\xfck"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9"},yo:{name:"Yoruba",nativeName:"Yor\xf9b\xe1"},za:{name:"Zhuang",nativeName:"Sa\u026f cue\u014b\u0185"},zh:{name:"Chinese",nativeName:"\u4e2d\u6587"},zu:{name:"Zulu",nativeName:"isiZulu"}};e.exports=t},(e,t,n)=>{var r=n(155),o=1,s=4;function i(e){return r(e,o|s)}e.exports=i},(e,t,n)=>{var r=n(156),o=n(79),s=n(192),i=n(195),a=n(197),c=n(201),u=n(202),l=n(203),p=n(207),d=n(211),f=n(213),h=n(214),m=n(219),g=n(220),y=n(227),v=n(89),b=n(90),_=n(229),w=n(62),x=n(231),k=n(84),S=n(198),T=1,O=2,E=4,j="[object Arguments]",A="[object Array]",I="[object Boolean]",R="[object Date]",C="[object Error]",N="[object Function]",P="[object GeneratorFunction]",M="[object Map]",$="[object Number]",L="[object Object]",D="[object RegExp]",F="[object Set]",U="[object String]",B="[object Symbol]",q="[object WeakMap]",V="[object ArrayBuffer]",H="[object DataView]",z="[object Float32Array]",W="[object Float64Array]",Z="[object Int8Array]",G="[object Int16Array]",K="[object Int32Array]",Y="[object Uint8Array]",J="[object Uint8ClampedArray]",X="[object Uint16Array]",Q="[object Uint32Array]",ee={};function te(e,t,n,A,I,R){var C,M=t&T,$=t&O,D=t&E;if(n&&(C=I?n(e,A,I,R):n(e)),void 0!==C)return C;if(!w(e))return e;var F=v(e);if(F){if(C=m(e),!M)return u(e,C)}else{var U=h(e),B=U==N||U==P;if(b(e))return c(e,M);if(U==L||U==j||B&&!I){if(C=$||B?{}:y(e),!M)return $?p(e,a(C,e)):l(e,i(C,e))}else{if(!ee[U])return I?e:{};C=g(e,U,M)}}R||(R=new r);var q=R.get(e);if(q)return q;R.set(e,C),x(e)?e.forEach((function(r){C.add(te(r,t,n,r,e,R))})):_(e)&&e.forEach((function(r,o){C.set(o,te(r,t,n,o,e,R))}));var V=F?void 0:(D?$?f:d:$?S:k)(e);return o(V||e,(function(r,o){V&&(r=e[o=r]),s(C,o,te(r,t,n,o,e,R))})),C}ee[j]=ee[A]=ee[V]=ee[H]=ee[I]=ee[R]=ee[z]=ee[W]=ee[Z]=ee[G]=ee[K]=ee[M]=ee[$]=ee[L]=ee[D]=ee[F]=ee[U]=ee[B]=ee[Y]=ee[J]=ee[X]=ee[Q]=!0,ee[C]=ee[N]=ee[q]=!1,e.exports=te},(e,t,n)=>{var r=n(157),o=n(165),s=n(166),i=n(167),a=n(168),c=n(169);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=s,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,e.exports=u},(e,t,n)=>{var r=n(158),o=n(159),s=n(162),i=n(163),a=n(164);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=i,c.prototype.set=a,e.exports=c},e=>{function t(){this.__data__=[],this.size=0}e.exports=t},(e,t,n)=>{var r=n(160),o=Array.prototype.splice;function s(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}e.exports=s},(e,t,n)=>{var r=n(161);function o(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}e.exports=o},e=>{function t(e,t){return e===t||e!=e&&t!=t}e.exports=t},(e,t,n)=>{var r=n(160);function o(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=o},(e,t,n)=>{var r=n(160);function o(e){return r(this.__data__,e)>-1}e.exports=o},(e,t,n)=>{var r=n(160);function o(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}e.exports=o},(e,t,n)=>{var r=n(157);function o(){this.__data__=new r,this.size=0}e.exports=o},e=>{function t(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=t},e=>{function t(e){return this.__data__.get(e)}e.exports=t},e=>{function t(e){return this.__data__.has(e)}e.exports=t},(e,t,n)=>{var r=n(157),o=n(170),s=n(177),i=200;function a(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<i-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}e.exports=a},(e,t,n)=>{var r=n(171)(n(64),"Map");e.exports=r},(e,t,n)=>{var r=n(172),o=n(176);function s(e,t){var n=o(e,t);return r(n)?n:void 0}e.exports=s},(e,t,n)=>{var r=n(103),o=n(173),s=n(62),i=n(175),a=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,p=u.toString,d=l.hasOwnProperty,f=RegExp("^"+p.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(e){return!(!s(e)||o(e))&&(r(e)?f:c).test(i(e))}e.exports=h},(e,t,n)=>{var r,o=n(174),s=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";function i(e){return!!s&&s in e}e.exports=i},(e,t,n)=>{var r=n(64)["__core-js_shared__"];e.exports=r},e=>{var t=Function.prototype.toString;function n(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=n},e=>{function t(e,t){return null==e?void 0:e[t]}e.exports=t},(e,t,n)=>{var r=n(178),o=n(186),s=n(189),i=n(190),a=n(191);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=i,c.prototype.set=a,e.exports=c},(e,t,n)=>{var r=n(179),o=n(157),s=n(170);function i(){this.size=0,this.__data__={hash:new r,map:new(s||o),string:new r}}e.exports=i},(e,t,n)=>{var r=n(180),o=n(182),s=n(183),i=n(184),a=n(185);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=i,c.prototype.set=a,e.exports=c},(e,t,n)=>{var r=n(181);function o(){this.__data__=r?r(null):{},this.size=0}e.exports=o},(e,t,n)=>{var r=n(171)(Object,"create");e.exports=r},e=>{function t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=t},(e,t,n)=>{var r=n(181),o="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;function i(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}e.exports=i},(e,t,n)=>{var r=n(181),o=Object.prototype.hasOwnProperty;function s(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}e.exports=s},(e,t,n)=>{var r=n(181),o="__lodash_hash_undefined__";function s(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}e.exports=s},(e,t,n)=>{var r=n(187);function o(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}e.exports=o},(e,t,n)=>{var r=n(188);function o(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=o},e=>{function t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=t},(e,t,n)=>{var r=n(187);function o(e){return r(this,e).get(e)}e.exports=o},(e,t,n)=>{var r=n(187);function o(e){return r(this,e).has(e)}e.exports=o},(e,t,n)=>{var r=n(187);function o(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}e.exports=o},(e,t,n)=>{var r=n(193),o=n(161),s=Object.prototype.hasOwnProperty;function i(e,t,n){var i=e[t];s.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=i},(e,t,n)=>{var r=n(194);function o(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=o},(e,t,n)=>{var r=n(171),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},(e,t,n)=>{var r=n(196),o=n(84);function s(e,t){return e&&r(t,o(t),e)}e.exports=s},(e,t,n)=>{var r=n(192),o=n(193);function s(e,t,n,s){var i=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var u=t[a],l=s?s(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?o(n,u,l):r(n,u,l)}return n}e.exports=s},(e,t,n)=>{var r=n(196),o=n(198);function s(e,t){return e&&r(t,o(t),e)}e.exports=s},(e,t,n)=>{var r=n(85),o=n(199),s=n(102);function i(e){return s(e)?r(e,!0):o(e)}e.exports=i},(e,t,n)=>{var r=n(62),o=n(99),s=n(200),i=Object.prototype.hasOwnProperty;function a(e){if(!r(e))return s(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&i.call(e,a))&&n.push(a);return n}e.exports=a},e=>{function t(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=t},(e,t,n)=>{e=n.nmd(e);var r=n(64),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,i=s&&s.exports===o?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}e.exports=c},e=>{function t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=t},(e,t,n)=>{var r=n(196),o=n(204);function s(e,t){return r(e,o(e),t)}e.exports=s},(e,t,n)=>{var r=n(205),o=n(206),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return s.call(e,t)})))}:o;e.exports=a},e=>{function t(e,t){for(var n=-1,r=null==e?0:e.length,o=0,s=[];++n<r;){var i=e[n];t(i,n,e)&&(s[o++]=i)}return s}e.exports=t},e=>{function t(){return[]}e.exports=t},(e,t,n)=>{var r=n(196),o=n(208);function s(e,t){return r(e,o(e),t)}e.exports=s},(e,t,n)=>{var r=n(209),o=n(210),s=n(204),i=n(206),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=o(e);return t}:i;e.exports=a},e=>{function t(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=t},(e,t,n)=>{var r=n(101)(Object.getPrototypeOf,Object);e.exports=r},(e,t,n)=>{var r=n(212),o=n(204),s=n(84);function i(e){return r(e,s,o)}e.exports=i},(e,t,n)=>{var r=n(209),o=n(89);function s(e,t,n){var s=t(e);return o(e)?s:r(s,n(e))}e.exports=s},(e,t,n)=>{var r=n(212),o=n(208),s=n(198);function i(e){return r(e,s,o)}e.exports=i},(e,t,n)=>{var r=n(215),o=n(170),s=n(216),i=n(217),a=n(218),c=n(70),u=n(175),l="[object Map]",p="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=u(r),y=u(o),v=u(s),b=u(i),_=u(a),w=c;(r&&w(new r(new ArrayBuffer(1)))!=m||o&&w(new o)!=l||s&&w(s.resolve())!=d||i&&w(new i)!=f||a&&w(new a)!=h)&&(w=function(e){var t=c(e),n=t==p?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return m;case y:return l;case v:return d;case b:return f;case _:return h}return t}),e.exports=w},(e,t,n)=>{var r=n(171)(n(64),"DataView");e.exports=r},(e,t,n)=>{var r=n(171)(n(64),"Promise");e.exports=r},(e,t,n)=>{var r=n(171)(n(64),"Set");e.exports=r},(e,t,n)=>{var r=n(171)(n(64),"WeakMap");e.exports=r},e=>{var t=Object.prototype.hasOwnProperty;function n(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}e.exports=n},(e,t,n)=>{var r=n(221),o=n(223),s=n(224),i=n(225),a=n(226),c="[object Boolean]",u="[object Date]",l="[object Map]",p="[object Number]",d="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]";function E(e,t,n){var E=e.constructor;switch(t){case g:return r(e);case c:case u:return new E(+e);case y:return o(e,n);case v:case b:case _:case w:case x:case k:case S:case T:case O:return a(e,n);case l:return new E;case p:case h:return new E(e);case d:return s(e);case f:return new E;case m:return i(e)}}e.exports=E},(e,t,n)=>{var r=n(222);function o(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=o},(e,t,n)=>{var r=n(64).Uint8Array;e.exports=r},(e,t,n)=>{var r=n(221);function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=o},e=>{var t=/\w*$/;function n(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}e.exports=n},(e,t,n)=>{var r=n(71),o=r?r.prototype:void 0,s=o?o.valueOf:void 0;function i(e){return s?Object(s.call(e)):{}}e.exports=i},(e,t,n)=>{var r=n(221);function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=o},(e,t,n)=>{var r=n(228),o=n(210),s=n(99);function i(e){return"function"!=typeof e.constructor||s(e)?{}:r(o(e))}e.exports=i},(e,t,n)=>{var r=n(62),o=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},(e,t,n)=>{var r=n(230),o=n(96),s=n(97),i=s&&s.isMap,a=i?o(i):r;e.exports=a},(e,t,n)=>{var r=n(214),o=n(74),s="[object Map]";function i(e){return o(e)&&r(e)==s}e.exports=i},(e,t,n)=>{var r=n(232),o=n(96),s=n(97),i=s&&s.isSet,a=i?o(i):r;e.exports=a},(e,t,n)=>{var r=n(214),o=n(74),s="[object Set]";function i(e){return o(e)&&r(e)==s}e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";var r=n(75).hp;const o=void 0!==r,s=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,t,n){null==n&&null!==t&&"object"==typeof t&&(n=t,t=void 0),o&&r.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));const a=JSON.parse(e,t);if(null===a||"object"!=typeof a)return a;const u=n&&n.protoAction||"error",l=n&&n.constructorAction||"error";if("ignore"===u&&"ignore"===l)return a;if("ignore"!==u&&"ignore"!==l){if(!1===s.test(e)&&!1===i.test(e))return a}else if("ignore"!==u&&"ignore"===l){if(!1===s.test(e))return a}else if(!1===i.test(e))return a;return c(a,{protoAction:u,constructorAction:l,safe:n&&n.safe})}function c(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let o=[e];for(;o.length;){const e=o;o=[];for(const s of e){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(!0===r)return null;if("error"===t)throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if("ignore"!==n&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(!0===r)return null;if("error"===n)throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(const e in s){const t=s[e];t&&"object"==typeof t&&o.push(t)}}}return e}function u(e,t,n){const r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,n)}finally{Error.stackTraceLimit=r}}function l(e,t){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=n}}e.exports=u,e.exports.default=u,e.exports.parse=u,e.exports.safeParse=l,e.exports.scan=c},e=>{"use strict";var t=function(e){return n(e)&&!r(e)};function n(e){return!!e&&"object"==typeof e}function r(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||s(e)}var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e){return e.$$typeof===o}function i(e){return Array.isArray(e)?[]:{}}function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?m(i(e),e,t):e}function c(e,t,n){return e.concat(t).map((function(e){return a(e,n)}))}function u(e,t){if(!t.customMerge)return m;var n=t.customMerge(e);return"function"==typeof n?n:m}function l(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function p(e){return Object.keys(e).concat(l(e))}function d(e,t){try{return t in e}catch(e){return!1}}function f(e,t){return d(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function h(e,t,n){var r={};return n.isMergeableObject(e)&&p(e).forEach((function(t){r[t]=a(e[t],n)})),p(t).forEach((function(o){f(e,o)||(d(e,o)&&n.isMergeableObject(t[o])?r[o]=u(o,n)(e[o],t[o],n):r[o]=a(t[o],n))})),r}function m(e,n,r){(r=r||{}).arrayMerge=r.arrayMerge||c,r.isMergeableObject=r.isMergeableObject||t,r.cloneUnlessOtherwiseSpecified=a;var o=Array.isArray(n);return o===Array.isArray(e)?o?r.arrayMerge(e,n,r):h(e,n,r):a(n,r)}m.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return m(e,n,t)}),{})};var g=m;e.exports=g},(e,t,n)=>{var r=n(394);function o(e,t){return r(e,t)}e.exports=o},(e,t,n)=>{var r=n(395),o=n(74);function s(e,t,n,i,a){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!=e&&t!=t:r(e,t,n,i,s,a))}e.exports=s},(e,t,n)=>{var r=n(156),o=n(396),s=n(402),i=n(405),a=n(214),c=n(89),u=n(90),l=n(93),p=1,d="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;function g(e,t,n,g,y,v){var b=c(e),_=c(t),w=b?f:a(e),x=_?f:a(t),k=(w=w==d?h:w)==h,S=(x=x==d?h:x)==h,T=w==x;if(T&&u(e)){if(!u(t))return!1;b=!0,k=!1}if(T&&!k)return v||(v=new r),b||l(e)?o(e,t,n,g,y,v):s(e,t,w,n,g,y,v);if(!(n&p)){var O=k&&m.call(e,"__wrapped__"),E=S&&m.call(t,"__wrapped__");if(O||E){var j=O?e.value():e,A=E?t.value():t;return v||(v=new r),y(j,A,n,g,v)}}return!!T&&(v||(v=new r),i(e,t,n,g,y,v))}e.exports=g},(e,t,n)=>{var r=n(397),o=n(400),s=n(401),i=1,a=2;function c(e,t,n,c,u,l){var p=n&i,d=e.length,f=t.length;if(d!=f&&!(p&&f>d))return!1;var h=l.get(e),m=l.get(t);if(h&&m)return h==t&&m==e;var g=-1,y=!0,v=n&a?new r:void 0;for(l.set(e,t),l.set(t,e);++g<d;){var b=e[g],_=t[g];if(c)var w=p?c(_,b,g,t,e,l):c(b,_,g,e,t,l);if(void 0!==w){if(w)continue;y=!1;break}if(v){if(!o(t,(function(e,t){if(!s(v,t)&&(b===e||u(b,e,n,c,l)))return v.push(t)}))){y=!1;break}}else if(b!==_&&!u(b,_,n,c,l)){y=!1;break}}return l.delete(e),l.delete(t),y}e.exports=c},(e,t,n)=>{var r=n(177),o=n(398),s=n(399);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=s,e.exports=i},e=>{var t="__lodash_hash_undefined__";function n(e){return this.__data__.set(e,t),this}e.exports=n},e=>{function t(e){return this.__data__.has(e)}e.exports=t},e=>{function t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=t},e=>{function t(e,t){return e.has(t)}e.exports=t},(e,t,n)=>{var r=n(71),o=n(222),s=n(161),i=n(396),a=n(403),c=n(404),u=1,l=2,p="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,k=x?x.valueOf:void 0;function S(e,t,n,r,x,S,T){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new o(e),new o(t)));case p:case d:case m:return s(+e,+t);case f:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case h:var O=a;case y:var E=r&u;if(O||(O=c),e.size!=t.size&&!E)return!1;var j=T.get(e);if(j)return j==t;r|=l,T.set(e,t);var A=i(O(e),O(t),r,x,S,T);return T.delete(e),A;case b:if(k)return k.call(e)==k.call(t)}return!1}e.exports=S},e=>{function t(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=t},e=>{function t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=t},(e,t,n)=>{var r=n(211),o=1,s=Object.prototype.hasOwnProperty;function i(e,t,n,i,a,c){var u=n&o,l=r(e),p=l.length;if(p!=r(t).length&&!u)return!1;for(var d=p;d--;){var f=l[d];if(!(u?f in t:s.call(t,f)))return!1}var h=c.get(e),m=c.get(t);if(h&&m)return h==t&&m==e;var g=!0;c.set(e,t),c.set(t,e);for(var y=u;++d<p;){var v=e[f=l[d]],b=t[f];if(i)var _=u?i(b,v,f,t,e,c):i(v,b,f,e,t,c);if(!(void 0===_?v===b||a(v,b,n,i,c):_)){g=!1;break}y||(y="constructor"==f)}if(g&&!y){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return c.delete(e),c.delete(t),g}e.exports=i},,,,,,,(e,t,n)=>{var r=n(413);function o(e){return null!=e&&e.length?r(e,1):[]}e.exports=o},(e,t,n)=>{var r=n(209),o=n(414);function s(e,t,n,i,a){var c=-1,u=e.length;for(n||(n=o),a||(a=[]);++c<u;){var l=e[c];t>0&&n(l)?t>1?s(l,t-1,n,i,a):r(a,l):i||(a[a.length]=l)}return a}e.exports=s},(e,t,n)=>{var r=n(71),o=n(87),s=n(89),i=r?r.isConcatSpreadable:void 0;function a(e){return s(e)||o(e)||!!(i&&e&&e[i])}e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{var r=n(451),o=n(456),s=n(106),i=n(89),a=n(471);function c(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?i(e)?o(e[0],e[1]):r(e):a(e)}e.exports=c},(e,t,n)=>{var r=n(452),o=n(453),s=n(455);function i(e){var t=o(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}e.exports=i},(e,t,n)=>{var r=n(156),o=n(394),s=1,i=2;function a(e,t,n,a){var c=n.length,u=c,l=!a;if(null==e)return!u;for(e=Object(e);c--;){var p=n[c];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++c<u;){var d=(p=n[c])[0],f=e[d],h=p[1];if(l&&p[2]){if(void 0===f&&!(d in e))return!1}else{var m=new r;if(a)var g=a(f,h,d,e,t,m);if(!(void 0===g?o(h,f,s|i,a,m):g))return!1}}return!0}e.exports=a},(e,t,n)=>{var r=n(454),o=n(84);function s(e){for(var t=o(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,r(i)]}return t}e.exports=s},(e,t,n)=>{var r=n(62);function o(e){return e==e&&!r(e)}e.exports=o},e=>{function t(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=t},(e,t,n)=>{var r=n(394),o=n(457),s=n(468),i=n(460),a=n(454),c=n(455),u=n(467),l=1,p=2;function d(e,t){return i(e)&&a(t)?c(u(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?s(n,e):r(t,i,l|p)}}e.exports=d},(e,t,n)=>{var r=n(458);function o(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}e.exports=o},(e,t,n)=>{var r=n(459),o=n(467);function s(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[o(t[n++])];return n&&n==s?e:void 0}e.exports=s},(e,t,n)=>{var r=n(89),o=n(460),s=n(461),i=n(464);function a(e,t){return r(e)?e:o(e,t)?[e]:s(i(e))}e.exports=a},(e,t,n)=>{var r=n(89),o=n(69),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||i.test(e)||!s.test(e)||null!=t&&e in Object(t)}e.exports=a},(e,t,n)=>{var r=n(462),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(s,"$1"):n||e)})),t}));e.exports=i},(e,t,n)=>{var r=n(463),o=500;function s(e){var t=r(e,(function(e){return n.size===o&&n.clear(),e})),n=t.cache;return t}e.exports=s},(e,t,n)=>{var r=n(177),o="Expected a function";function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var i=e.apply(this,r);return n.cache=s.set(o,i)||s,i};return n.cache=new(s.Cache||r),n}s.Cache=r,e.exports=s},(e,t,n)=>{var r=n(465);function o(e){return null==e?"":r(e)}e.exports=o},(e,t,n)=>{var r=n(71),o=n(466),s=n(89),i=n(69),a=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;function l(e){if("string"==typeof e)return e;if(s(e))return o(e,l)+"";if(i(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}e.exports=l},e=>{function t(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=t},(e,t,n)=>{var r=n(69),o=1/0;function s(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}e.exports=s},(e,t,n)=>{var r=n(469),o=n(470);function s(e,t){return null!=e&&o(e,t,r)}e.exports=s},e=>{function t(e,t){return null!=e&&t in Object(e)}e.exports=t},(e,t,n)=>{var r=n(459),o=n(87),s=n(89),i=n(92),a=n(95),c=n(467);function u(e,t,n){for(var u=-1,l=(t=r(t,e)).length,p=!1;++u<l;){var d=c(t[u]);if(!(p=null!=e&&n(e,d)))break;e=e[d]}return p||++u!=l?p:!!(l=null==e?0:e.length)&&a(l)&&i(d,l)&&(s(e)||o(e))}e.exports=u},(e,t,n)=>{var r=n(472),o=n(473),s=n(460),i=n(467);function a(e){return s(e)?r(i(e)):o(e)}e.exports=a},e=>{function t(e){return function(t){return null==t?void 0:t[e]}}e.exports=t},(e,t,n)=>{var r=n(458);function o(e){return function(t){return r(t,e)}}e.exports=o},,,,,function(e,t,n){var r,o=n(3);r=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={debug:!1},r=(0,a.default)({},n,t),o=new i.default(r);e.interceptors.request.use((function(e){var t=e.requestId;if(t){var n=s.CancelToken.source();e.cancelToken=n.token,o.addRequest(t,n.cancel)}return e})),e.interceptors.response.use((function(e){var t=e.config.requestId;return t&&o.removeRequest(t),e})),e.cancel=function(e,t){e&&o.cancelRequest(e,t)},e.cancelAll=function(e){o.cancelAllRequests(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=n(3),i=r(n(1)),a=r(n(2))},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.options=t,this.pendingRequests={}}return r(e,[{key:"addRequest",value:function(e,t){this.log("adding request `"+e+"`"),this.has(e)?(this.cancelRequest(e,"`cancelRequest("+e+")` from `RequestManager.addRequest`.\n      Found duplicate pending request."),this.pendingRequests[e]=t):this.pendingRequests[e]=t}},{key:"removeRequest",value:function(e){this.log("removing request `"+e+"`"),delete this.pendingRequests[e]}},{key:"cancelRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"`cancelRequest("+e+")` from `RequestManager.cancelRequest`";this.log("cancelling request `"+e+"`"),this.has(e)&&"function"==typeof this.pendingRequests[e]&&(this.pendingRequests[e](t),this.removeRequest(e),this.log("request `"+e+"` cancelled"))}},{key:"cancelAllRequests",value:function(e){for(var t in this.pendingRequests){var n=e||"`cancelRequest("+t+")` from `RequestManager.cancelAllRequests`";this.cancelRequest(t,n)}}},{key:"has",value:function(e){return!!this.pendingRequests[e]}},{key:"log",value:function(e){!0===this.options.debug&&o.log(e)}}]),e}();t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={};for(var t in arguments){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(t,n){t.exports=e}])},e.exports=r(n(107))},function(e,t,n){var r,o=n(3);r=function(e){return function(){"use strict";var t={593:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.resendFailedRequest=t.getRetryInstance=t.unsetCache=t.createRequestQueueInterceptor=t.createRefreshCall=t.shouldInterceptError=t.mergeOptions=t.defaultOptions=void 0;const r=n(300);t.defaultOptions={statusCodes:[401],pauseInstanceWhileRefreshing:!1},t.mergeOptions=function(e,t){return Object.assign(Object.assign(Object.assign({},e),{pauseInstanceWhileRefreshing:t.skipWhileRefreshing}),t)},t.shouldInterceptError=function(e,t,n,r){var o,s;return!(!e||(null===(o=e.config)||void 0===o?void 0:o.skipAuthRefresh)||!(t.interceptNetworkError&&!e.response&&0===e.request.status||e.response&&((null==t?void 0:t.shouldRefresh)?t.shouldRefresh(e):null===(s=t.statusCodes)||void 0===s?void 0:s.includes(parseInt(e.response.status))))||(e.response||(e.response={config:e.config}),t.pauseInstanceWhileRefreshing&&r.skipInstances.includes(n)))},t.createRefreshCall=function(e,t,n){return n.refreshCall||(n.refreshCall=t(e),"function"==typeof n.refreshCall.then)?n.refreshCall:(o.warn("axios-auth-refresh requires `refreshTokenCall` to return a promise."),Promise.reject())},t.createRequestQueueInterceptor=function(e,t,n){return void 0===t.requestQueueInterceptorId&&(t.requestQueueInterceptorId=e.interceptors.request.use((e=>t.refreshCall.catch((()=>{throw new r.default.Cancel("Request call failed")})).then((()=>n.onRetry?n.onRetry(e):e))))),t.requestQueueInterceptorId},t.unsetCache=function(e,t){e.interceptors.request.eject(t.requestQueueInterceptorId),t.requestQueueInterceptorId=void 0,t.refreshCall=void 0,t.skipInstances=t.skipInstances.filter((t=>t!==e))},t.getRetryInstance=function(e,t){return t.retryInstance||e},t.resendFailedRequest=function(e,t){return e.config.skipAuthRefresh=!0,t(e.response.config)}},300:function(t){t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}var s={};return function(){var e=s;Object.defineProperty(e,"__esModule",{value:!0});const t=r(593);e.default=function(e,n,r={}){if("function"!=typeof n)throw new Error("axios-auth-refresh requires `refreshAuthCall` to be a function that returns a promise.");const o={skipInstances:[],refreshCall:void 0,requestQueueInterceptorId:void 0};return e.interceptors.response.use((e=>e),(s=>{if(r=(0,t.mergeOptions)(t.defaultOptions,r),!(0,t.shouldInterceptError)(s,r,e,o))return Promise.reject(s);r.pauseInstanceWhileRefreshing&&o.skipInstances.push(e);const i=(0,t.createRefreshCall)(s,n,o);return(0,t.createRequestQueueInterceptor)(e,o,r),i.catch((e=>Promise.reject(e))).then((()=>(0,t.resendFailedRequest)(s,(0,t.getRetryInstance)(e,r)))).finally((()=>(0,t.unsetCache)(e,o)))}))}}(),s}()},e.exports=r(n(107))},,,,,,,,,,,,,,,,,,,,,,(e,t)=>{"use strict";t.A=void 0;var n=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),r=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),o=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),s=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),i=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),a=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),c=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),u=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),l=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),p=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),d=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),f=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),h=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),m=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),g=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),y=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),v=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),b=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),_=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),w=Object.freeze({black:"#000000",white:"#ffffff",transparent:"transparent"}),x=Object.freeze({red:n,pink:r,purple:o,deepPurple:s,indigo:i,blue:a,lightBlue:c,cyan:u,teal:l,green:p,lightGreen:d,lime:f,yellow:h,amber:m,orange:g,deepOrange:y,brown:v,blueGrey:b,grey:_,shades:w});t.A=x},(e,t,n)=>{var r=n(503);function o(e,t,n){return null==e?e:r(e,t,n)}e.exports=o},(e,t,n)=>{var r=n(192),o=n(459),s=n(92),i=n(62),a=n(467);function c(e,t,n,c){if(!i(e))return e;for(var u=-1,l=(t=o(t,e)).length,p=l-1,d=e;null!=d&&++u<l;){var f=a(t[u]),h=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(u!=p){var m=d[f];void 0===(h=c?c(m,f,d):void 0)&&(h=i(m)?m:s(t[u+1])?[]:{})}r(d,f,h),d=d[f]}return e}e.exports=c},,,,,,,,,,,,,,(e,t,n)=>{var r=n(518),o=n(527),s=r((function(e,t,n){return e+(n?" ":"")+o(t)}));e.exports=s},(e,t,n)=>{var r=n(519),o=n(520),s=n(523),i=RegExp("['\u2019]","g");function a(e){return function(t){return r(s(o(t).replace(i,"")),e,"")}}e.exports=a},e=>{function t(e,t,n,r){var o=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e);return n}e.exports=t},(e,t,n)=>{var r=n(521),o=n(464),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function a(e){return(e=o(e))&&e.replace(s,r).replace(i,"")}e.exports=a},(e,t,n)=>{var r=n(522)({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});e.exports=r},e=>{function t(e){return function(t){return null==e?void 0:e[t]}}e.exports=t},(e,t,n)=>{var r=n(524),o=n(525),s=n(464),i=n(526);function a(e,t,n){return e=s(e),void 0===(t=n?void 0:t)?o(e)?i(e):r(e):e.match(t)||[]}e.exports=a},e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(e){return e.match(t)||[]}e.exports=n},e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(e){return t.test(e)}e.exports=n},e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="['\u2019]",a="["+s+"]",c="\\d+",u="["+n+"]",l="["+r+"]",p="[^"+t+s+c+n+r+o+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+o+"]",m="(?:"+l+"|"+p+")",g="(?:"+h+"|"+p+")",y="(?:"+i+"(?:d|ll|m|re|s|t|ve))?",v="(?:"+i+"(?:D|LL|M|RE|S|T|VE))?",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",_="[\\ufe0e\\ufe0f]?",w="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",x="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",k=_+b+"(?:\\u200d(?:"+["[^"+t+"]",d,f].join("|")+")"+_+b+")*",S="(?:"+[u,d,f].join("|")+")"+k,T=RegExp([h+"?"+l+"+"+y+"(?="+[a,h,"$"].join("|")+")",g+"+"+v+"(?="+[a,h+m,"$"].join("|")+")",h+"?"+m+"+"+y,h+"+"+v,x,w,c,S].join("|"),"g");function O(e){return e.match(T)||[]}e.exports=O},(e,t,n)=>{var r=n(528)("toUpperCase");e.exports=r},(e,t,n)=>{var r=n(529),o=n(531),s=n(532),i=n(464);function a(e){return function(t){t=i(t);var n=o(t)?s(t):void 0,a=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return a[e]()+c}}e.exports=a},(e,t,n)=>{var r=n(530);function o(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}e.exports=o},e=>{function t(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s}e.exports=t},e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function n(e){return t.test(e)}e.exports=n},(e,t,n)=>{var r=n(533),o=n(531),s=n(534);function i(e){return o(e)?s(e):r(e)}e.exports=i},e=>{function t(e){return e.split("")}e.exports=t},e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")?",u="[\\ufe0e\\ufe0f]?",l=u+c+"(?:\\u200d(?:"+[s,i,a].join("|")+")"+u+c+")*",p="(?:"+[s+r+"?",r,i,a,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+p+l,"g");function f(e){return e.match(d)||[]}e.exports=f},(e,t,n)=>{var r=n(536),o=n(518)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},(e,t,n)=>{var r=n(464),o=n(527);function s(e){return o(r(e).toLowerCase())}e.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";var r=n(631),o=n(632),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,i=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function p(e){return(e||"").toString().replace(s,"")}var d=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function h(e){var t,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},o={},s=typeof(e=e||r);if("blob:"===e.protocol)o=new v(unescape(e.pathname),{});else if("string"===s)for(t in o=new v(e,{}),f)delete o[t];else if("object"===s){for(t in e)t in f||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=a.test(e.href))}return o}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=p(e)).replace(i,""),t=t||{};var n,r=u.exec(e),o=r[1]?r[1].toLowerCase():"",s=!!r[2],a=!!r[3],c=0;return s?a?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):a?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===o?c>=2&&(n=n.slice(2)):m(o)?n=r[4]:o?s&&(n=n.slice(2)):c>=2&&m(t.protocol)&&(n=r[4]),{protocol:o,slashes:s||m(o),slashesCount:c,rest:n}}function y(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],s=!1,i=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),i++):i&&(0===r&&(s=!0),n.splice(r,1),i--);return s&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}function v(e,t,n){if(e=(e=p(e)).replace(i,""),!(this instanceof v))return new v(e,t,n);var s,a,c,u,f,b,_=d.slice(),w=typeof t,x=this,k=0;for("object"!==w&&"string"!==w&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),s=!(a=g(e||"",t=h(t))).protocol&&!a.slashes,x.slashes=a.slashes||s&&t.slashes,x.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||l.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!m(x.protocol)))&&(_[3]=[/(.*)/,"pathname"]);k<_.length;k++)"function"!=typeof(u=_[k])?(c=u[0],b=u[1],c!=c?x[b]=e:"string"==typeof c?~(f="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof u[2]?(x[b]=e.slice(0,f),e=e.slice(f+u[2])):(x[b]=e.slice(f),e=e.slice(0,f))):(f=c.exec(e))&&(x[b]=f[1],e=e.slice(0,f.index)),x[b]=x[b]||s&&u[3]&&t[b]||"",u[4]&&(x[b]=x[b].toLowerCase())):e=u(e,x);n&&(x.query=n(x.query)),s&&t.slashes&&"/"!==x.pathname.charAt(0)&&(""!==x.pathname||""!==t.pathname)&&(x.pathname=y(x.pathname,t.pathname)),"/"!==x.pathname.charAt(0)&&m(x.protocol)&&(x.pathname="/"+x.pathname),r(x.port,x.protocol)||(x.host=x.hostname,x.port=""),x.username=x.password="",x.auth&&(~(f=x.auth.indexOf(":"))?(x.username=x.auth.slice(0,f),x.username=encodeURIComponent(decodeURIComponent(x.username)),x.password=x.auth.slice(f+1),x.password=encodeURIComponent(decodeURIComponent(x.password))):x.username=encodeURIComponent(decodeURIComponent(x.auth)),x.auth=x.password?x.username+":"+x.password:x.username),x.origin="file:"!==x.protocol&&m(x.protocol)&&x.host?x.protocol+"//"+x.host:"null",x.href=x.toString()}function b(e,t,n){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),s[e]=t;break;case"port":s[e]=t,r(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,c.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";s[e]=t.charAt(0)!==i?i+t:t}else s[e]=t;break;case"username":case"password":s[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(s.username=t.slice(0,a),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=t.slice(a+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<d.length;u++){var l=d[u];l[4]&&(s[l[1]]=s[l[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin="file:"!==s.protocol&&m(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s}function _(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.host,s=n.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var i=s+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(i+=n.username,n.password&&(i+=":"+n.password),i+="@"):n.password?(i+=":"+n.password,i+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(i+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),i+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}v.prototype={set:b,toString:_},v.extractProtocol=g,v.location=h,v.trimLeft=p,v.qs=o,e.exports=v},e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},(e,t)=>{"use strict";var n,r=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}function i(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var s=o(t[1]),i=o(t[2]);null===s||null===i||s in r||(r[s]=i)}return r}function a(e,t){t=t||"";var o,i,a=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((o=e[i])||null!==o&&o!==n&&!isNaN(o)||(o=""),i=s(i),o=s(o),null===i||null===o)continue;a.push(i+"="+o)}return a.length?t+a.join("&"):""}t.stringify=a,t.parse=i},,,(e,t,n)=>{var r;!function(e){!function(t){var r="object"==typeof globalThis?globalThis:"object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:c(),o=s(e);function s(e,t){return function(n,r){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}function i(){try{return Function("return this;")()}catch(e){}}function a(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}function c(){return i()||a()}void 0!==r.Reflect&&(o=s(r.Reflect,o)),t(o,r),void 0===r.Reflect&&(r.Reflect=e)}((function(e,t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!i&&!a,u={create:i?function(){return pe(Object.create(null))}:a?function(){return pe({__proto__:null})}:function(){return pe({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),p="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:ce(),d="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:ue(),f="function"==typeof WeakMap?WeakMap:le(),h=r?Symbol.for("@reflect-metadata:registry"):void 0,m=oe(),g=se(m);function y(e,t,n,r){if(L(n)){if(!W(e))throw new TypeError;if(!G(t))throw new TypeError;return E(e,t)}if(!W(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(r)&&!L(r)&&!D(r))throw new TypeError;return D(r)&&(r=void 0),j(e,t,n=z(n),r)}function v(e,t){function n(n,r){if(!U(n))throw new TypeError;if(!L(r)&&!K(r))throw new TypeError;N(e,t,n,r)}return n}function b(e,t,n,r){if(!U(n))throw new TypeError;return L(r)||(r=z(r)),N(e,t,n,r)}function _(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=z(n)),A(e,t,n)}function w(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=z(n)),I(e,t,n)}function x(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=z(n)),R(e,t,n)}function k(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=z(n)),C(e,t,n)}function S(e,t){if(!U(e))throw new TypeError;return L(t)||(t=z(t)),P(e,t)}function T(e,t){if(!U(e))throw new TypeError;return L(t)||(t=z(t)),M(e,t)}function O(e,t,n){if(!U(t))throw new TypeError;if(L(n)||(n=z(n)),!U(t))throw new TypeError;L(n)||(n=z(n));var r=ae(t,n,!1);return!L(r)&&r.OrdinaryDeleteMetadata(e,t,n)}function E(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!L(r)&&!D(r)){if(!G(r))throw new TypeError;t=r}}return t}function j(e,t,n,r){for(var o=e.length-1;o>=0;--o){var s=(0,e[o])(t,n,r);if(!L(s)&&!D(s)){if(!U(s))throw new TypeError;r=s}}return r}function A(e,t,n){if(I(e,t,n))return!0;var r=ne(t);return!D(r)&&A(e,r,n)}function I(e,t,n){var r=ae(t,n,!1);return!L(r)&&V(r.OrdinaryHasOwnMetadata(e,t,n))}function R(e,t,n){if(I(e,t,n))return C(e,t,n);var r=ne(t);return D(r)?void 0:R(e,r,n)}function C(e,t,n){var r=ae(t,n,!1);if(!L(r))return r.OrdinaryGetOwnMetadata(e,t,n)}function N(e,t,n,r){ae(n,r,!0).OrdinaryDefineOwnMetadata(e,t,n,r)}function P(e,t){var n=M(e,t),r=ne(e);if(null===r)return n;var o=P(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var s=new d,i=[],a=0,c=n;a<c.length;a++){var u=c[a];s.has(u)||(s.add(u),i.push(u))}for(var l=0,p=o;l<p.length;l++)u=p[l],s.has(u)||(s.add(u),i.push(u));return i}function M(e,t){var n=ae(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function $(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function L(e){return void 0===e}function D(e){return null===e}function F(e){return"symbol"==typeof e}function U(e){return"object"==typeof e?null!==e:"function"==typeof e}function B(e,t){switch($(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=J(e,o);if(void 0!==r){var s=r.call(e,n);if(U(s))throw new TypeError;return s}return q(e,"default"===n?"number":n)}function q(e,t){if("string"===t){var n=e.toString;if(Z(n)&&!U(o=n.call(e)))return o;if(Z(r=e.valueOf)&&!U(o=r.call(e)))return o}else{var r;if(Z(r=e.valueOf)&&!U(o=r.call(e)))return o;var o,s=e.toString;if(Z(s)&&!U(o=s.call(e)))return o}throw new TypeError}function V(e){return!!e}function H(e){return""+e}function z(e){var t=B(e,3);return F(t)?t:H(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Z(e){return"function"==typeof e}function G(e){return"function"==typeof e}function K(e){switch($(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){return e===t||e!=e&&t!=t}function J(e,t){var n=e[t];if(null!=n){if(!Z(n))throw new TypeError;return n}}function X(e){var t=J(e,s);if(!Z(t))throw new TypeError;var n=t.call(e);if(!U(n))throw new TypeError;return n}function Q(e){return e.value}function ee(e){var t=e.next();return!t.done&&t}function te(e){var t=e.return;t&&t.call(e)}function ne(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function re(){var e,n,r,o;L(h)||void 0===t.Reflect||h in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=ie(t.Reflect));var s=new f,i={registerProvider:a,getProvider:u,setProvider:m};return i;function a(t){if(!Object.isExtensible(i))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case L(n):n=t;break;case n===t:break;case L(r):r=t;break;case r===t:break;default:void 0===o&&(o=new d),o.add(t)}}function c(t,s){if(!L(n)){if(n.isProviderFor(t,s))return n;if(!L(r)){if(r.isProviderFor(t,s))return n;if(!L(o))for(var i=X(o);;){var a=ee(i);if(!a)return;var c=Q(a);if(c.isProviderFor(t,s))return te(i),c}}}if(!L(e)&&e.isProviderFor(t,s))return e}function u(e,t){var n,r=s.get(e);return L(r)||(n=r.get(t)),L(n)?(L(n=c(e,t))||(L(r)&&(r=new p,s.set(e,r)),r.set(t,n)),n):n}function l(e){if(L(e))throw new TypeError;return n===e||r===e||!L(o)&&o.has(e)}function m(e,t,n){if(!l(n))throw new Error("Metadata provider not registered.");var r=u(e,t);if(r!==n){if(!L(r))return!1;var o=s.get(e);L(o)&&(o=new p,s.set(e,o)),o.set(t,n)}return!0}}function oe(){var e;return!L(h)&&U(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[h]),L(e)&&(e=re()),!L(h)&&U(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,h,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}function se(e){var t=new f,n={isProviderFor:function(e,n){var r=t.get(e);return!L(r)&&r.has(n)},OrdinaryDefineOwnMetadata:i,OrdinaryHasOwnMetadata:o,OrdinaryGetOwnMetadata:s,OrdinaryOwnMetadataKeys:a,OrdinaryDeleteMetadata:c};return m.registerProvider(n),n;function r(r,o,s){var i=t.get(r),a=!1;if(L(i)){if(!s)return;i=new p,t.set(r,i),a=!0}var c=i.get(o);if(L(c)){if(!s)return;if(c=new p,i.set(o,c),!e.setProvider(r,o,n))throw i.delete(o),a&&t.delete(r),new Error("Wrong provider for target.")}return c}function o(e,t,n){var o=r(t,n,!1);return!L(o)&&V(o.has(e))}function s(e,t,n){var o=r(t,n,!1);if(!L(o))return o.get(e)}function i(e,t,n,o){r(n,o,!0).set(e,t)}function a(e,t){var n=[],o=r(e,t,!1);if(L(o))return n;for(var s=X(o.keys()),i=0;;){var a=ee(s);if(!a)return n.length=i,n;var c=Q(a);try{n[i]=c}catch(e){try{te(s)}finally{throw e}}i++}}function c(e,n,o){var s=r(n,o,!1);if(L(s))return!1;if(!s.delete(e))return!1;if(0===s.size){var i=t.get(n);L(i)||(i.delete(o),0===i.size&&t.delete(i))}return!0}}function ie(e){var t=e.defineMetadata,n=e.hasOwnMetadata,r=e.getOwnMetadata,o=e.getOwnMetadataKeys,s=e.deleteMetadata,i=new f;return{isProviderFor:function(e,t){var n=i.get(e);return L(n)?!!o(e,t).length&&(L(n)&&(n=new d,i.set(e,n)),n.add(t),!0):n.has(t)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:s}}function ae(e,t,n){var r=m.getProvider(e,t);if(!L(r))return r;if(n){if(m.setProvider(e,t,g))return g;throw new Error("Illegal state.")}}function ce(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[s]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,Y(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,i)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[s]=function(){return this.entries()},t.prototype._find=function(e,t){if(!Y(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(Y(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function i(e,t){return[e,t]}}function ue(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[s]=function(){return this.keys()},e}()}function le(){var e=16,t=u.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(u.has(t,e));return t[e]=!0,e}function s(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function i(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):i(new Uint8Array(e),e):i(new Array(e),e)}function c(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}function pe(e){return e.__=void 0,delete e.__,e}e("decorate",y),e("metadata",v),e("defineMetadata",b),e("hasMetadata",_),e("hasOwnMetadata",w),e("getMetadata",x),e("getOwnMetadata",k),e("getMetadataKeys",S),e("getOwnMetadataKeys",T),e("deleteMetadata",O)}))}(r||(r={}))},,,,(e,t,n)=>{var r=n(466),o=n(450),s=n(640),i=n(213);function a(e,t){if(null==e)return{};var n=r(i(e),(function(e){return[e]}));return t=o(t),s(e,n,(function(e,n){return t(e,n[0])}))}e.exports=a},(e,t,n)=>{var r=n(458),o=n(503),s=n(459);function i(e,t,n){for(var i=-1,a=t.length,c={};++i<a;){var u=t[i],l=r(e,u);n(l,u)&&o(c,s(u,e),l)}return c}e.exports=i}],a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,c),n.loaded=!0,n.exports}c.m=i,c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);c.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,c.d(o,s),o},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>"chunks/"+({168:"i18n/date/ta-js",199:"i18n/date/es-mx-js",227:"i18n/date/si-js",403:"i18n/date/ka-js",452:"i18n/date/af-js",539:"i18n/date/ky-js",549:"i18n/date/lb-js",619:"i18n/date/mk-js",772:"i18n/date/fo-js",816:"i18n/date/pa-in-js",825:"i18n/date/dv-js",894:"en-messages-popup-js",967:"i18n/date/ku-js",1079:"i18n/date/th-js",1124:"i18n/date/ur-js",1206:"i18n/date/it-ch-js",1256:"i18n/date/ar-ly-js",1275:"ru-options-js",1278:"i18n/date/tl-ph-js",1386:"i18n/date/ja-js",1416:"i18n/date/da-js",1432:"i18n/date/ar-js",1484:"i18n/date/mr-js",1542:"i18n/date/ml-js",1581:"i18n/date/tr-js",1698:"i18n/date/tzm-latn-js",1787:"i18n/date/ug-cn-js",1788:"i18n/date/sv-fi-js",1814:"i18n/date/fr-ca-js",1832:"i18n/date/bg-js",1954:"i18n/date/lo-js",2005:"i18n/date/fr-ch-js",2088:"i18n/date/ms-my-js",2128:"i18n/date/az-js",2155:"i18n/date/tzl-js",2158:"i18n/date/bm-js",2298:"i18n/date/it-js",2363:"i18n/date/yo-js",2431:"i18n/date/ht-js",2528:"i18n/date/bo-js",2577:"i18n/date/ar-tn-js",2870:"i18n/date/pt-br-js",3e3:"i18n/date/sd-js",3007:"i18n/date/nb-js",3022:"i18n/date/tk-js",3038:"i18n/date/gom-latn-js",3082:"i18n/date/uz-latn-js",3118:"en-notes-js",3241:"i18n/date/mi-js",3291:"i18n/date/ar-sa-js",3371:"i18n/date/br-js",3420:"i18n/date/gd-js",3536:"i18n/date/es-pr-js",3582:"i18n/date/el-js",3657:"i18n/date/cs-js",3753:"i18n/date/kk-js",3784:"i18n/date/tet-js",3851:"i18n/date/es-js",3998:"i18n/date/mt-js",4037:"i18n/date/ar-kw-js",4057:"i18n/date/ss-js",4068:"i18n/date/tzm-js",4070:"i18n/date/sv-js",4118:"i18n/date/en-gb-js",4124:"i18n/date/hi-js",4299:"i18n/date/sr-cyrl-js",4345:"i18n/date/my-js",4365:"i18n/date/ko-js",4413:"i18n/date/sw-js",4472:"i18n/date/hu-js",4566:"i18n/date/cv-js",4579:"pl-messages-options-js",4681:"i18n/date/zh-cn-js",4768:"en-messages-_shared-js",4774:"i18n/date/et-js",4805:"i18n/date/ar-dz-js",4885:"i18n/date/me-js",4936:"i18n/date/mn-js",5034:"i18n/date/bi-js",5089:"i18n/date/am-js",5427:"i18n/date/cy-js",5574:"i18n/date/fy-js",5590:"i18n/date/vi-js",5613:"i18n/date/hy-am-js",5880:"i18n/date/de-ch-js",5884:"pl-messages-content-js",5954:"i18n/date/tg-js",6130:"i18n/date/ne-js",6177:"i18n/date/lv-js",6196:"i18n/date/gl-js",6224:"i18n/date/sl-js",6246:"i18n/date/kn-js",6248:"i18n/date/rw-js",6283:"i18n/date/ca-js",6327:"i18n/date/eo-js",6362:"i18n/date/id-js",6412:"ru-messages-options-js",6436:"i18n/date/te-js",6489:"i18n/date/zh-js",6515:"i18n/date/nn-js",6537:"i18n/date/tlh-js",6646:"ru-messages-_shared-js",6711:"i18n/date/is-js",6723:"i18n/date/lt-js",6780:"en-settings-js",6995:"i18n/date/gu-js",7145:"i18n/date/en-ie-js",7157:"i18n/date/zh-tw-js",7204:"i18n/date/bs-js",7215:"i18n/date/es-do-js",7237:"i18n/date/ar-iq-js",7303:"ru-messages-content-js",7358:"i18n/date/fa-js",7429:"en-messages-content-js",7439:"pl-messages-popup-js",7469:"i18n/date/zh-hk-js",7574:"i18n/date/fi-js",7580:"i18n/date/en-in-js",7601:"i18n/date/ar-ma-js",7619:"i18n/date/en-ca-js",7649:"i18n/date/en-au-js",7658:"i18n/date/en-il-js",7663:"i18n/date/pl-js",7671:"i18n/date/pt-js",7679:"i18n/date/en-nz-js",7761:"i18n/date/sk-js",7835:"i18n/date/sq-js",7863:"i18n/date/rn-js",7886:"i18n/date/es-us-js",7915:"pl-messages-background-js",7935:"i18n/date/km-js",8028:"i18n/date/uz-js",8111:"i18n/date/se-js",8133:"i18n/date/en-sg-js",8256:"i18n/date/ro-js",8388:"i18n/date/bn-bd-js",8424:"i18n/date/he-js",8640:"i18n/date/en-js",8707:"i18n/date/uk-js",8757:"pl-messages-_shared-js",8879:"i18n/date/oc-lnc-js",8916:"i18n/date/de-js",8932:"ru-messages-popup-js",8947:"i18n/date/en-tt-js",9009:"i18n/date/nl-js",9078:"i18n/date/be-js",9095:"i18n/date/bn-js",9143:"i18n/date/ga-js",9206:"i18n/date/x-pseudo-js",9298:"en-messages-options-js",9318:"i18n/date/ru-js",9320:"en-messages-background-js",9357:"i18n/date/eu-js",9481:"i18n/date/hr-js",9511:"i18n/date/jv-js",9522:"i18n/date/sr-js",9549:"i18n/date/nl-be-js",9626:"ru-messages-background-js",9763:"i18n/date/ms-js",9767:"i18n/date/fr-js",9814:"i18n/date/de-at-js"}[e]||e)+".js",c.miniCssF=e=>{},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n=!!(()=>{try{return browser.runtime.getURL("/")}catch(e){}})(),r=!!(()=>{try{return chrome.runtime.getURL("/")}catch(e){}})(),o=n?browser:r?chrome:"object"==typeof self&&self.addEventListener?{get runtime(){throw new Error("No chrome or browser runtime found")}}:{runtime:{getURL:e=>e}},s="/",c.p="function"==typeof importScripts?s:o.runtime.getURL(s),(()=>{var e={4458:1},t=t=>{var[n,o,s]=t;for(var i in o)c.o(o,i)&&(c.m[i]=o[i]);for(s&&s(c);n.length;)e[n.pop()]=1;r(t)};c.f.i=(t,n)=>{e[t]||importScripts(c.p+c.u(t))};var n=self.webpackChunk=self.webpackChunk||[],r=n.push.bind(n);n.push=t})(),(()=>{const e=!!(()=>{try{if("function"==typeof browser.runtime.getURL)return!0}catch(e){}})(),t=e?browser:chrome;t.runtime.onMessage.addListener(((n,r,o)=>{if(!(n&&"WTW_INJECT"===n.type&&r&&r.tab&&null!=r.tab.id))return;let s=n.file;try{s=new URL(s).pathname}catch{}if(!s)return;const i={frameId:r.frameId,file:s};return t.scripting?t.scripting.executeScript({target:{tabId:r.tab.id},files:[s]}).then(o):e?t.tabs.executeScript(r.tab.id,i).then(o):t.tabs.executeScript(r.tab.id,i,o),!0}))})(),c.e(4458),c.e(452),c.e(5089),c.e(4805),c.e(7237),c.e(4037),c.e(1256),c.e(7601),c.e(3291),c.e(2577),c.e(1432),c.e(2128),c.e(9078),c.e(1832),c.e(5034),c.e(2158),c.e(8388),c.e(9095),c.e(2528),c.e(3371),c.e(7204),c.e(6283),c.e(3657),c.e(4566),c.e(5427),c.e(1416),c.e(9814),c.e(5880),c.e(8916),c.e(825),c.e(3582),c.e(7649),c.e(7619),c.e(4118),c.e(7145),c.e(7658),c.e(7580),c.e(7679),c.e(8133),c.e(8947),c.e(8640),c.e(6327),c.e(7215),c.e(199),c.e(3536),c.e(7886),c.e(3851),c.e(4774),c.e(9357),c.e(7358),c.e(7574),c.e(772),c.e(1814),c.e(2005),c.e(9767),c.e(5574),c.e(9143),c.e(3420),c.e(6196),c.e(3038),c.e(6995),c.e(8424),c.e(4124),c.e(9481),c.e(2431),c.e(4472),c.e(5613),c.e(6362),c.e(6711),c.e(1206),c.e(2298),c.e(1386),c.e(9511),c.e(403),c.e(3753),c.e(7935),c.e(6246),c.e(4365),c.e(967),c.e(539),c.e(549),c.e(1954),c.e(6723),c.e(6177),c.e(4885),c.e(3241),c.e(619),c.e(1542),c.e(4936),c.e(1484),c.e(2088),c.e(9763),c.e(3998),c.e(4345),c.e(3007),c.e(6130),c.e(9549),c.e(9009),c.e(6515),c.e(8879),c.e(816),c.e(7663),c.e(2870),c.e(7671),c.e(7863),c.e(8256),c.e(9318),c.e(6248),c.e(3e3),c.e(8111),c.e(227),c.e(7761),c.e(6224),c.e(7835),c.e(4299),c.e(9522),c.e(4057),c.e(1788),c.e(4070),c.e(4413),c.e(168),c.e(6436),c.e(3784),c.e(5954),c.e(1079),c.e(3022),c.e(1278),c.e(6537),c.e(1581),c.e(2155),c.e(1698),c.e(4068),c.e(1787),c.e(8707),c.e(1124),c.e(3082),c.e(8028),c.e(5590),c.e(9206),c.e(2363),c.e(4681),c.e(7469),c.e(7157),c.e(6489),c.e(4768),c.e(9320),c.e(7429),c.e(9002),c.e(9298),c.e(894),c.e(8757),c.e(7915),c.e(5884),c.e(774),c.e(4579),c.e(7439),c.e(6646),c.e(9626),c.e(7303),c.e(6314),c.e(6412),c.e(8932),c.e(3118),c.e(6780),c.e(1275),(()=>{"use strict";var e={};c.r(e),c.d(e,{Decoder:()=>Kf,Encoder:()=>Gf,PacketType:()=>Zf,protocol:()=>Wf}),c(635);const t="definer",n="Definer",r={firefox:"https://addons.mozilla.org/firefox/addon/lumetrium-definer",chrome:"https://chrome.google.com/webstore/detail/definer-popup-dictionary/noagjioaihamoljcbelhdlldnmlgnkon",edge:"https://microsoftedge.microsoft.com/addons/detail/ai-translator-and-diction/bmjggedeimdncfelfdcphnmbknkmfffp"},o="https://lumetrium.com/uninstall";function s(){return{provide(e,t){},config:{},use(e,t){return"function"==typeof e?e(this):e.install(this,t),this},mount(e){e.call(this)}}}const i="mouseup",a="dblclick",u="shortcut",l="context";class p{constructor(){this.inputs=!1,this.editables=!1,this.minimized=!1,this.floating=!1,this.minimizedPlacement="auto"}}class d{constructor(e){this.keys=null,this.rules=new p,this.disabled=!1,e&&Object.assign(this,e)}}var f,h="M21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V4C23 2.9 22.1 2 21 2M21 20H3V6H21V20M15.6 8C17.1 9.3 18 11.1 18 13C18 14.9 17.1 16.7 15.6 18L14 17.4C15.3 16.4 16 14.7 16 13S15.3 9.6 14 8.6L15.6 8M8.4 8L10 8.6C8.7 9.6 8 11.3 8 13S8.7 16.4 10 17.4L8.4 18C6.9 16.7 6 14.9 6 13S6.9 9.3 8.4 8Z",m="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z",g="M20,5H10.88L10,2H4A2,2 0 0,0 2,4V17A2,2 0 0,0 4,19H11L12,22H20A2,2 0 0,0 22,20V7A2,2 0 0,0 20,5M7.17,14.59A4.09,4.09 0 0,1 3.08,10.5A4.09,4.09 0 0,1 7.17,6.41C8.21,6.41 9.16,6.78 9.91,7.5L10,7.54L8.75,8.72L8.69,8.67C8.4,8.4 7.91,8.08 7.17,8.08C5.86,8.08 4.79,9.17 4.79,10.5C4.79,11.83 5.86,12.92 7.17,12.92C8.54,12.92 9.13,12.05 9.29,11.46H7.08V9.91H11.03L11.04,10C11.08,10.19 11.09,10.38 11.09,10.59C11.09,12.94 9.5,14.59 7.17,14.59M13.2,12.88C13.53,13.5 13.94,14.06 14.39,14.58L13.85,15.11L13.2,12.88M13.97,12.12H13L12.67,11.08H16.66C16.66,11.08 16.32,12.39 15.1,13.82C14.58,13.2 14.21,12.59 13.97,12.12M21,20A1,1 0 0,1 20,21H13L15,19L14.19,16.23L15.11,15.31L17.79,18L18.5,17.27L15.81,14.59C16.71,13.56 17.41,12.34 17.73,11.08H19V10.04H15.36V9H14.32V10.04H12.36L11.18,6H20A1,1 0 0,1 21,7V20Z",y="M17,17H7V7H17M21,11V9H19V7C19,5.89 18.1,5 17,5H15V3H13V5H11V3H9V5H7C5.89,5 5,5.89 5,7V9H3V11H5V13H3V15H5V17A2,2 0 0,0 7,19H9V21H11V19H13V21H15V19H17A2,2 0 0,0 19,17V15H21V13H19V11M13,13H11V11H13M15,9H9V15H15V9Z",v="M5,3V19L8.72,21L18,15.82V11.73H18L9.77,8.95L11.38,12.84L13.94,14L8.7,16.92V4.27L5,3",b="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z",_="M14.97,18.95L12.41,12.92C11.39,14.91 10.27,17 9.31,18.95C9.3,18.96 8.84,18.95 8.84,18.95C7.37,15.5 5.85,12.1 4.37,8.68C4.03,7.84 2.83,6.5 2,6.5C2,6.4 2,6.18 2,6.05H7.06V6.5C6.46,6.5 5.44,6.9 5.7,7.55C6.42,9.09 8.94,15.06 9.63,16.58C10.1,15.64 11.43,13.16 12,12.11C11.55,11.23 10.13,7.93 9.71,7.11C9.39,6.57 8.58,6.5 7.96,6.5C7.96,6.35 7.97,6.25 7.96,6.06L12.42,6.07V6.47C11.81,6.5 11.24,6.71 11.5,7.29C12.1,8.53 12.45,9.42 13,10.57C13.17,10.23 14.07,8.38 14.5,7.41C14.76,6.76 14.37,6.5 13.29,6.5C13.3,6.38 13.3,6.17 13.3,6.07C14.69,6.06 16.78,6.06 17.15,6.05V6.47C16.44,6.5 15.71,6.88 15.33,7.46L13.5,11.3C13.68,11.81 15.46,15.76 15.65,16.2L19.5,7.37C19.2,6.65 18.34,6.5 18,6.5C18,6.37 18,6.2 18,6.05L22,6.08V6.1L22,6.5C21.12,6.5 20.57,7 20.25,7.75C19.45,9.54 17,15.24 15.4,18.95C15.4,18.95 14.97,18.95 14.97,18.95Z";!function(e){e[e.MATCHES_DOMAIN=1]="MATCHES_DOMAIN",e[e.MATCHES_URL=2]="MATCHES_URL",e[e.URL_CONTAINS=3]="URL_CONTAINS",e[e.URL_STARTS=4]="URL_STARTS",e[e.URL_ENDS=5]="URL_ENDS",e[e.MATCHES_PATTERN=6]="MATCHES_PATTERN",e[e.MATCHES_REGEXP=7]="MATCHES_REGEXP"}(f||(f={})),f.MATCHES_DOMAIN,f.MATCHES_URL,f.URL_CONTAINS,f.URL_STARTS,f.URL_ENDS,f.MATCHES_PATTERN,f.MATCHES_REGEXP;var w,x=new Uint8Array(16);function k(){if(!w&&!(w="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(x)}const S=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function T(e){return"string"==typeof e&&S.test(e)}const O=T;for(var E=[],j=0;j<256;++j)E.push((j+256).toString(16).substr(1));function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(E[e[t+0]]+E[e[t+1]]+E[e[t+2]]+E[e[t+3]]+"-"+E[e[t+4]]+E[e[t+5]]+"-"+E[e[t+6]]+E[e[t+7]]+"-"+E[e[t+8]]+E[e[t+9]]+"-"+E[e[t+10]]+E[e[t+11]]+E[e[t+12]]+E[e[t+13]]+E[e[t+14]]+E[e[t+15]]).toLowerCase();if(!O(n))throw TypeError("Stringified UUID is invalid");return n}const I=A;function R(e,t,n){var r=(e=e||{}).random||(e.rng||k)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return I(r)}const C=R;class N{constructor(e){this.query="",this.index=0,this.mode=f.MATCHES_DOMAIN,this.disabled=!1,this.favicon=null,this.type=null,this.createdAt=null,this.modifiedAt=null,this.origin=null,this.id=C(),e&&Object.assign(this,e)}}var P;!function(e){e[e.WHITELIST=1]="WHITELIST",e[e.BLACKLIST=2]="BLACKLIST"}(P||(P={}));const M={width:430,height:340,remember:!0},$={x:0,y:0,remember:!0},L=[{id:i,hotkeysLimit:2,hotkeys:[new d({keys:!1,disabled:!1,rules:{inputs:!1,editables:!1,minimized:!0,minimizedPlacement:"auto"}}),new d({keys:["CONTROL"]})]},{id:a,hotkeysLimit:2,hotkeys:[new d({keys:!1})]},{id:u,hotkeysLimit:1,hotkeys:[new d({keys:["ALT","G"],rules:{inputs:!0,editables:!0}})]},{id:l,hotkeysLimit:1,hotkeys:[new d({rules:{inputs:!0,editables:!0}})]}];new N({query:"https:\\/\\docs\\.google\\.com\\/document\\/u\\0\\/.*",mode:f.MATCHES_REGEXP,type:P.BLACKLIST}),new N({query:"www.youtube.com",mode:f.MATCHES_DOMAIN,type:P.WHITELIST}),new N({query:"https://lume",mode:f.URL_STARTS,type:P.WHITELIST});var D=c(3),F=Object.freeze({}),U=Array.isArray;function B(e){return null==e}function q(e){return null!=e}function V(e){return!0===e}function H(e){return!1===e}function z(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function W(e){return"function"==typeof e}function Z(e){return null!==e&&"object"==typeof e}var G=Object.prototype.toString;function K(e){return"[object Object]"===G.call(e)}function Y(e){return"[object RegExp]"===G.call(e)}function J(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function X(e){return q(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function Q(e){return null==e?"":Array.isArray(e)||K(e)&&e.toString===G?JSON.stringify(e,ee,2):String(e)}function ee(e,t){return t&&t.__v_isRef?t.value:t}function te(e){var t=parseFloat(e);return isNaN(t)?e:t}function ne(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}ne("slot,component",!0);var re=ne("key,ref,slot,slot-scope,is");function oe(e,t){var n=e.length;if(n){if(t===e[n-1])return void(e.length=n-1);var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var se=Object.prototype.hasOwnProperty;function ie(e,t){return se.call(e,t)}function ae(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var ce=/-(\w)/g,ue=ae((function(e){return e.replace(ce,(function(e,t){return t?t.toUpperCase():""}))})),le=ae((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),pe=/\B([A-Z])/g,de=ae((function(e){return e.replace(pe,"-$1").toLowerCase()}));function fe(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function he(e,t){return e.bind(t)}var me=Function.prototype.bind?he:fe;function ge(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function ye(e,t){for(var n in t)e[n]=t[n];return e}function ve(e){for(var t={},n=0;n<e.length;n++)e[n]&&ye(t,e[n]);return t}function be(e,t,n){}var _e=function(e,t,n){return!1},we=function(e){return e};function xe(e,t){if(e===t)return!0;var n=Z(e),r=Z(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=Array.isArray(e),s=Array.isArray(t);if(o&&s)return e.length===t.length&&e.every((function(e,n){return xe(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||s)return!1;var i=Object.keys(e),a=Object.keys(t);return i.length===a.length&&i.every((function(n){return xe(e[n],t[n])}))}catch(e){return!1}}function ke(e,t){for(var n=0;n<e.length;n++)if(xe(e[n],t))return n;return-1}function Se(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function Te(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var Oe="data-server-rendered",Ee=["component","directive","filter"],je=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Ae={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:_e,isReservedAttr:_e,isUnknownElement:_e,getTagNamespace:be,parsePlatformTagName:we,mustUseProp:_e,async:!0,_lifecycleHooks:je};function Ie(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Re(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var Ce=new RegExp("[^".concat(/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source,".$_\\d]"));function Ne(e){if(!Ce.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var Pe="__proto__"in{},Me="undefined"!=typeof window,$e=Me&&window.navigator.userAgent.toLowerCase(),Le=$e&&/msie|trident/.test($e),De=$e&&$e.indexOf("msie 9.0")>0,Fe=$e&&$e.indexOf("edge/")>0;$e&&$e.indexOf("android");var Ue=$e&&/iphone|ipad|ipod|ios/.test($e);$e&&/chrome\/\d+/.test($e),$e&&/phantomjs/.test($e);var Be,qe=$e&&$e.match(/firefox\/(\d+)/),Ve={}.watch,He=!1;if(Me)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){He=!0}}),window.addEventListener("test-passive",null,ze)}catch(oh){}var We=function(){return void 0===Be&&(Be=!Me&&void 0!==c.g&&c.g.process&&"server"===c.g.process.env.VUE_ENV),Be},Ze=Me&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Ge(e){return"function"==typeof e&&/native code/.test(e.toString())}var Ke,Ye="undefined"!=typeof Symbol&&Ge(Symbol)&&"undefined"!=typeof Reflect&&Ge(Reflect.ownKeys);Ke="undefined"!=typeof Set&&Ge(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Je=null;function Xe(){return Je&&{proxy:Je}}function Qe(e){void 0===e&&(e=null),e||Je&&Je._scope.off(),Je=e,e&&e._scope.on()}var et=function(){function e(e,t,n,r,o,s,i,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=i,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),tt=function(e){void 0===e&&(e="");var t=new et;return t.text=e,t.isComment=!0,t};function nt(e){return new et(void 0,void 0,void 0,String(e))}function rt(e){var t=new et(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}"function"==typeof SuppressedError&&SuppressedError;var ot=0,st=[],it=function(){for(var e=0;e<st.length;e++){var t=st[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}st.length=0},at=function(){function e(){this._pending=!1,this.id=ot++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,st.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){for(var t=this.subs.filter((function(e){return e})),n=0,r=t.length;n<r;n++)t[n].update()},e}();at.target=null;var ct=[];function ut(e){ct.push(e),at.target=e}function lt(){ct.pop(),at.target=ct[ct.length-1]}var pt=Array.prototype,dt=Object.create(pt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=pt[e];Re(dt,e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,s=t.apply(this,n),i=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&i.observeArray(o),i.dep.notify(),s}))}));var ft=Object.getOwnPropertyNames(dt),ht={},mt=!0;function gt(e){mt=e}var yt={notify:be,depend:be,addSub:be,removeSub:be},vt=function(){function e(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?yt:new at,this.vmCount=0,Re(e,"__ob__",this),U(e)){if(!n)if(Pe)e.__proto__=dt;else for(var r=0,o=ft.length;r<o;r++)Re(e,i=ft[r],dt[i]);t||this.observeArray(e)}else{var s=Object.keys(e);for(r=0;r<s.length;r++){var i;_t(e,i=s[r],ht,void 0,t,n)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)bt(e[t],!1,this.mock)},e}();function bt(e,t,n){return e&&ie(e,"__ob__")&&e.__ob__ instanceof vt?e.__ob__:!mt||!n&&We()||!U(e)&&!K(e)||!Object.isExtensible(e)||e.__v_skip||Nt(e)||e instanceof et?void 0:new vt(e,t,n)}function _t(e,t,n,r,o,s,i){void 0===i&&(i=!1);var a=new at,c=Object.getOwnPropertyDescriptor(e,t);if(!c||!1!==c.configurable){var u=c&&c.get,l=c&&c.set;u&&!l||n!==ht&&2!==arguments.length||(n=e[t]);var p=o?n&&n.__ob__:bt(n,!1,s);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=u?u.call(e):n;return at.target&&(a.depend(),p&&(p.dep.depend(),U(t)&&kt(t))),Nt(t)&&!o?t.value:t},set:function(t){var r=u?u.call(e):n;if(Te(r,t)){if(l)l.call(e,t);else{if(u)return;if(!o&&Nt(r)&&!Nt(t))return void(r.value=t);n=t}p=o?t&&t.__ob__:bt(t,!1,s),a.notify()}}}),a}}function wt(e,t,n){if(!At(e)){var r=e.__ob__;return U(e)&&J(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),r&&!r.shallow&&r.mock&&bt(n,!1,!0),n):t in e&&!(t in Object.prototype)?(e[t]=n,n):e._isVue||r&&r.vmCount?n:r?(_t(r.value,t,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(e[t]=n,n)}}function xt(e,t){if(U(e)&&J(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||At(e)||ie(e,t)&&(delete e[t],n&&n.dep.notify())}}function kt(e){for(var t=void 0,n=0,r=e.length;n<r;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),U(t)&&kt(t)}function St(e){return Ot(e,!1),e}function Tt(e){return Ot(e,!0),Re(e,"__v_isShallow",!0),e}function Ot(e,t){At(e)||bt(e,t,We())}function Et(e){return At(e)?Et(e.__v_raw):!(!e||!e.__ob__)}function jt(e){return!(!e||!e.__v_isShallow)}function At(e){return!(!e||!e.__v_isReadonly)}function It(e){var t=e&&e.__v_raw;return t?It(t):e}function Rt(e){return Object.isExtensible(e)&&Re(e,"__v_skip",!0),e}var Ct="__v_isRef";function Nt(e){return!(!e||!0!==e.__v_isRef)}function Pt(e){return Mt(e,!1)}function Mt(e,t){if(Nt(e))return e;var n={};return Re(n,Ct,!0),Re(n,"__v_isShallow",t),Re(n,"dep",_t(n,"value",e,null,t,We())),n}function $t(e){return Nt(e)?e.value:e}function Lt(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(Nt(e))return e.value;var r=e&&e.__ob__;return r&&r.dep.depend(),e},set:function(e){var r=t[n];Nt(r)&&!Nt(e)?r.value=e:t[n]=e}})}function Dt(e){var t=U(e)?new Array(e.length):{};for(var n in e)t[n]=Ft(e,n);return t}function Ft(e,t,n){var r=e[t];if(Nt(r))return r;var o={get value(){var r=e[t];return void 0===r?n:r},set value(n){e[t]=n}};return Re(o,Ct,!0),o}function Ut(e,t){var n,r,o=W(e);o?(n=e,r=be):(n=e.get,r=e.set);var s=We()?null:new wr(Je,n,be,{lazy:!0}),i={effect:s,get value(){return s?(s.dirty&&s.evaluate(),at.target&&s.depend(),s.value):n()},set value(e){r(e)}};return Re(i,Ct,!0),Re(i,"__v_isReadonly",o),i}var Bt,qt="watcher",Vt="".concat(qt," callback"),Ht="".concat(qt," getter"),zt="".concat(qt," cleanup"),Wt={};function Zt(e,t,n){return Gt(e,t,n)}function Gt(e,t,n){var r=void 0===n?F:n,o=r.immediate,s=r.deep,i=r.flush,a=void 0===i?"pre":i;r.onTrack,r.onTrigger;var c,u,l=Je,p=function(e,t,n){void 0===n&&(n=null);var r=er(e,null,n,l,t);return s&&r&&r.__ob__&&r.__ob__.dep.depend(),r},d=!1,f=!1;if(Nt(e)?(c=function(){return e.value},d=jt(e)):Et(e)?(c=function(){return e.__ob__.dep.depend(),e},s=!0):U(e)?(f=!0,d=e.some((function(e){return Et(e)||jt(e)})),c=function(){return e.map((function(e){return Nt(e)?e.value:Et(e)?(e.__ob__.dep.depend(),yr(e)):W(e)?p(e,Ht):void 0}))}):c=W(e)?t?function(){return p(e,Ht)}:function(){if(!l||!l._isDestroyed)return u&&u(),p(e,qt,[m])}:be,t&&s){var h=c;c=function(){return yr(h())}}var m=function(e){u=g.onStop=function(){p(e,zt)}};if(We())return m=be,t?o&&p(t,Vt,[c(),f?[]:void 0,m]):c(),be;var g=new wr(Je,c,be,{lazy:!0});g.noRecurse=!t;var y=f?[]:Wt;return g.run=function(){if(g.active)if(t){var e=g.get();(s||d||(f?e.some((function(e,t){return Te(e,y[t])})):Te(e,y)))&&(u&&u(),p(t,Vt,[e,y===Wt?void 0:y,m]),y=e)}else g.get()},"sync"===a?g.update=g.run:"post"===a?(g.post=!0,g.update=function(){return Qr(g)}):g.update=function(){if(l&&l===Je&&!l._isMounted){var e=l._preWatchers||(l._preWatchers=[]);e.indexOf(g)<0&&e.push(g)}else Qr(g)},t?o?g.run():y=g.get():"post"===a&&l?l.$once("hook:mounted",(function(){return g.get()})):g.get(),function(){g.teardown()}}var Kt=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!e&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Bt;try{return Bt=this,e()}finally{Bt=t}}},e.prototype.on=function(){Bt=this},e.prototype.off=function(){Bt=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Yt(e){return new Kt(e)}function Jt(e,t){void 0===t&&(t=Bt),t&&t.active&&t.effects.push(e)}function Xt(){return Bt}function Qt(e){Bt&&Bt.cleanups.push(e)}function en(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function tn(e,t,n){void 0===n&&(n=!1);var r=Je;if(r){var o=r.$parent&&r.$parent._provided;if(o&&e in o)return o[e];if(arguments.length>1)return n&&W(t)?t.call(r):t}}var nn=ae((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}}));function rn(e,t){function n(){var e=n.fns;if(!U(e))return er(e,null,arguments,t,"v-on handler");for(var r=e.slice(),o=0;o<r.length;o++)er(r[o],null,arguments,t,"v-on handler")}return n.fns=e,n}function on(e,t,n,r,o,s){var i,a,c,u;for(i in e)a=e[i],c=t[i],u=nn(i),B(a)||(B(c)?(B(a.fns)&&(a=e[i]=rn(a,s)),V(u.once)&&(a=e[i]=o(u.name,a,u.capture)),n(u.name,a,u.capture,u.passive,u.params)):a!==c&&(c.fns=a,e[i]=c));for(i in t)B(e[i])&&r((u=nn(i)).name,t[i],u.capture)}function sn(e,t,n){var r;e instanceof et&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function s(){n.apply(this,arguments),oe(r.fns,s)}B(o)?r=rn([s]):q(o.fns)&&V(o.merged)?(r=o).fns.push(s):r=rn([o,s]),r.merged=!0,e[t]=r}function an(e,t,n){var r=t.options.props;if(!B(r)){var o={},s=e.attrs,i=e.props;if(q(s)||q(i))for(var a in r){var c=de(a);cn(o,i,a,c,!0)||cn(o,s,a,c,!1)}return o}}function cn(e,t,n,r,o){if(q(t)){if(ie(t,n))return e[n]=t[n],o||delete t[n],!0;if(ie(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function un(e){for(var t=0;t<e.length;t++)if(U(e[t]))return Array.prototype.concat.apply([],e);return e}function ln(e){return z(e)?[nt(e)]:U(e)?dn(e):void 0}function pn(e){return q(e)&&q(e.text)&&H(e.isComment)}function dn(e,t){var n,r,o,s,i=[];for(n=0;n<e.length;n++)B(r=e[n])||"boolean"==typeof r||(s=i[o=i.length-1],U(r)?r.length>0&&(pn((r=dn(r,"".concat(t||"","_").concat(n)))[0])&&pn(s)&&(i[o]=nt(s.text+r[0].text),r.shift()),i.push.apply(i,r)):z(r)?pn(s)?i[o]=nt(s.text+r):""!==r&&i.push(nt(r)):pn(r)&&pn(s)?i[o]=nt(s.text+r.text):(V(e._isVList)&&q(r.tag)&&B(r.key)&&q(t)&&(r.key="__vlist".concat(t,"_").concat(n,"__")),i.push(r)));return i}function fn(e,t){var n,r,o,s,i=null;if(U(e)||"string"==typeof e)for(i=new Array(e.length),n=0,r=e.length;n<r;n++)i[n]=t(e[n],n);else if("number"==typeof e)for(i=new Array(e),n=0;n<e;n++)i[n]=t(n+1,n);else if(Z(e))if(Ye&&e[Symbol.iterator]){i=[];for(var a=e[Symbol.iterator](),c=a.next();!c.done;)i.push(t(c.value,i.length)),c=a.next()}else for(o=Object.keys(e),i=new Array(o.length),n=0,r=o.length;n<r;n++)s=o[n],i[n]=t(e[s],s,n);return q(i)||(i=[]),i._isVList=!0,i}function hn(e,t,n,r){var o,s=this.$scopedSlots[e];s?(n=n||{},r&&(n=ye(ye({},r),n)),o=s(n)||(W(t)?t():t)):o=this.$slots[e]||(W(t)?t():t);var i=n&&n.slot;return i?this.$createElement("template",{slot:i},o):o}function mn(e){return jo(this.$options,"filters",e,!0)||we}function gn(e,t){return U(e)?-1===e.indexOf(t):e!==t}function yn(e,t,n,r,o){var s=Ae.keyCodes[t]||n;return o&&r&&!Ae.keyCodes[t]?gn(o,r):s?gn(s,e):r?de(r)!==t:void 0===e}function vn(e,t,n,r,o){if(n&&Z(n)){U(n)&&(n=ve(n));var s=void 0,i=function(i){if("class"===i||"style"===i||re(i))s=e;else{var a=e.attrs&&e.attrs.type;s=r||Ae.mustUseProp(t,a,i)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=ue(i),u=de(i);c in s||u in s||(s[i]=n[i],o&&((e.on||(e.on={}))["update:".concat(i)]=function(e){n[i]=e}))};for(var a in n)i(a)}return e}function bn(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||wn(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),r}function _n(e,t,n){return wn(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function wn(e,t,n){if(U(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&xn(e[r],"".concat(t,"_").concat(r),n);else xn(e,t,n)}function xn(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function kn(e,t){if(t&&K(t)){var n=e.on=e.on?ye({},e.on):{};for(var r in t){var o=n[r],s=t[r];n[r]=o?[].concat(o,s):s}}return e}function Sn(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var s=e[o];U(s)?Sn(s,t,n):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return r&&(t.$key=r),t}function Tn(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function On(e,t){return"string"==typeof e?t+e:e}function En(e){e._o=_n,e._n=te,e._s=Q,e._l=fn,e._t=hn,e._q=xe,e._i=ke,e._m=bn,e._f=mn,e._k=yn,e._b=vn,e._v=nt,e._e=tt,e._u=Sn,e._g=kn,e._d=Tn,e._p=On}function jn(e,t){if(!e||!e.length)return{};for(var n={},r=0,o=e.length;r<o;r++){var s=e[r],i=s.data;if(i&&i.attrs&&i.attrs.slot&&delete i.attrs.slot,s.context!==t&&s.fnContext!==t||!i||null==i.slot)(n.default||(n.default=[])).push(s);else{var a=i.slot,c=n[a]||(n[a]=[]);"template"===s.tag?c.push.apply(c,s.children||[]):c.push(s)}}for(var u in n)n[u].every(An)&&delete n[u];return n}function An(e){return e.isComment&&!e.asyncFactory||" "===e.text}function In(e){return e.isComment&&e.asyncFactory}function Rn(e,t,n,r){var o,s=Object.keys(n).length>0,i=t?!!t.$stable:!s,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(i&&r&&r!==F&&a===r.$key&&!s&&!r.$hasNormal)return r;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=Cn(e,n,c,t[c]))}else o={};for(var u in n)u in o||(o[u]=Nn(n,u));return t&&Object.isExtensible(t)&&(t._normalized=o),Re(o,"$stable",i),Re(o,"$key",a),Re(o,"$hasNormal",s),o}function Cn(e,t,n,r){var o=function(){var t=Je;Qe(e);var n=arguments.length?r.apply(null,arguments):r({}),o=(n=n&&"object"==typeof n&&!U(n)?[n]:ln(n))&&n[0];return Qe(t),n&&(!o||1===n.length&&o.isComment&&!In(o))?void 0:n};return r.proxy&&Object.defineProperty(t,n,{get:o,enumerable:!0,configurable:!0}),o}function Nn(e,t){return function(){return e[t]}}function Pn(e){var t=e.$options,n=t.setup;if(n){var r=e._setupContext=Mn(e);Qe(e),ut();var o=er(n,null,[e._props||Tt({}),r],e,"setup");if(lt(),Qe(),W(o))t.render=o;else if(Z(o))if(e._setupState=o,o.__sfc){var s=e._setupProxy={};for(var i in o)"__sfc"!==i&&Lt(s,o,i)}else for(var i in o)Ie(i)||Lt(e,o,i)}}function Mn(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};Re(t,"_v_attr_proxy",!0),$n(t,e.$attrs,F,e,"$attrs")}return e._attrsProxy},get listeners(){return e._listenersProxy||$n(e._listenersProxy={},e.$listeners,F,e,"$listeners"),e._listenersProxy},get slots(){return Dn(e)},emit:me(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return Lt(e,t,n)}))}}}function $n(e,t,n,r,o){var s=!1;for(var i in t)i in e?t[i]!==n[i]&&(s=!0):(s=!0,Ln(e,i,r,o));for(var i in e)i in t||(s=!0,delete e[i]);return s}function Ln(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[r][t]}})}function Dn(e){return e._slotsProxy||Fn(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function Fn(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function Un(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=jn(t._renderChildren,r),e.$scopedSlots=n?Rn(e.$parent,n.data.scopedSlots,e.$slots):F,e._c=function(t,n,r,o){return Kn(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return Kn(e,t,n,r,o,!0)};var o=n&&n.data;_t(e,"$attrs",o&&o.attrs||F,null,!0),_t(e,"$listeners",t._parentListeners||F,null,!0)}var Bn=null;function qn(e){En(e.prototype),e.prototype.$nextTick=function(e){return dr(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,r=t._parentVnode;r&&e._isMounted&&(e.$scopedSlots=Rn(e.$parent,r.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Fn(e._slotsProxy,e.$scopedSlots)),e.$vnode=r;var o,s=Je,i=Bn;try{Qe(e),Bn=e,o=n.call(e._renderProxy,e.$createElement)}catch(t){Qn(t,e,"render"),o=e._vnode}finally{Bn=i,Qe(s)}return U(o)&&1===o.length&&(o=o[0]),o instanceof et||(o=tt()),o.parent=r,o}}function Vn(e,t){return(e.__esModule||Ye&&"Module"===e[Symbol.toStringTag])&&(e=e.default),Z(e)?t.extend(e):e}function Hn(e,t,n,r,o){var s=tt();return s.asyncFactory=e,s.asyncMeta={data:t,context:n,children:r,tag:o},s}function zn(e,t){if(V(e.error)&&q(e.errorComp))return e.errorComp;if(q(e.resolved))return e.resolved;var n=Bn;if(n&&q(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),V(e.loading)&&q(e.loadingComp))return e.loadingComp;if(n&&!q(e.owners)){var r=e.owners=[n],o=!0,s=null,i=null;n.$on("hook:destroyed",(function(){return oe(r,n)}));var a=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==s&&(clearTimeout(s),s=null),null!==i&&(clearTimeout(i),i=null))},c=Se((function(n){e.resolved=Vn(n,t),o?r.length=0:a(!0)})),u=Se((function(t){q(e.errorComp)&&(e.error=!0,a(!0))})),l=e(c,u);return Z(l)&&(X(l)?B(e.resolved)&&l.then(c,u):X(l.component)&&(l.component.then(c,u),q(l.error)&&(e.errorComp=Vn(l.error,t)),q(l.loading)&&(e.loadingComp=Vn(l.loading,t),0===l.delay?e.loading=!0:s=setTimeout((function(){s=null,B(e.resolved)&&B(e.error)&&(e.loading=!0,a(!1))}),l.delay||200)),q(l.timeout)&&(i=setTimeout((function(){i=null,B(e.resolved)&&u(null)}),l.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}function Wn(e){if(U(e))for(var t=0;t<e.length;t++){var n=e[t];if(q(n)&&(q(n.componentOptions)||In(n)))return n}}var Zn=1,Gn=2;function Kn(e,t,n,r,o,s){return(U(n)||z(n))&&(o=r,r=n,n=void 0),V(s)&&(o=Gn),Yn(e,t,n,r,o)}function Yn(e,t,n,r,o){if(q(n)&&q(n.__ob__))return tt();if(q(n)&&q(n.is)&&(t=n.is),!t)return tt();var s,i;if(U(r)&&W(r[0])&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),o===Gn?r=ln(r):o===Zn&&(r=un(r)),"string"==typeof t){var a=void 0;i=e.$vnode&&e.$vnode.ns||Ae.getTagNamespace(t),s=Ae.isReservedTag(t)?new et(Ae.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!q(a=jo(e.$options,"components",t))?new et(t,n,r,void 0,void 0,e):lo(a,n,e,r,t)}else s=lo(t,n,e,r);return U(s)?s:q(s)?(q(i)&&Jn(s,i),q(n)&&Xn(n),s):tt()}function Jn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),q(e.children))for(var r=0,o=e.children.length;r<o;r++){var s=e.children[r];q(s.tag)&&(B(s.ns)||V(n)&&"svg"!==s.tag)&&Jn(s,t,n)}}function Xn(e){Z(e.style)&&yr(e.style),Z(e.class)&&yr(e.class)}function Qn(e,t,n){ut();try{if(t)for(var r=t;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var s=0;s<o.length;s++)try{if(!1===o[s].call(r,e,t,n))return}catch(e){tr(e,r,"errorCaptured hook")}}tr(e,t,n)}finally{lt()}}function er(e,t,n,r,o){var s;try{(s=n?e.apply(t,n):e.call(t))&&!s._isVue&&X(s)&&!s._handled&&(s.catch((function(e){return Qn(e,r,o+" (Promise/async)")})),s._handled=!0)}catch(e){Qn(e,r,o)}return s}function tr(e,t,n){if(Ae.errorHandler)try{return Ae.errorHandler.call(null,e,t,n)}catch(t){t!==e&&nr(t,null,"config.errorHandler")}nr(e,t,n)}function nr(e,t,n){if(!Me||void 0===D)throw e;D.error(e)}var rr,or=!1,sr=[],ir=!1;function ar(){ir=!1;var e=sr.slice(0);sr.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&Ge(Promise)){var cr=Promise.resolve();rr=function(){cr.then(ar),Ue&&setTimeout(be)},or=!0}else if(Le||"undefined"==typeof MutationObserver||!Ge(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())rr="undefined"!=typeof setImmediate&&Ge(setImmediate)?function(){setImmediate(ar)}:function(){setTimeout(ar,0)};else{var ur=1,lr=new MutationObserver(ar),pr=document.createTextNode(String(ur));lr.observe(pr,{characterData:!0}),rr=function(){ur=(ur+1)%2,pr.data=String(ur)},or=!0}function dr(e,t){var n;if(sr.push((function(){if(e)try{e.call(t)}catch(e){Qn(e,t,"nextTick")}else n&&n(t)})),ir||(ir=!0,rr()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}function fr(e){return function(t,n){if(void 0===n&&(n=Je),n)return hr(n,e,t)}}function hr(e,t,n){var r=e.$options;r[t]=_o(r[t],n)}fr("beforeMount"),fr("mounted"),fr("beforeUpdate"),fr("updated"),fr("beforeDestroy"),fr("destroyed"),fr("activated"),fr("deactivated"),fr("serverPrefetch"),fr("renderTracked"),fr("renderTriggered"),fr("errorCaptured");var mr="2.7.16",gr=new Ke;function yr(e){return vr(e,gr),gr.clear(),e}function vr(e,t){var n,r,o=U(e);if(!(!o&&!Z(e)||e.__v_skip||Object.isFrozen(e)||e instanceof et)){if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(o)for(n=e.length;n--;)vr(e[n],t);else if(Nt(e))vr(e.value,t);else for(n=(r=Object.keys(e)).length;n--;)vr(e[r[n]],t)}}var br,_r=0,wr=function(){function e(e,t,n,r,o){Jt(this,Bt&&!Bt._vm?Bt:e?e._scope:void 0),(this.vm=e)&&o&&(e._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++_r,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Ke,this.newDepIds=new Ke,this.expression="",W(t)?this.getter=t:(this.getter=Ne(t),this.getter||(this.getter=be)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;ut(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Qn(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&yr(e),lt(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qr(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||Z(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');er(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&oe(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function xr(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Or(e,t)}function kr(e,t){br.$on(e,t)}function Sr(e,t){br.$off(e,t)}function Tr(e,t){var n=br;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function Or(e,t,n){br=e,on(t,n||{},kr,Sr,Tr,e),br=void 0}function Er(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(U(e))for(var o=0,s=e.length;o<s;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(U(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var s,i=n._events[e];if(!i)return n;if(!t)return n._events[e]=null,n;for(var a=i.length;a--;)if((s=i[a])===t||s.fn===t){i.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?ge(n):n;for(var r=ge(arguments,1),o='event handler for "'.concat(e,'"'),s=0,i=n.length;s<i;s++)er(n[s],t,r,t,o)}return t}}var jr=null;function Ar(e){var t=jr;return jr=e,function(){jr=t}}function Ir(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Rr(e){e.prototype._update=function(e,t){var n=this,r=n.$el,o=n._vnode,s=Ar(n);n._vnode=e,n.$el=o?n.__patch__(o,e):n.__patch__(n.$el,e,t,!1),s(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var i=n;i&&i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode;)i.$parent.$el=i.$el,i=i.$parent},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Lr(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||oe(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Lr(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Cr(e,t,n){var r;e.$el=t,e.$options.render||(e.$options.render=tt),Lr(e,"beforeMount"),r=function(){e._update(e._render(),n)},new wr(e,r,be,{before:function(){e._isMounted&&!e._isDestroyed&&Lr(e,"beforeUpdate")}},!0),n=!1;var o=e._preWatchers;if(o)for(var s=0;s<o.length;s++)o[s].run();return null==e.$vnode&&(e._isMounted=!0,Lr(e,"mounted")),e}function Nr(e,t,n,r,o){var s=r.data.scopedSlots,i=e.$scopedSlots,a=!!(s&&!s.$stable||i!==F&&!i.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),c=!!(o||e.$options._renderChildren||a),u=e.$vnode;e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=o;var l=r.data.attrs||F;e._attrsProxy&&$n(e._attrsProxy,l,u.data&&u.data.attrs||F,e,"$attrs")&&(c=!0),e.$attrs=l,n=n||F;var p=e.$options._parentListeners;if(e._listenersProxy&&$n(e._listenersProxy,n,p||F,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,Or(e,n,p),t&&e.$options.props){gt(!1);for(var d=e._props,f=e.$options._propKeys||[],h=0;h<f.length;h++){var m=f[h],g=e.$options.props;d[m]=Ao(m,g,t,e)}gt(!0),e.$options.propsData=t}c&&(e.$slots=jn(o,r.context),e.$forceUpdate())}function Pr(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Mr(e,t){if(t){if(e._directInactive=!1,Pr(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Mr(e.$children[n]);Lr(e,"activated")}}function $r(e,t){if(!(t&&(e._directInactive=!0,Pr(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)$r(e.$children[n]);Lr(e,"deactivated")}}function Lr(e,t,n,r){void 0===r&&(r=!0),ut();var o=Je,s=Xt();r&&Qe(e);var i=e.$options[t],a="".concat(t," hook");if(i)for(var c=0,u=i.length;c<u;c++)er(i[c],e,n||null,e,a);e._hasHookEvent&&e.$emit("hook:"+t),r&&(Qe(o),s&&s.on()),lt()}var Dr=[],Fr=[],Ur={},Br=!1,qr=!1,Vr=0;function Hr(){Vr=Dr.length=Fr.length=0,Ur={},Br=qr=!1}var zr=0,Wr=Date.now;if(Me&&!Le){var Zr=window.performance;Zr&&"function"==typeof Zr.now&&Wr()>document.createEvent("Event").timeStamp&&(Wr=function(){return Zr.now()})}var Gr=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Kr(){var e,t;for(zr=Wr(),qr=!0,Dr.sort(Gr),Vr=0;Vr<Dr.length;Vr++)(e=Dr[Vr]).before&&e.before(),t=e.id,Ur[t]=null,e.run();var n=Fr.slice(),r=Dr.slice();Hr(),Xr(n),Yr(r),it(),Ze&&Ae.devtools&&Ze.emit("flush")}function Yr(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Lr(r,"updated")}}function Jr(e){e._inactive=!1,Fr.push(e)}function Xr(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Mr(e[t],!0)}function Qr(e){var t=e.id;if(null==Ur[t]&&(e!==at.target||!e.noRecurse)){if(Ur[t]=!0,qr){for(var n=Dr.length-1;n>Vr&&Dr[n].id>e.id;)n--;Dr.splice(n+1,0,e)}else Dr.push(e);Br||(Br=!0,dr(Kr))}}function eo(e){var t=e.$options.provide;if(t){var n=W(t)?t.call(e):t;if(!Z(n))return;for(var r=en(e),o=Ye?Reflect.ownKeys(n):Object.keys(n),s=0;s<o.length;s++){var i=o[s];Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))}}}function to(e){var t=no(e.$options.inject,e);t&&(gt(!1),Object.keys(t).forEach((function(n){_t(e,n,t[n])})),gt(!0))}function no(e,t){if(e){for(var n=Object.create(null),r=Ye?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++){var s=r[o];if("__ob__"!==s){var i=e[s].from;if(i in t._provided)n[s]=t._provided[i];else if("default"in e[s]){var a=e[s].default;n[s]=W(a)?a.call(t):a}}}return n}}function ro(e,t,n,r,o){var s,i=this,a=o.options;ie(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var c=V(a._compiled),u=!c;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||F,this.injections=no(a.inject,r),this.slots=function(){return i.$slots||Rn(r,e.scopedSlots,i.$slots=jn(n,r)),i.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Rn(r,e.scopedSlots,this.slots())}}),c&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=Rn(r,e.scopedSlots,this.$slots)),a._scopeId?this._c=function(e,t,n,o){var i=Kn(s,e,t,n,o,u);return i&&!U(i)&&(i.fnScopeId=a._scopeId,i.fnContext=r),i}:this._c=function(e,t,n,r){return Kn(s,e,t,n,r,u)}}function oo(e,t,n,r,o){var s=e.options,i={},a=s.props;if(q(a))for(var c in a)i[c]=Ao(c,a,t||F);else q(n.attrs)&&io(i,n.attrs),q(n.props)&&io(i,n.props);var u=new ro(n,i,o,r,e),l=s.render.call(null,u._c,u);if(l instanceof et)return so(l,n,u.parent,s,u);if(U(l)){for(var p=ln(l)||[],d=new Array(p.length),f=0;f<p.length;f++)d[f]=so(p[f],n,u.parent,s,u);return d}}function so(e,t,n,r,o){var s=rt(e);return s.fnContext=n,s.fnOptions=r,t.slot&&((s.data||(s.data={})).slot=t.slot),s}function io(e,t){for(var n in t)e[ue(n)]=t[n]}function ao(e){return e.name||e.__name||e._componentTag}En(ro.prototype);var co={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;co.prepatch(n,n)}else(e.componentInstance=po(e,jr)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;Nr(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Lr(n,"mounted")),e.data.keepAlive&&(t._isMounted?Jr(n):Mr(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?$r(t,!0):t.$destroy())}},uo=Object.keys(co);function lo(e,t,n,r,o){if(!B(e)){var s=n.$options._base;if(Z(e)&&(e=s.extend(e)),"function"==typeof e){var i;if(B(e.cid)&&void 0===(e=zn(i=e,s)))return Hn(i,t,n,r,o);t=t||{},Qo(e),q(t.model)&&mo(e.options,t);var a=an(t,e,o);if(V(e.options.functional))return oo(e,a,t,n,r);var c=t.on;if(t.on=t.nativeOn,V(e.options.abstract)){var u=t.slot;t={},u&&(t.slot=u)}fo(t);var l=ao(e.options)||o;return new et("vue-component-".concat(e.cid).concat(l?"-".concat(l):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:a,listeners:c,tag:o,children:r},i)}}}function po(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return q(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function fo(e){for(var t=e.hook||(e.hook={}),n=0;n<uo.length;n++){var r=uo[n],o=t[r],s=co[r];o===s||o&&o._merged||(t[r]=o?ho(s,o):s)}}function ho(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function mo(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),s=o[r],i=t.model.callback;q(s)?(U(s)?-1===s.indexOf(i):s!==i)&&(o[r]=[i].concat(s)):o[r]=i}var go=be,yo=Ae.optionMergeStrategies;function vo(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var r,o,s,i=Ye?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++)"__ob__"!==(r=i[a])&&(o=e[r],s=t[r],n&&ie(e,r)?o!==s&&K(o)&&K(s)&&vo(o,s):wt(e,r,s));return e}function bo(e,t,n){return n?function(){var r=W(t)?t.call(n,n):t,o=W(e)?e.call(n,n):e;return r?vo(r,o):o}:t?e?function(){return vo(W(t)?t.call(this,this):t,W(e)?e.call(this,this):e)}:t:e}function _o(e,t){var n=t?e?e.concat(t):U(t)?t:[t]:e;return n?wo(n):n}function wo(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function xo(e,t,n,r){var o=Object.create(e||null);return t?ye(o,t):o}yo.data=function(e,t,n){return n?bo(e,t,n):t&&"function"!=typeof t?e:bo(e,t)},je.forEach((function(e){yo[e]=_o})),Ee.forEach((function(e){yo[e+"s"]=xo})),yo.watch=function(e,t,n,r){if(e===Ve&&(e=void 0),t===Ve&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var s in ye(o,e),t){var i=o[s],a=t[s];i&&!U(i)&&(i=[i]),o[s]=i?i.concat(a):U(a)?a:[a]}return o},yo.props=yo.methods=yo.inject=yo.computed=function(e,t,n,r){if(!e)return t;var o=Object.create(null);return ye(o,e),t&&ye(o,t),o},yo.provide=function(e,t){return e?function(){var n=Object.create(null);return vo(n,W(e)?e.call(this):e),t&&vo(n,W(t)?t.call(this):t,!1),n}:t};var ko=function(e,t){return void 0===t?e:t};function So(e,t){var n=e.props;if(n){var r,o,s={};if(U(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(s[ue(o)]={type:null});else if(K(n))for(var i in n)o=n[i],s[ue(i)]=K(o)?o:{type:o};e.props=s}}function To(e,t){var n=e.inject;if(n){var r=e.inject={};if(U(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(K(n))for(var s in n){var i=n[s];r[s]=K(i)?ye({from:s},i):{from:i}}}}function Oo(e){var t=e.directives;if(t)for(var n in t){var r=t[n];W(r)&&(t[n]={bind:r,update:r})}}function Eo(e,t,n){if(W(t)&&(t=t.options),So(t,n),To(t,n),Oo(t),!t._base&&(t.extends&&(e=Eo(e,t.extends,n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=Eo(e,t.mixins[r],n);var s,i={};for(s in e)a(s);for(s in t)ie(e,s)||a(s);function a(r){var o=yo[r]||ko;i[r]=o(e[r],t[r],n,r)}return i}function jo(e,t,n,r){if("string"==typeof n){var o=e[t];if(ie(o,n))return o[n];var s=ue(n);if(ie(o,s))return o[s];var i=le(s);return ie(o,i)?o[i]:o[n]||o[s]||o[i]}}function Ao(e,t,n,r){var o=t[e],s=!ie(n,e),i=n[e],a=Po(Boolean,o.type);if(a>-1)if(s&&!ie(o,"default"))i=!1;else if(""===i||i===de(e)){var c=Po(String,o.type);(c<0||a<c)&&(i=!0)}if(void 0===i){i=Io(r,o,e);var u=mt;gt(!0),bt(i),gt(u)}return i}function Io(e,t,n){if(ie(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:W(r)&&"Function"!==Co(t.type)?r.call(e):r}}var Ro=/^\s*function (\w+)/;function Co(e){var t=e&&e.toString().match(Ro);return t?t[1]:""}function No(e,t){return Co(e)===Co(t)}function Po(e,t){if(!U(t))return No(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(No(t[n],e))return n;return-1}var Mo={enumerable:!0,configurable:!0,get:be,set:be};function $o(e,t,n){Mo.get=function(){return this[t][n]},Mo.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Mo)}function Lo(e){var t=e.$options;if(t.props&&Do(e,t.props),Pn(e),t.methods&&Wo(e,t.methods),t.data)Fo(e);else{var n=bt(e._data={});n&&n.vmCount++}t.computed&&qo(e,t.computed),t.watch&&t.watch!==Ve&&Zo(e,t.watch)}function Do(e,t){var n=e.$options.propsData||{},r=e._props=Tt({}),o=e.$options._propKeys=[];!e.$parent||gt(!1);var s=function(s){o.push(s);var i=Ao(s,t,n,e);_t(r,s,i,void 0,!0),s in e||$o(e,"_props",s)};for(var i in t)s(i);gt(!0)}function Fo(e){var t=e.$options.data;K(t=e._data=W(t)?Uo(t,e):t||{})||(t={});for(var n=Object.keys(t),r=e.$options.props,o=(e.$options.methods,n.length);o--;){var s=n[o];r&&ie(r,s)||Ie(s)||$o(e,"_data",s)}var i=bt(t);i&&i.vmCount++}function Uo(e,t){ut();try{return e.call(t,t)}catch(e){return Qn(e,t,"data()"),{}}finally{lt()}}var Bo={lazy:!0};function qo(e,t){var n=e._computedWatchers=Object.create(null),r=We();for(var o in t){var s=t[o],i=W(s)?s:s.get;r||(n[o]=new wr(e,i||be,be,Bo)),o in e||Vo(e,o,s)}}function Vo(e,t,n){var r=!We();W(n)?(Mo.get=r?Ho(t):zo(n),Mo.set=be):(Mo.get=n.get?r&&!1!==n.cache?Ho(t):zo(n.get):be,Mo.set=n.set||be),Object.defineProperty(e,t,Mo)}function Ho(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),at.target&&t.depend(),t.value}}function zo(e){return function(){return e.call(this,this)}}function Wo(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?be:me(t[n],e)}function Zo(e,t){for(var n in t){var r=t[n];if(U(r))for(var o=0;o<r.length;o++)Go(e,n,r[o]);else Go(e,n,r)}}function Go(e,t,n,r){return K(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Ko(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=wt,e.prototype.$delete=xt,e.prototype.$watch=function(e,t,n){var r=this;if(K(t))return Go(r,e,t,n);(n=n||{}).user=!0;var o=new wr(r,e,t,n);if(n.immediate){var s='callback for immediate watcher "'.concat(o.expression,'"');ut(),er(t,r,[o.value],r,s),lt()}return function(){o.teardown()}}}var Yo=0;function Jo(e){e.prototype._init=function(e){var t=this;t._uid=Yo++,t._isVue=!0,t.__v_skip=!0,t._scope=new Kt(!0),t._scope.parent=void 0,t._scope._vm=!0,e&&e._isComponent?Xo(t,e):t.$options=Eo(Qo(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Ir(t),xr(t),Un(t),Lr(t,"beforeCreate",void 0,!1),to(t),Lo(t),eo(t),Lr(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Xo(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Qo(e){var t=e.options;if(e.super){var n=Qo(e.super);if(n!==e.superOptions){e.superOptions=n;var r=es(e);r&&ye(e.extendOptions,r),(t=e.options=Eo(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function es(e){var t,n=e.options,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=n[o]);return t}function ts(e){this._init(e)}function ns(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=ge(arguments,1);return n.unshift(this),W(e.install)?e.install.apply(e,n):W(e)&&e.apply(null,n),t.push(e),this}}function rs(e){e.mixin=function(e){return this.options=Eo(this.options,e),this}}function os(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var s=ao(e)||ao(n.options),i=function(e){this._init(e)};return i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.cid=t++,i.options=Eo(n.options,e),i.super=n,i.options.props&&ss(i),i.options.computed&&is(i),i.extend=n.extend,i.mixin=n.mixin,i.use=n.use,Ee.forEach((function(e){i[e]=n[e]})),s&&(i.options.components[s]=i),i.superOptions=n.options,i.extendOptions=e,i.sealedOptions=ye({},i.options),o[r]=i,i}}function ss(e){var t=e.options.props;for(var n in t)$o(e.prototype,"_props",n)}function is(e){var t=e.options.computed;for(var n in t)Vo(e.prototype,n,t[n])}function as(e){Ee.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&K(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&W(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function cs(e){return e&&(ao(e.Ctor.options)||e.tag)}function us(e,t){return U(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!Y(e)&&e.test(t)}function ls(e,t){var n=e.cache,r=e.keys,o=e._vnode,s=e.$vnode;for(var i in n){var a=n[i];if(a){var c=a.name;c&&!t(c)&&ps(n,i,r,o)}}s.componentOptions.children=void 0}function ps(e,t,n,r){var o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,oe(n,t)}Jo(ts),Ko(ts),Er(ts),Rr(ts),qn(ts);var ds=[String,RegExp,Array],fs={name:"keep-alive",abstract:!0,props:{include:ds,exclude:ds,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,o=e.keyToCache;if(r){var s=r.tag,i=r.componentInstance,a=r.componentOptions;t[o]={name:cs(a),tag:s,componentInstance:i},n.push(o),this.max&&n.length>parseInt(this.max)&&ps(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)ps(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){ls(e,(function(e){return us(t,e)}))})),this.$watch("exclude",(function(t){ls(e,(function(e){return!us(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Wn(e),n=t&&t.componentOptions;if(n){var r=cs(n),o=this,s=o.include,i=o.exclude;if(s&&(!r||!us(s,r))||i&&r&&us(i,r))return t;var a=this,c=a.cache,u=a.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;c[l]?(t.componentInstance=c[l].componentInstance,oe(u,l),u.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}},hs={KeepAlive:fs};function ms(e){var t={get:function(){return Ae}};Object.defineProperty(e,"config",t),e.util={warn:go,extend:ye,mergeOptions:Eo,defineReactive:_t},e.set=wt,e.delete=xt,e.nextTick=dr,e.observable=function(e){return bt(e),e},e.options=Object.create(null),Ee.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,ye(e.options.components,hs),ns(e),rs(e),os(e),as(e)}ms(ts),Object.defineProperty(ts.prototype,"$isServer",{get:We}),Object.defineProperty(ts.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ts,"FunctionalRenderContext",{value:ro}),ts.version=mr;var gs=ne("style,class"),ys=ne("input,textarea,option,select,progress"),vs=function(e,t,n){return"value"===n&&ys(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},bs=ne("contenteditable,draggable,spellcheck"),_s=ne("events,caret,typing,plaintext-only"),ws=function(e,t){return Os(t)||"false"===t?"false":"contenteditable"===e&&_s(t)?t:"true"},xs=ne("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ks="http://www.w3.org/1999/xlink",Ss=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ts=function(e){return Ss(e)?e.slice(6,e.length):""},Os=function(e){return null==e||!1===e};function Es(e){for(var t=e.data,n=e,r=e;q(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=js(r.data,t));for(;q(n=n.parent);)n&&n.data&&(t=js(t,n.data));return As(t.staticClass,t.class)}function js(e,t){return{staticClass:Is(e.staticClass,t.staticClass),class:q(e.class)?[e.class,t.class]:t.class}}function As(e,t){return q(e)||q(t)?Is(e,Rs(t)):""}function Is(e,t){return e?t?e+" "+t:e:t||""}function Rs(e){return Array.isArray(e)?Cs(e):Z(e)?Ns(e):"string"==typeof e?e:""}function Cs(e){for(var t,n="",r=0,o=e.length;r<o;r++)q(t=Rs(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function Ns(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var Ps={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ms=ne("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),$s=ne("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ls=function(e){return Ms(e)||$s(e)};function Ds(e){return $s(e)?"svg":"math"===e?"math":void 0}var Fs=Object.create(null);function Us(e){if(!Me)return!0;if(Ls(e))return!1;if(e=e.toLowerCase(),null!=Fs[e])return Fs[e];var t=document.createElement(e);return e.indexOf("-")>-1?Fs[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Fs[e]=/HTMLUnknownElement/.test(t.toString())}var Bs=ne("text,number,password,search,email,tel,url");function qs(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}function Vs(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Hs(e,t){return document.createElementNS(Ps[e],t)}function zs(e){return document.createTextNode(e)}function Ws(e){return document.createComment(e)}function Zs(e,t,n){e.insertBefore(t,n)}function Gs(e,t){e.removeChild(t)}function Ks(e,t){e.appendChild(t)}function Ys(e){return e.parentNode}function Js(e){return e.nextSibling}function Xs(e){return e.tagName}function Qs(e,t){e.textContent=t}function ei(e,t){e.setAttribute(t,"")}var ti=Object.freeze({__proto__:null,createElement:Vs,createElementNS:Hs,createTextNode:zs,createComment:Ws,insertBefore:Zs,removeChild:Gs,appendChild:Ks,parentNode:Ys,nextSibling:Js,tagName:Xs,setTextContent:Qs,setStyleScope:ei}),ni={create:function(e,t){ri(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ri(e,!0),ri(t))},destroy:function(e){ri(e,!0)}};function ri(e,t){var n=e.data.ref;if(q(n)){var r=e.context,o=e.componentInstance||e.elm,s=t?null:o,i=t?void 0:o;if(W(n))er(n,r,[s],r,"template ref function");else{var a=e.data.refInFor,c="string"==typeof n||"number"==typeof n,u=Nt(n),l=r.$refs;if(c||u)if(a){var p=c?l[n]:n.value;t?U(p)&&oe(p,o):U(p)?p.includes(o)||p.push(o):c?(l[n]=[o],oi(r,n,l[n])):n.value=[o]}else if(c){if(t&&l[n]!==o)return;l[n]=i,oi(r,n,s)}else if(u){if(t&&n.value!==o)return;n.value=s}}}}function oi(e,t,n){var r=e._setupState;r&&ie(r,t)&&(Nt(r[t])?r[t].value=n:r[t]=n)}var si=new et("",{},[]),ii=["create","activate","update","remove","destroy"];function ai(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&q(e.data)===q(t.data)&&ci(e,t)||V(e.isAsyncPlaceholder)&&B(t.asyncFactory.error))}function ci(e,t){if("input"!==e.tag)return!0;var n,r=q(n=e.data)&&q(n=n.attrs)&&n.type,o=q(n=t.data)&&q(n=n.attrs)&&n.type;return r===o||Bs(r)&&Bs(o)}function ui(e,t,n){var r,o,s={};for(r=t;r<=n;++r)q(o=e[r].key)&&(s[o]=r);return s}function li(e){var t,n,r={},o=e.modules,s=e.nodeOps;for(t=0;t<ii.length;++t)for(r[ii[t]]=[],n=0;n<o.length;++n)q(o[n][ii[t]])&&r[ii[t]].push(o[n][ii[t]]);function i(e){return new et(s.tagName(e).toLowerCase(),{},[],void 0,e)}function a(e,t){function n(){0==--n.listeners&&c(e)}return n.listeners=t,n}function c(e){var t=s.parentNode(e);q(t)&&s.removeChild(t,e)}function u(e,t,n,r,o,i,a){if(q(e.elm)&&q(i)&&(e=i[a]=rt(e)),e.isRootInsert=!o,!l(e,t,n,r)){var c=e.data,u=e.children,p=e.tag;q(p)?(e.elm=e.ns?s.createElementNS(e.ns,p):s.createElement(p,e),y(e),h(e,u,t),q(c)&&g(e,t),f(n,e.elm,r)):V(e.isComment)?(e.elm=s.createComment(e.text),f(n,e.elm,r)):(e.elm=s.createTextNode(e.text),f(n,e.elm,r))}}function l(e,t,n,r){var o=e.data;if(q(o)){var s=q(e.componentInstance)&&o.keepAlive;if(q(o=o.hook)&&q(o=o.init)&&o(e,!1),q(e.componentInstance))return p(e,t),f(n,e.elm,r),V(s)&&d(e,t,n,r),!0}}function p(e,t){q(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(g(e,t),y(e)):(ri(e),t.push(e))}function d(e,t,n,o){for(var s,i=e;i.componentInstance;)if(q(s=(i=i.componentInstance._vnode).data)&&q(s=s.transition)){for(s=0;s<r.activate.length;++s)r.activate[s](si,i);t.push(i);break}f(n,e.elm,o)}function f(e,t,n){q(e)&&(q(n)?s.parentNode(n)===e&&s.insertBefore(e,t,n):s.appendChild(e,t))}function h(e,t,n){if(U(t))for(var r=0;r<t.length;++r)u(t[r],n,e.elm,null,!0,t,r);else z(e.text)&&s.appendChild(e.elm,s.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return q(e.tag)}function g(e,n){for(var o=0;o<r.create.length;++o)r.create[o](si,e);q(t=e.data.hook)&&(q(t.create)&&t.create(si,e),q(t.insert)&&n.push(e))}function y(e){var t;if(q(t=e.fnScopeId))s.setStyleScope(e.elm,t);else for(var n=e;n;)q(t=n.context)&&q(t=t.$options._scopeId)&&s.setStyleScope(e.elm,t),n=n.parent;q(t=jr)&&t!==e.context&&t!==e.fnContext&&q(t=t.$options._scopeId)&&s.setStyleScope(e.elm,t)}function v(e,t,n,r,o,s){for(;r<=o;++r)u(n[r],s,e,t,!1,n,r)}function b(e){var t,n,o=e.data;if(q(o))for(q(t=o.hook)&&q(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(q(t=e.children))for(n=0;n<e.children.length;++n)b(e.children[n])}function _(e,t,n){for(;t<=n;++t){var r=e[t];q(r)&&(q(r.tag)?(w(r),b(r)):c(r.elm))}}function w(e,t){if(q(t)||q(e.data)){var n,o=r.remove.length+1;for(q(t)?t.listeners+=o:t=a(e.elm,o),q(n=e.componentInstance)&&q(n=n._vnode)&&q(n.data)&&w(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);q(n=e.data.hook)&&q(n=n.remove)?n(e,t):t()}else c(e.elm)}function x(e,t,n,r,o){for(var i,a,c,l=0,p=0,d=t.length-1,f=t[0],h=t[d],m=n.length-1,g=n[0],y=n[m],b=!o;l<=d&&p<=m;)B(f)?f=t[++l]:B(h)?h=t[--d]:ai(f,g)?(S(f,g,r,n,p),f=t[++l],g=n[++p]):ai(h,y)?(S(h,y,r,n,m),h=t[--d],y=n[--m]):ai(f,y)?(S(f,y,r,n,m),b&&s.insertBefore(e,f.elm,s.nextSibling(h.elm)),f=t[++l],y=n[--m]):ai(h,g)?(S(h,g,r,n,p),b&&s.insertBefore(e,h.elm,f.elm),h=t[--d],g=n[++p]):(B(i)&&(i=ui(t,l,d)),B(a=q(g.key)?i[g.key]:k(g,t,l,d))?u(g,r,e,f.elm,!1,n,p):ai(c=t[a],g)?(S(c,g,r,n,p),t[a]=void 0,b&&s.insertBefore(e,c.elm,f.elm)):u(g,r,e,f.elm,!1,n,p),g=n[++p]);l>d?v(e,B(n[m+1])?null:n[m+1].elm,n,p,m,r):p>m&&_(t,l,d)}function k(e,t,n,r){for(var o=n;o<r;o++){var s=t[o];if(q(s)&&ai(e,s))return o}}function S(e,t,n,o,i,a){if(e!==t){q(t.elm)&&q(o)&&(t=o[i]=rt(t));var c=t.elm=e.elm;if(V(e.isAsyncPlaceholder))q(t.asyncFactory.resolved)?E(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(V(t.isStatic)&&V(e.isStatic)&&t.key===e.key&&(V(t.isCloned)||V(t.isOnce)))t.componentInstance=e.componentInstance;else{var u,l=t.data;q(l)&&q(u=l.hook)&&q(u=u.prepatch)&&u(e,t);var p=e.children,d=t.children;if(q(l)&&m(t)){for(u=0;u<r.update.length;++u)r.update[u](e,t);q(u=l.hook)&&q(u=u.update)&&u(e,t)}B(t.text)?q(p)&&q(d)?p!==d&&x(c,p,d,n,a):q(d)?(q(e.text)&&s.setTextContent(c,""),v(c,null,d,0,d.length-1,n)):q(p)?_(p,0,p.length-1):q(e.text)&&s.setTextContent(c,""):e.text!==t.text&&s.setTextContent(c,t.text),q(l)&&q(u=l.hook)&&q(u=u.postpatch)&&u(e,t)}}}function T(e,t,n){if(V(n)&&q(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var O=ne("attrs,class,staticClass,staticStyle,key");function E(e,t,n,r){var o,s=t.tag,i=t.data,a=t.children;if(r=r||i&&i.pre,t.elm=e,V(t.isComment)&&q(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(q(i)&&(q(o=i.hook)&&q(o=o.init)&&o(t,!0),q(o=t.componentInstance)))return p(t,n),!0;if(q(s)){if(q(a))if(e.hasChildNodes())if(q(o=i)&&q(o=o.domProps)&&q(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var c=!0,u=e.firstChild,l=0;l<a.length;l++){if(!u||!E(u,a[l],n,r)){c=!1;break}u=u.nextSibling}if(!c||u)return!1}else h(t,a,n);if(q(i)){var d=!1;for(var f in i)if(!O(f)){d=!0,g(t,n);break}!d&&i.class&&yr(i.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,o){if(!B(t)){var a=!1,c=[];if(B(e))a=!0,u(t,c);else{var l=q(e.nodeType);if(!l&&ai(e,t))S(e,t,c,null,null,o);else{if(l){if(1===e.nodeType&&e.hasAttribute(Oe)&&(e.removeAttribute(Oe),n=!0),V(n)&&E(e,t,c))return T(t,c,!0),e;e=i(e)}var p=e.elm,d=s.parentNode(p);if(u(t,c,p._leaveCb?null:d,s.nextSibling(p)),q(t.parent))for(var f=t.parent,h=m(t);f;){for(var g=0;g<r.destroy.length;++g)r.destroy[g](f);if(f.elm=t.elm,h){for(var y=0;y<r.create.length;++y)r.create[y](si,f);var v=f.data.hook.insert;if(v.merged)for(var w=v.fns.slice(1),x=0;x<w.length;x++)w[x]()}else ri(f);f=f.parent}q(d)?_([e],0,0):q(e.tag)&&b(e)}}return T(t,c,a),t.elm}q(e)&&b(e)}}var pi={create:di,update:di,destroy:function(e){di(e,si)}};function di(e,t){(e.data.directives||t.data.directives)&&fi(e,t)}function fi(e,t){var n,r,o,s=e===si,i=t===si,a=mi(e.data.directives,e.context),c=mi(t.data.directives,t.context),u=[],l=[];for(n in c)r=a[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,yi(o,"update",t,e),o.def&&o.def.componentUpdated&&l.push(o)):(yi(o,"bind",t,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var p=function(){for(var n=0;n<u.length;n++)yi(u[n],"inserted",t,e)};s?sn(t,"insert",p):p()}if(l.length&&sn(t,"postpatch",(function(){for(var n=0;n<l.length;n++)yi(l[n],"componentUpdated",t,e)})),!s)for(n in a)c[n]||yi(a[n],"unbind",e,e,i)}var hi=Object.create(null);function mi(e,t){var n,r,o=Object.create(null);if(!e)return o;for(n=0;n<e.length;n++){if((r=e[n]).modifiers||(r.modifiers=hi),o[gi(r)]=r,t._setupState&&t._setupState.__sfc){var s=r.def||jo(t,"_setupState","v-"+r.name);r.def="function"==typeof s?{bind:s,update:s}:s}r.def=r.def||jo(t.$options,"directives",r.name,!0)}return o}function gi(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function yi(e,t,n,r,o){var s=e.def&&e.def[t];if(s)try{s(n.elm,e,n,r,o)}catch(r){Qn(r,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var vi=[ni,pi];function bi(e,t){var n=t.componentOptions;if(!(q(n)&&!1===n.Ctor.options.inheritAttrs||B(e.data.attrs)&&B(t.data.attrs))){var r,o,s=t.elm,i=e.data.attrs||{},a=t.data.attrs||{};for(r in(q(a.__ob__)||V(a._v_attr_proxy))&&(a=t.data.attrs=ye({},a)),a)o=a[r],i[r]!==o&&_i(s,r,o,t.data.pre);for(r in(Le||Fe)&&a.value!==i.value&&_i(s,"value",a.value),i)B(a[r])&&(Ss(r)?s.removeAttributeNS(ks,Ts(r)):bs(r)||s.removeAttribute(r))}}function _i(e,t,n,r){r||e.tagName.indexOf("-")>-1?wi(e,t,n):xs(t)?Os(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):bs(t)?e.setAttribute(t,ws(t,n)):Ss(t)?Os(n)?e.removeAttributeNS(ks,Ts(t)):e.setAttributeNS(ks,t,n):wi(e,t,n)}function wi(e,t,n){if(Os(n))e.removeAttribute(t);else{if(Le&&!De&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var xi={create:bi,update:bi};function ki(e,t){var n=t.elm,r=t.data,o=e.data;if(!(B(r.staticClass)&&B(r.class)&&(B(o)||B(o.staticClass)&&B(o.class)))){var s=Es(t),i=n._transitionClasses;q(i)&&(s=Is(s,Rs(i))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Si,Ti={create:ki,update:ki},Oi="__r",Ei="__c";function ji(e){if(q(e[Oi])){var t=Le?"change":"input";e[t]=[].concat(e[Oi],e[t]||[]),delete e[Oi]}q(e[Ei])&&(e.change=[].concat(e[Ei],e.change||[]),delete e[Ei])}function Ai(e,t,n){var r=Si;return function o(){null!==t.apply(null,arguments)&&Ci(e,o,n,r)}}var Ii=or&&!(qe&&Number(qe[1])<=53);function Ri(e,t,n,r){if(Ii){var o=zr,s=t;t=s._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return s.apply(this,arguments)}}Si.addEventListener(e,t,He?{capture:n,passive:r}:n)}function Ci(e,t,n,r){(r||Si).removeEventListener(e,t._wrapper||t,n)}function Ni(e,t){if(!B(e.data.on)||!B(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Si=t.elm||e.elm,ji(n),on(n,r,Ri,Ci,Ai,t.context),Si=void 0}}var Pi,Mi={create:Ni,update:Ni,destroy:function(e){return Ni(e,si)}};function $i(e,t){if(!B(e.data.domProps)||!B(t.data.domProps)){var n,r,o=t.elm,s=e.data.domProps||{},i=t.data.domProps||{};for(n in(q(i.__ob__)||V(i._v_attr_proxy))&&(i=t.data.domProps=ye({},i)),s)n in i||(o[n]="");for(n in i){if(r=i[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=r;var a=B(r)?"":String(r);Li(o,a)&&(o.value=a)}else if("innerHTML"===n&&$s(o.tagName)&&B(o.innerHTML)){(Pi=Pi||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var c=Pi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}else if(r!==s[n])try{o[n]=r}catch(e){}}}}function Li(e,t){return!e.composing&&("OPTION"===e.tagName||Di(e,t)||Fi(e,t))}function Di(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}function Fi(e,t){var n=e.value,r=e._vModifiers;if(q(r)){if(r.number)return te(n)!==te(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var Ui={create:$i,update:$i},Bi=ae((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function qi(e){var t=Vi(e.style);return e.staticStyle?ye(e.staticStyle,t):t}function Vi(e){return Array.isArray(e)?ve(e):"string"==typeof e?Bi(e):e}function Hi(e,t){var n,r={};if(t)for(var o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=qi(o.data))&&ye(r,n);(n=qi(e.data))&&ye(r,n);for(var s=e;s=s.parent;)s.data&&(n=qi(s.data))&&ye(r,n);return r}var zi,Wi=/^--/,Zi=/\s*!important$/,Gi=function(e,t,n){if(Wi.test(t))e.style.setProperty(t,n);else if(Zi.test(n))e.style.setProperty(de(t),n.replace(Zi,""),"important");else{var r=Yi(t);if(Array.isArray(n))for(var o=0,s=n.length;o<s;o++)e.style[r]=n[o];else e.style[r]=n}},Ki=["Webkit","Moz","ms"],Yi=ae((function(e){if(zi=zi||document.createElement("div").style,"filter"!==(e=ue(e))&&e in zi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Ki.length;n++){var r=Ki[n]+t;if(r in zi)return r}}));function Ji(e,t){var n=t.data,r=e.data;if(!(B(n.staticStyle)&&B(n.style)&&B(r.staticStyle)&&B(r.style))){var o,s,i=t.elm,a=r.staticStyle,c=r.normalizedStyle||r.style||{},u=a||c,l=Vi(t.data.style)||{};t.data.normalizedStyle=q(l.__ob__)?ye({},l):l;var p=Hi(t,!0);for(s in u)B(p[s])&&Gi(i,s,"");for(s in p)o=p[s],Gi(i,s,null==o?"":o)}}var Xi={create:Ji,update:Ji},Qi=/\s+/;function ea(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Qi).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function ta(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Qi).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function na(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&ye(t,ra(e.name||"v")),ye(t,e),t}return"string"==typeof e?ra(e):void 0}}var ra=ae((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),oa=Me&&!De,sa="transition",ia="animation",aa="transition",ca="transitionend",ua="animation",la="animationend";oa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(aa="WebkitTransition",ca="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ua="WebkitAnimation",la="webkitAnimationEnd"));var pa=Me?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function da(e){pa((function(){pa(e)}))}function fa(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),ea(e,t))}function ha(e,t){e._transitionClasses&&oe(e._transitionClasses,t),ta(e,t)}function ma(e,t,n){var r=ya(e,t),o=r.type,s=r.timeout,i=r.propCount;if(!o)return n();var a=o===sa?ca:la,c=0,u=function(){e.removeEventListener(a,l),n()},l=function(t){t.target===e&&++c>=i&&u()};setTimeout((function(){c<i&&u()}),s+1),e.addEventListener(a,l)}var ga=/\b(transform|all)(,|$)/;function ya(e,t){var n,r=window.getComputedStyle(e),o=(r[aa+"Delay"]||"").split(", "),s=(r[aa+"Duration"]||"").split(", "),i=va(o,s),a=(r[ua+"Delay"]||"").split(", "),c=(r[ua+"Duration"]||"").split(", "),u=va(a,c),l=0,p=0;return t===sa?i>0&&(n=sa,l=i,p=s.length):t===ia?u>0&&(n=ia,l=u,p=c.length):p=(n=(l=Math.max(i,u))>0?i>u?sa:ia:null)?n===sa?s.length:c.length:0,{type:n,timeout:l,propCount:p,hasTransform:n===sa&&ga.test(r[aa+"Property"])}}function va(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return ba(t)+ba(e[n])})))}function ba(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function _a(e,t){var n=e.elm;q(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=na(e.data.transition);if(!B(r)&&!q(n._enterCb)&&1===n.nodeType){for(var o=r.css,s=r.type,i=r.enterClass,a=r.enterToClass,c=r.enterActiveClass,u=r.appearClass,l=r.appearToClass,p=r.appearActiveClass,d=r.beforeEnter,f=r.enter,h=r.afterEnter,m=r.enterCancelled,g=r.beforeAppear,y=r.appear,v=r.afterAppear,b=r.appearCancelled,_=r.duration,w=jr,x=jr.$vnode;x&&x.parent;)w=x.context,x=x.parent;var k=!w._isMounted||!e.isRootInsert;if(!k||y||""===y){var S=k&&u?u:i,T=k&&p?p:c,O=k&&l?l:a,E=k&&g||d,j=k&&W(y)?y:f,A=k&&v||h,I=k&&b||m,R=te(Z(_)?_.enter:_),C=!1!==o&&!De,N=ka(j),P=n._enterCb=Se((function(){C&&(ha(n,O),ha(n,T)),P.cancelled?(C&&ha(n,S),I&&I(n)):A&&A(n),n._enterCb=null}));e.data.show||sn(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),j&&j(n,P)})),E&&E(n),C&&(fa(n,S),fa(n,T),da((function(){ha(n,S),P.cancelled||(fa(n,O),N||(xa(R)?setTimeout(P,R):ma(n,s,P)))}))),e.data.show&&(t&&t(),j&&j(n,P)),C||N||P()}}}function wa(e,t){var n=e.elm;q(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=na(e.data.transition);if(B(r)||1!==n.nodeType)return t();if(!q(n._leaveCb)){var o=r.css,s=r.type,i=r.leaveClass,a=r.leaveToClass,c=r.leaveActiveClass,u=r.beforeLeave,l=r.leave,p=r.afterLeave,d=r.leaveCancelled,f=r.delayLeave,h=r.duration,m=!1!==o&&!De,g=ka(l),y=te(Z(h)?h.leave:h),v=n._leaveCb=Se((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),m&&(ha(n,a),ha(n,c)),v.cancelled?(m&&ha(n,i),d&&d(n)):(t(),p&&p(n)),n._leaveCb=null}));f?f(b):b()}function b(){v.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),u&&u(n),m&&(fa(n,i),fa(n,c),da((function(){ha(n,i),v.cancelled||(fa(n,a),g||(xa(y)?setTimeout(v,y):ma(n,s,v)))}))),l&&l(n,v),m||g||v())}}function xa(e){return"number"==typeof e&&!isNaN(e)}function ka(e){if(B(e))return!1;var t=e.fns;return q(t)?ka(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Sa(e,t){!0!==t.data.show&&_a(t)}var Ta=li({nodeOps:ti,modules:[xi,Ti,Mi,Ui,Xi,Me?{create:Sa,activate:Sa,remove:function(e,t){!0!==e.data.show?wa(e,t):t()}}:{}].concat(vi)});De&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Na(e,"input")}));var Oa={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?sn(n,"postpatch",(function(){Oa.componentUpdated(e,t,n)})):Ea(e,t,n.context),e._vOptions=[].map.call(e.options,Ia)):("textarea"===n.tag||Bs(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Ra),e.addEventListener("compositionend",Ca),e.addEventListener("change",Ca),De&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ea(e,t,n.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,Ia);if(o.some((function(e,t){return!xe(e,r[t])}))){var s=e.multiple?t.value.some((function(e){return Aa(e,o)})):t.value!==t.oldValue&&Aa(t.value,o);s&&Na(e,"change")}}}};function Ea(e,t,n){ja(e,t,n),(Le||Fe)&&setTimeout((function(){ja(e,t,n)}),0)}function ja(e,t,n){var r=t.value,o=e.multiple;if(!o||Array.isArray(r)){for(var s,i,a=0,c=e.options.length;a<c;a++)if(i=e.options[a],o)s=ke(r,Ia(i))>-1,i.selected!==s&&(i.selected=s);else if(xe(Ia(i),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));o||(e.selectedIndex=-1)}}function Aa(e,t){return t.every((function(t){return!xe(t,e)}))}function Ia(e){return"_value"in e?e._value:e.value}function Ra(e){e.target.composing=!0}function Ca(e){e.target.composing&&(e.target.composing=!1,Na(e.target,"input"))}function Na(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Pa(e){return!e.componentInstance||e.data&&e.data.transition?e:Pa(e.componentInstance._vnode)}var Ma={bind:function(e,t,n){var r=t.value,o=(n=Pa(n)).data&&n.data.transition,s=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(n.data.show=!0,_a(n,(function(){e.style.display=s}))):e.style.display=r?s:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Pa(n)).data&&n.data.transition?(n.data.show=!0,r?_a(n,(function(){e.style.display=e.__vOriginalDisplay})):wa(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}},$a={model:Oa,show:Ma},La={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Da(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Da(Wn(t.children)):e}function Fa(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var r in o)t[ue(r)]=o[r];return t}function Ua(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Ba(e){for(;e=e.parent;)if(e.data.transition)return!0}function qa(e,t){return t.key===e.key&&t.tag===e.tag}var Va=function(e){return e.tag||In(e)},Ha=function(e){return"show"===e.name},za={name:"transition",props:La,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Va)).length){var r=this.mode,o=n[0];if(Ba(this.$vnode))return o;var s=Da(o);if(!s)return o;if(this._leaving)return Ua(e,o);var i="__transition-".concat(this._uid,"-");s.key=null==s.key?s.isComment?i+"comment":i+s.tag:z(s.key)?0===String(s.key).indexOf(i)?s.key:i+s.key:s.key;var a=(s.data||(s.data={})).transition=Fa(this),c=this._vnode,u=Da(c);if(s.data.directives&&s.data.directives.some(Ha)&&(s.data.show=!0),u&&u.data&&!qa(s,u)&&!In(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var l=u.data.transition=ye({},a);if("out-in"===r)return this._leaving=!0,sn(l,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Ua(e,o);if("in-out"===r){if(In(s))return c;var p,d=function(){p()};sn(a,"afterEnter",d),sn(a,"enterCancelled",d),sn(l,"delayLeave",(function(e){p=e}))}}return o}}},Wa=ye({tag:String,moveClass:String},La);delete Wa.mode;var Za={props:Wa,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var o=Ar(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],s=this.children=[],i=Fa(this),a=0;a<o.length;a++)(l=o[a]).tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(s.push(l),n[l.key]=l,(l.data||(l.data={})).transition=i);if(r){var c=[],u=[];for(a=0;a<r.length;a++){var l;(l=r[a]).data.transition=i,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=e(t,null,c),this.removed=u}return e(t,null,s)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ga),e.forEach(Ka),e.forEach(Ya),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;fa(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ca,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ca,e),n._moveCb=null,ha(n,t))})}})))},methods:{hasMove:function(e,t){if(!oa)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){ta(n,e)})),ea(n,t),n.style.display="none",this.$el.appendChild(n);var r=ya(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Ga(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Ka(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ya(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var s=e.elm.style;s.transform=s.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),s.transitionDuration="0s"}}var Ja={Transition:za,TransitionGroup:Za};function Xa(){return globalThis.axiosGlobalInstance||Xe()?.proxy.$axios}function Qa(){return globalThis.axiosRefreshInstance}ts.config.mustUseProp=vs,ts.config.isReservedTag=Ls,ts.config.isReservedAttr=gs,ts.config.getTagNamespace=Ds,ts.config.isUnknownElement=Us,ye(ts.options.directives,$a),ye(ts.options.components,Ja),ts.prototype.__patch__=Me?Ta:be,ts.prototype.$mount=function(e,t){return Cr(this,e=e&&Me?qs(e):void 0,t)},Me&&setTimeout((function(){Ae.devtools&&Ze&&Ze.emit("init",ts)}),0);const ec="auth",tc="auth-token",nc="auth-refresh-token-get",rc="auth-access-token-get",oc="auth-token-set-from-pair",sc="auth-token-clear",ic="auth-refresh",ac="auth-refresh-tokens",cc="/api/auth/refresh",uc="/api/auth/logout";class lc{hasExpired(){return Date.now()>=this.expiresAt}static accessFromPair(e){return new lc({token:e.accessToken,expiresAt:e.accessExpiresAt})}static refreshFromPair(e){return new lc({token:e.refreshToken,expiresAt:e.refreshExpiresAt})}constructor(e){Object.assign(this,e)}toJSON(){return{...this}}}const pc="reflect",dc="ensureActiveBackground",fc="backgroundWokeUp",hc="keepAlive",mc="extensionMessageActions";function gc(e,t={}){return(n,r,o)=>{const s=mc;Reflect.defineMetadata(s,{...Reflect.getMetadata(s,n)||{},[e]:{handler:o?.value??r,...t}},n)}}var yc=function(e,t){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},yc(e,t)};function vc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}yc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function bc(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):o(e.value).then(i,a)}c((r=r.apply(e,t||[])).next())}))}function _c(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function wc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}function kc(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}function Sc(e){return this instanceof Sc?(this.v=e,this):new Sc(e)}function Tc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(o[e](t))}catch(e){p(s[0][3],e)}}function c(e){e.value instanceof Sc?Promise.resolve(e.value.v).then(u,l):p(s[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function p(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Oc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof wc?wc(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){o(r,s,(t=e[n](t)).done,t.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function Ec(e){return"function"==typeof e}function jc(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var Ac=jc((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Ic(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Rc=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var i=wc(s),a=i.next();!a.done;a=i.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else s.remove(this);var c=this.initialTeardown;if(Ec(c))try{c()}catch(e){o=e instanceof Ac?e.errors:[e]}var u=this._teardowns;if(u){this._teardowns=null;try{for(var l=wc(u),p=l.next();!p.done;p=l.next()){var d=p.value;try{Pc(d)}catch(e){o=null!=o?o:[],e instanceof Ac?o=kc(kc([],xc(o)),xc(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Ac(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Pc(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Ic(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&Ic(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),Cc=Rc.EMPTY;function Nc(e){return e instanceof Rc||e&&"closed"in e&&Ec(e.remove)&&Ec(e.add)&&Ec(e.unsubscribe)}function Pc(e){Ec(e)?e():e.unsubscribe()}var Mc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$c={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$c.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,kc([],xc(e)))},clearTimeout:function(e){var t=$c.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Lc(e){$c.setTimeout((function(){var t=Mc.onUnhandledError;if(!t)throw e;t(e)}))}function Dc(){}var Fc=qc("C",void 0,void 0);function Uc(e){return qc("E",void 0,e)}function Bc(e){return qc("N",e,void 0)}function qc(e,t,n){return{kind:e,value:t,error:n}}var Vc=null;function Hc(e){if(Mc.useDeprecatedSynchronousErrorHandling){var t=!Vc;if(t&&(Vc={errorThrown:!1,error:null}),e(),t){var n=Vc,r=n.errorThrown,o=n.error;if(Vc=null,r)throw o}}else e()}function zc(e){Mc.useDeprecatedSynchronousErrorHandling&&Vc&&(Vc.errorThrown=!0,Vc.error=e)}var Wc=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Nc(t)&&t.add(n)):n.destination=Jc,n}return vc(t,e),t.create=function(e,t,n){return new Zc(e,t,n)},t.prototype.next=function(e){this.isStopped?Yc(Bc(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Yc(Uc(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Yc(Fc,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Rc),Zc=function(e){function t(t,n,r){var o,s=e.call(this)||this;if(Ec(t))o=t;else if(t){var i;o=t.next,n=t.error,r=t.complete,s&&Mc.useDeprecatedNextContext?(i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()}:i=t,o=null==o?void 0:o.bind(i),n=null==n?void 0:n.bind(i),r=null==r?void 0:r.bind(i)}return s.destination={next:o?Gc(o,s):Dc,error:Gc(null!=n?n:Kc,s),complete:r?Gc(r,s):Dc},s}return vc(t,e),t}(Wc);function Gc(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,kc([],xc(t)))}catch(e){Mc.useDeprecatedSynchronousErrorHandling?zc(e):Lc(e)}}}function Kc(e){throw e}function Yc(e,t){var n=Mc.onStoppedNotification;n&&$c.setTimeout((function(){return n(e,t)}))}var Jc={closed:!0,next:Dc,error:Kc,complete:Dc},Xc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qc(e){return e}function eu(e){return 0===e.length?Qc:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var tu=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,o=ou(e)?e:new Zc(e,t,n);return Hc((function(){var e=r,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?r._subscribe(o):r._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=nu(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),null==o||o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Xc]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return eu(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=nu(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function nu(e){var t;return null!==(t=null!=e?e:Mc.Promise)&&void 0!==t?t:Promise}function ru(e){return e&&Ec(e.next)&&Ec(e.error)&&Ec(e.complete)}function ou(e){return e&&e instanceof Wc||ru(e)&&Nc(e)}var su=jc((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),iu=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return vc(t,e),t.prototype.lift=function(e){var t=new au(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new su},t.prototype.next=function(e){var t=this;Hc((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var o=t.observers.slice();try{for(var s=wc(o),i=s.next();!i.done;i=s.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Hc((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Hc((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,r=t.isStopped,o=t.observers;return n||r?Cc:(o.push(e),new Rc((function(){return Ic(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new tu;return e.source=this,e},t.create=function(e,t){return new au(e,t)},t}(tu),au=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return vc(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Cc},t}(iu);class cu{constructor(){this.bgWokeUp$=new iu,globalThis.chrome?.runtime?.onMessage&&chrome.runtime.onMessage.addListener((e=>{const t=(new Date).getTime();e.action===fc&&this.bgWokeUp$.next(t)}))}async ensureActiveBackground(){if(globalThis.chrome.runtime)return chrome.runtime.sendMessage({action:dc})}keepAlive(){return chrome.runtime.sendMessage({action:hc})}}const uu=new cu;var lu;!function(e){e[e.INFO=0]="INFO",e[e.SUCCESS=1]="SUCCESS",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR",e[e.TRACE=4]="TRACE"}(lu||(lu={}));var pu=c(59),du=c.n(pu),fu=c(60),hu=c.n(fu),mu=c(3);class gu{constructor(){this.colorHash=new(hu())({lightness:.75,saturation:.8})}write(e){const t=this.getPrefix(e),n=[e.extra,e.data].filter((e=>e));this.console(e)(t.text+"\n%c"+e.message+(n.length?"\n":""),...t.styles,this.getLogContentStyles(e),...n)}console(e){const t=e.level===lu.WARNING?"warn":e.level===lu.ERROR?"error":"info";return mu[t]}getPrefix(e){const t=[];return t.push([`${du()().format("MMM DD, HH:mm:ss.SSS")}`,"color: #a4a4a4"]),t.push(this.getStyled(e.namespace??"global",e.namespace?"font-style: italic":"")),t.push(this.getStyled(e.master??"rogue",e.master?"font-style: italic":"")),void 0!==e.group&&t.push(this.getStyled(e.group)),void 0!==e.key&&t.push(this.getStyled(e.key)),void 0!==e.tag&&t.push(this.getStyled("#"+e.tag)),{text:t.reduce(((e,t)=>e+"%c"+t[0]+" "),""),styles:t.map((e=>e[1]+";font-size: 0.8em"))}}getStyled(e,t=""){return[e,"color:"+this.colorHash.hex(e)+";"+t]}getLogContentStyles(e){const t=[];return e.level===lu.SUCCESS&&t.push("background-color: #167031; color: white; padding: 2px 5px; border-radius: 3px"),t.join(";")}}var yu=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return vc(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(iu),vu=new tu((function(e){return e.complete()}));function bu(e){return Ec(null==e?void 0:e.lift)}function _u(e){return function(t){if(bu(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var wu=function(e){function t(t,n,r,o,s){var i=e.call(this,t)||this;return i.onFinalize=s,i._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,i._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,i._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,i}return vc(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(Wc);function xu(e){return e<=0?function(){return vu}:_u((function(t,n){var r=0;t.subscribe(new wu(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}class ku{constructor(){this.id=C()}}class Su{constructor(){this.reset()}build(){const e=this.log;return this.reset(),e}reset(){return this.log=new ku,this}get snapshot(){return{...this.log}}setLevel(e){return this.log.level=e??lu.INFO,this}setNamespace(e){return this.log.namespace=e,this}setGroup(e){return this.log.group=e,this}setMaster(e){return this.log.master=e,this}setTag(e){return this.log.tag=e,this}setKey(e){return this.log.key=e,this}setImportance(e){return this.log.importance=e,this}setRelatedId(e){return this.log.relatedId=e,this}setMessage(e){return this.log.message=e,this}setDetails(e){return this.log.extra=e,this}setData(e){return this.log.data=e,this}setCreated(e){return this.log.createdAt=e,this}toggleDebug(e){this.log.debug=e}}let Tu=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");class Ou{constructor(){this.id=Tu(10),this.log$=new iu,this.history$=new yu([]),this.muted=!1,this.builder=new Su,this.bindings=[]}static quickLog(e,t,n){const r=new Ou;n&&r.builder.setNamespace(n),r.log$.pipe(xu(1)).subscribe((e=>(new gu).write(e))),r.info(e,t)}mute(e=!0){this.muted=e}template(...e){return this.bindings.push(...e),this}apply(e){return e(this.builder),this}success(e,t){return"object"!=typeof e&&(e={msg:e}),this.log({data:t,...e},{level:lu.SUCCESS})}info(e,t){return"object"!=typeof e&&(e={msg:e}),this.log({data:t,...e},{level:lu.INFO})}warn(e,t){return"object"!=typeof e&&(e={msg:e}),this.log({data:t,...e},{level:lu.WARNING})}error(e,t){return"object"!=typeof e&&(e={msg:e}),this.log({data:t,...e},{level:lu.ERROR})}errorThrow(e,t){const n=this.error(t);throw new e(n?.message??t)}log(e,t){if(this.muted)return void this.builder.reset();let n=e;return"string"==typeof n&&(n={msg:n}),Array.isArray(n)&&(n={msg:n.join(" ")}),n={...n,...t},this.builder.setMessage(n.msg).setDetails(n.verbose).setData(n.data).setLevel(n.level).setCreated(new Date),this.saveLog()}saveLog(){this.bindings.length&&this.bindings.map((e=>e.call(this,this.builder)));const e=this.builder.build();return this.log$.next(e),this.history$.next(this.history$.getValue().concat(e)),e}}let Eu=!0;function ju(e){if(!e)return!1;try{const{pathname:t}=new URL(e,location.origin);return t===location.pathname}catch{return!1}}function Au(e){return globalThis.chrome?.runtime?.getManifest?.()}function Iu(e){let t;return()=>(Eu&&void 0!==t||(t=e()),t)}const Ru=Iu((()=>globalThis.location?.protocol.startsWith("http"))),Cu=Iu((()=>"object"==typeof globalThis.chrome?.extension)),Nu=(Iu((()=>Cu()&&Ru())),()=>Mu()||$u()||Pu()),Pu=Iu((()=>!!{PACKAGE_VERSION:"1.10.7",IS_FIREFOX:!1,IS_CHROMIUM:!0}.WEBPACK_DEV_SERVER)),Mu=Iu((()=>{const e=Au(2);return!(!e||!ju(e.background_page||e.background?.page))||Boolean(e?.background?.scripts&&ju("/_generated_background_page.html"))})),$u=Iu((()=>ju(Au(3)?.background?.service_worker)));Iu((()=>{if(!Cu()||!chrome.runtime.getManifest)return!1;const e=chrome.runtime.getManifest();return"string"==typeof e.options_ui?.page&&new URL(e.options_ui?.page,location.origin).pathname===location.pathname})),Iu((()=>{if(!Cu()||!chrome.devtools)return!1;const e=chrome.runtime.getManifest();return"string"==typeof e.devtools_page&&new URL(e.devtools_page,location.origin).pathname===location.pathname}));class Lu{constructor(){this.userAgent="undefined"==typeof navigator?"unknown":navigator.userAgent.toLowerCase(),this.platform="undefined"==typeof navigator?"unknown":navigator.platform.toLowerCase(),this.isDebug="enable"==={PACKAGE_VERSION:"1.10.7",IS_FIREFOX:!1,IS_CHROMIUM:!0}.DEBUG,this.isProd=!0,this.isDev=!1,this.isChromium=this.userAgent.includes("chrome")||this.userAgent.includes("chromium"),this.isThunderbird=this.userAgent.includes("thunderbird"),this.isFirefox=this.userAgent.includes("firefox")||this.isThunderbird,this.isVivaldi=this.userAgent.includes("vivaldi"),this.isYaBrowser=this.userAgent.includes("yabrowser"),this.isOpera=this.userAgent.includes("opr")||this.userAgent.includes("opera"),this.isEdge=this.userAgent.includes("edg"),this.isSafari=this.userAgent.includes("safari")&&!this.isChromium,this.isWindows=this.platform.startsWith("win"),this.isMacOS=this.platform.startsWith("mac"),this.isMobile=this.userAgent.includes("mobile"),this.isShadowDomSupported="function"==typeof ShadowRoot,this.isMatchMediaChangeEventListenerSupported="function"==typeof MediaQueryList&&"function"==typeof MediaQueryList.prototype.addEventListener,this.buildTarget="chromium"}get entry(){return this._entry??""}set entry(e){if(this._entry)throw Error(`Entry point can only be set once (current: ${this._entry}).`);this._entry=e}get appId(){if(!this._appId)throw Error("Application ID is not set.");return this._appId}set appId(e){if(this._appId)throw Error(`Application ID can only be set once (current: ${this._appId}).`);this._appId=e}get version(){return"1.10.7"}get isInited(){return!!this._appId&&!!this._entry}init(e,t){this.appId=e,this.entry=t}}const Du=new Lu;class Fu{constructor(){this.id=Tu(10),this.logger=new Ou,this.writer=new gu,this.sub=new Rc,this.enabled=!1}inspect(){}toggle(e){return this.enabled=e,this.logger.mute(!e),this.sub.unsubscribe(),e&&(this.sub=new Rc,this.createSubs().forEach((e=>this.sub.add(e)))),this}static create(e,t,...n){const r=new Fu;return"object"==typeof t&&(t=t.constructor.name),!Nu()&&Cu()&&chrome.runtime.sendMessage({action:pc}).then((e=>{if(!e)return;const t=e.tab?e.tab.index:r.id;r.logger.template((e=>e.setGroup("tab-"+t)))})),r.logger.template((n=>n.setNamespace(e).setMaster(t).setKey(Du.entry))),r.logger.template(...n),r}createSubs(){return[this.logger.log$.subscribe((e=>this.writer.write(e)))]}toJSON(){return{id:this.id,enabled:this.enabled}}}class Uu{constructor(){this.ports=[],this.portNameDelimiter="__",this.autoReconnect=!0,this.connected$=new iu,this.debugger=Fu.create("@@CONNECTOR",this).toggle(!1),this.connectionTimerPropertyName="_timer"}connectToBackground(e){this.port&&this.port.disconnect();const t=e.id??C();if(this.port=chrome.runtime.connect(chrome.runtime.id,{name:`${e.name}${this.portNameDelimiter}${t}`}),this.autoReconnect="boolean"==typeof e.autoReconnect?e.autoReconnect:this.autoReconnect,this.port.onDisconnect.addListener((()=>{this.debugger.logger.info("Disconnected from background page",{id:t,name:e.name,autoReconnect:this.autoReconnect}),this.port=null,this.autoReconnect&&this.connectToBackground({...e,id:t})})),!this.port){const t="Could not establish connection with background page.";throw new Error(`[${e.name}]: ${t}`)}return e.onMessage&&this.port.onMessage.addListener(e.onMessage),this.port}close(){const e=this.autoReconnect;this.autoReconnect=!1,this.port?.disconnect(),this.ports.forEach((e=>e.disconnect())),this.autoReconnect=e}findPortByTabId(e){return this.ports.find((t=>t.sender?.tab?.id===e))}findPortsByTabId(e){return this.ports.filter((t=>t.sender?.tab?.id===e))??[]}findPortsByPageUrl(e){return this.ports.filter((t=>t.sender?.tab?.url===e))??[]}onConnect(e,t){return!!this.canConnect(e,t)&&(this.ports.push(e),e.onDisconnect.addListener(this.onDisconnect.bind(this)),this.connected$.next(e),!0)}onDisconnect(e){const t=this.ports.findIndex((t=>t.name===e.name));t>-1&&this.ports.splice(t,1)}canConnect(e,t){return e.name.startsWith(`${t}${this.portNameDelimiter}`)}reconnectPort(e){const t=e[this.connectionTimerPropertyName];t&&(clearTimeout(t),delete e[this.connectionTimerPropertyName]),this.autoReconnect&&e.disconnect()}}class Bu{init(){this.isBackground()?this.initBackground():this.initContent()}initBackground(){}initContent(){return Cu()}isBackground(){return Nu()}}function qu(e,t){return _u((function(n,r){var o=0;n.subscribe(new wu(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}class Vu extends Bu{constructor(e){super(),this.name=e,this.response$=new yu(null),this.connector=new Uu,this.sub=new Rc,this.debugger=Fu.create(e,this).toggle(!1)}initBackground(){if(super.initBackground(),Pu())return!0;chrome.runtime.onConnect.addListener((e=>{this.connector.onConnect(e,this.name)&&e.onMessage.addListener(this.onMessageFromClient.bind(this))}))}initContent(){if(!super.initContent())return!1;const e={name:this.name,onMessage:this.onMessageFromBackground.bind(this)};return this.connector.connectToBackground(e),this.debugger.logger.info("initContent:connection",this.connector.port),this.sub.add(uu.bgWokeUp$.subscribe((()=>{this.connector.connectToBackground(e)}))),!0}async onMessageFromClient(e,t){return e.id&&this.response$.next(e),await this.performAction(e,t),!0}async onMessageFromBackground(e,t){return e.id&&this.response$.next(e),await this.performAction(e,t),!0}destroy(){this.sub.unsubscribe(),this.connector.close()}broadcastMessage(e){this.isBackground()?this.connector.ports.forEach((t=>this.postMessage(e,t))):this.postMessage(e)}postMessage(e,t){if(this.isBackground()){if(!t)throw new Error("Port is required");t.postMessage(e)}else uu.ensureActiveBackground().then((()=>(t??this.connector.port).postMessage(e)))}postMessageWaitForResponse(e,t){return new Promise(((n,r)=>{e.id||(e.id=C()),this.response$.pipe(qu((t=>!!t&&t.id===e.id)),xu(1)).subscribe({next:e=>n(e?.payload),error:r}),this.postMessage(e,t)}))}get actions(){return Reflect.getMetadata(mc,this)}async performAction(e,t){const n=this.actions?.[e.action];if(n?.backgroundOnly&&!this.isBackground())return;if("string"==typeof n?.handler&&(n.handler=this[n.handler]),"function"!=typeof n?.handler)return;let r;this.debugger.logger.info("performActions",{msg:e,action:n});const o=await Promise.resolve(n.handler.call(this,e.payload,t)).catch((e=>{r=e}));return r||null!=o||n.alwaysRespond?this.postMessage({...e,payload:o,error:r?.message},t):void 0}dispatcher(e){return t=>this.postMessageWaitForResponse({action:e,payload:t})}}class Hu{}var zu=c(3);class Wu{getItem(e){}setItem(e){}}class Zu{constructor(){this.asyncStorage=globalThis.chrome?.storage??null;try{this.syncStorage=globalThis.localStorage??new Wu}catch(e){zu.warn(e),this.syncStorage=new Wu}}async clear(){if(this.asyncStorage)return this.asyncStorageArea.clear()}async getItem(e){if(!this.asyncStorage)try{return JSON.parse(this.syncStorage.getItem(e||""))}catch(t){return this.syncStorage.getItem(e||"")}const t=await this.asyncStorageArea.get(e);return e?t[e]:t}key(e){if(!this.asyncStorage)return new Promise((t=>t(this.syncStorage.key(e))));throw new Error("Key method is not available for browser add-on storage")}async length(){if(!this.asyncStorage)return this.syncStorage.length;const e=await this.asyncStorageArea.get();return Object.keys(e).length}async removeItem(e){return this.asyncStorage?this.asyncStorageArea.remove(e):this.syncStorage.removeItem(e)}async removeItems(e){return Promise.all(e.map((e=>this.removeItem(e))))}async setItem(e,t){return this.asyncStorage?(await this.asyncStorageArea.set({[e]:t}),t):(this.syncStorage.setItem(e,JSON.stringify(t)),t)}get asyncStorageArea(){return this.asyncStorage?.local}}class Gu{constructor(){this.refreshTokenKey="art",this.accessTokenKey="aat",this.storage=new Zu,this.ek1="sfAgj1Hf35b21j3f8",this.ek2="aahF4sa5hGhdf651jk"}async getRefreshToken(){if(this.isCleared)return;const e=await this.storage.getItem(this.refreshTokenKey);if(!e)return;const t=this.decipherObject(e);return new lc(t)}async getAccessToken(){if(this.isCleared)return;const e=await this.storage.getItem(this.accessTokenKey);return e?new lc(e):void 0}async setFromPair(e){this.isCleared=!1,await Promise.all([this.storage.setItem(this.accessTokenKey,lc.accessFromPair(e)),this.storage.setItem(this.refreshTokenKey,this.cipherObject(lc.refreshFromPair(e)))])}async clear(){this.isCleared=!0,await Promise.all([this.storage.removeItem(this.accessTokenKey),this.storage.removeItem(this.refreshTokenKey)])}cipherObject(e){const t=JSON.stringify(e);return this.xorCipher(t)}decipherObject(e){const t=this.xorCipher(e);try{return JSON.parse(t)}catch(e){return}}xorCipher(e){const t=(new TextEncoder).encode(e),n=(new TextEncoder).encode(this.ek1),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t[e]^n[e%n.length];return(new TextDecoder).decode(r)}}var Ku,Yu,Ju,Xu,Qu,el=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},tl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class nl extends Vu{constructor(e=tc){super(e),this.jwtService=new Gu,this.init()}async getRefreshToken(){return this.isBackground()?this.jwtService.getRefreshToken():this.postMessageWaitForResponse({action:nc}).then((e=>{if(e)return new lc(e)}))}async getAccessToken(){return this.isBackground()?this.jwtService.getAccessToken():this.postMessageWaitForResponse({action:rc}).then((e=>{if(e)return new lc(e)}))}async setFromPair(e){return this.isBackground()?this.jwtService.setFromPair(e):this.postMessageWaitForResponse({action:oc,payload:e})}async clear(){return this.isBackground()?this.jwtService.clear():this.postMessageWaitForResponse({action:sc})}}el([gc(nc,{backgroundOnly:!0,alwaysRespond:!0}),tl("design:type",Function),tl("design:paramtypes",[]),tl("design:returntype","function"==typeof(Ku="undefined"!=typeof Promise&&Promise)?Ku:Object)],nl.prototype,"getRefreshToken",null),el([gc(rc,{backgroundOnly:!0,alwaysRespond:!0}),tl("design:type",Function),tl("design:paramtypes",[]),tl("design:returntype","function"==typeof(Yu="undefined"!=typeof Promise&&Promise)?Yu:Object)],nl.prototype,"getAccessToken",null),el([gc(oc,{backgroundOnly:!0,alwaysRespond:!0}),tl("design:type",Function),tl("design:paramtypes",["function"==typeof(Ju=void 0!==Hu&&Hu)?Ju:Object]),tl("design:returntype","function"==typeof(Xu="undefined"!=typeof Promise&&Promise)?Xu:Object)],nl.prototype,"setFromPair",null),el([gc(sc,{backgroundOnly:!0,alwaysRespond:!0}),tl("design:type",Function),tl("design:paramtypes",[]),tl("design:returntype","function"==typeof(Qu="undefined"!=typeof Promise&&Promise)?Qu:Object)],nl.prototype,"clear",null);var rl=c(61),ol=c.n(rl);function sl(e,t,n){const r=new Set,o=new Set,s=ol()((t=>{e(...t).then(((...e)=>{r.forEach((t=>t(...e))),r.clear()})).catch(((...e)=>{o.forEach((t=>t(...e))),o.clear()}))}),t,n);return(...e)=>new Promise(((t,n)=>{r.add(t),o.add(n),s(e)}))}var il=c(3);class al{constructor(e){this.options=e,this.refreshTokensDebounced=sl((()=>this.refreshTokens()),100)}async refreshTokens(){const{access:e,isRefreshing:t,lastRefreshed:n,jwtTokenService:r,logout:o,axiosRefreshInstance:s}=this.options;if(n.value>(new Date).getTime()-5e3)return;const i=await r.getRefreshToken();if(t.value){await this.waitUntilRefreshed();const e=await r.getAccessToken();if(i.token!==e?.token)return}if(!i||i.hasExpired())return o();const a={progress:!1,skipAuthRefresh:!0};t.value=!0;const c=[401,403,410];return s.post(cc,{token:i.token},a).then((t=>(e.value=lc.accessFromPair(t.data),n.value=(new Date).getTime(),r.setFromPair(t.data)))).catch((async t=>{if(il.error("Refreshing tokens failed",t?.code,t.response?.status,t.response?.statusText,t.response?.data),404===t.response?.status){const t=await r.getRefreshToken();if(!t||t.token===i.token||t.hasExpired())return o();e.value=await r.getAccessToken(),n.value=(new Date).getTime()}else if(t.response&&c.includes(t.response.status))return o()})).finally((async()=>t.value=!1))}waitUntilRefreshed(e=15e3){let t=0;return new Promise((n=>{const r=setInterval((()=>{t+=50,(!this.options.isRefreshing.value||t>e)&&(clearInterval(r),n())}),50)}))}}var cl,ul=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},ll=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class pl extends Vu{constructor(e){super(ic),this.options=e,this.refreshTokensDebounced=this.refreshTokens.bind(this),this.refreshService=new al(e),this.init()}async refreshTokens(){return this.isBackground()?this.refreshService.refreshTokensDebounced():this.postMessageWaitForResponse({action:ac})}}ul([gc(ac,{backgroundOnly:!0,alwaysRespond:!0}),ll("design:type",Function),ll("design:paramtypes",[]),ll("design:returntype","function"==typeof(cl="undefined"!=typeof Promise&&Promise)?cl:Object)],pl.prototype,"refreshTokens",null);const dl="/api/account",fl="/api/account/user-with-permissions",hl="user-update";var ml;!function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(ml||(ml={}));var gl=function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},e.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.findTransformMetadatas=function(e,t,n){return this.findMetadatas(this._transformMetadatas,e,t).filter((function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?n===ml.CLASS_TO_CLASS||n===ml.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||n===ml.CLASS_TO_PLAIN)}))},e.prototype.findExcludeMetadata=function(e,t){return this.findMetadata(this._excludeMetadatas,e,t)},e.prototype.findExposeMetadata=function(e,t){return this.findMetadata(this._exposeMetadatas,e,t)},e.prototype.findExposeMetadataByCustomName=function(e,t){return this.getExposedMetadatas(e).find((function(e){return e.options&&e.options.name===t}))},e.prototype.findTypeMetadata=function(e,t){return this.findMetadata(this._typeMetadatas,e,t)},e.prototype.getStrategy=function(e){var t=this._excludeMetadatas.get(e),n=t&&t.get(void 0),r=this._exposeMetadatas.get(e),o=r&&r.get(void 0);return n&&o||!n&&!o?"none":n?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},e.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},e.prototype.getExposedProperties=function(e,t){return this.getExposedMetadatas(e).filter((function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===ml.CLASS_TO_CLASS||t===ml.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===ml.CLASS_TO_PLAIN)})).map((function(e){return e.propertyName}))},e.prototype.getExcludedProperties=function(e,t){return this.getExcludedMetadatas(e).filter((function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===ml.CLASS_TO_CLASS||t===ml.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===ml.CLASS_TO_PLAIN)})).map((function(e){return e.propertyName}))},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(e,t){var n,r=e.get(t);r&&(n=Array.from(r.values()).filter((function(e){return void 0!==e.propertyName})));for(var o=[],s=0,i=this.getAncestors(t);s<i.length;s++){var a=i[s],c=e.get(a);if(c){var u=Array.from(c.values()).filter((function(e){return void 0!==e.propertyName}));o.push.apply(o,u)}}return o.concat(n||[])},e.prototype.findMetadata=function(e,t,n){var r=e.get(t);if(r){var o=r.get(n);if(o)return o}for(var s=0,i=this.getAncestors(t);s<i.length;s++){var a=i[s],c=e.get(a);if(c){var u=c.get(n);if(u)return u}}},e.prototype.findMetadatas=function(e,t,n){var r,o=e.get(t);o&&(r=o.get(n));for(var s=[],i=0,a=this.getAncestors(t);i<a.length;i++){var c=a[i],u=e.get(c);u&&u.has(n)&&s.push.apply(s,u.get(n))}return s.slice().reverse().concat((r||[]).slice().reverse())},e.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var t=[],n=Object.getPrototypeOf(e.prototype.constructor);void 0!==n.prototype;n=Object.getPrototypeOf(n.prototype.constructor))t.push(n);this._ancestorsMap.set(e,t)}return this._ancestorsMap.get(e)},e}(),yl=new gl;function vl(e,t){return void 0===t&&(t={}),function(n,r){var o=Reflect.getMetadata("design:type",n,r);yl.addTypeMetadata({target:n.constructor,propertyName:r,reflectedType:o,typeFunction:e,options:t})}}class bl{get full(){return this.first+(this.middle?" "+this.middle:"")+(this.last?" "+this.last:"")}}class _l{format(e="MMM DD, YYYY",t=" - "){return du()(this.start).format(e)+t+du()(this.end).format(e)}constructor(e,t){e&&(this.start=du()(e).toISOString()),t&&(this.end=du()(t).toISOString())}}var wl=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},xl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class kl{constructor(){this.name=new bl,this.workspan=new _l}}wl([vl((()=>bl)),xl("design:type",Object)],kl.prototype,"name",void 0),wl([vl((()=>_l)),xl("design:type",Object)],kl.prototype,"workspan",void 0);var Sl,Tl=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},Ol=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class El{toJSON(){return{...this}}}function jl(){return"undefined"!=typeof globalThis?globalThis:void 0!==c.g?c.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0}function Al(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}Tl([vl((()=>kl)),Ol("design:type","function"==typeof(Sl=void 0!==kl&&kl)?Sl:Object)],El.prototype,"profile",void 0);var Il=c(75).hp,Rl=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Cl(e){var t=new e;return t instanceof Set||"push"in t?t:[]}var Nl=function(){function e(e,t){this.transformationType=e,this.options=t,this.recursionStack=new Set}return e.prototype.transform=function(e,t,n,r,o,s){var i=this;if(void 0===s&&(s=0),Array.isArray(t)||t instanceof Set){var a=r&&this.transformationType===ml.PLAIN_TO_CLASS?Cl(r):[];return t.forEach((function(t,r){var o=e?e[r]:void 0;if(i.options.enableCircularCheck&&i.isCircular(t))i.transformationType===ml.CLASS_TO_CLASS&&(a instanceof Set?a.add(t):a.push(t));else{var c=void 0;if("function"!=typeof n&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(i.transformationType===ml.PLAIN_TO_CLASS){c=n.options.discriminator.subTypes.find((function(e){return e.name===t[n.options.discriminator.property]}));var u={newObject:a,object:t,property:void 0},l=n.typeFunction(u);c=void 0===c?l:c.value,n.options.keepDiscriminatorProperty||delete t[n.options.discriminator.property]}i.transformationType===ml.CLASS_TO_CLASS&&(c=t.constructor),i.transformationType===ml.CLASS_TO_PLAIN&&(t[n.options.discriminator.property]=n.options.discriminator.subTypes.find((function(e){return e.value===t.constructor})).name)}else c=n;var p=i.transform(o,t,c,void 0,t instanceof Map,s+1);a instanceof Set?a.add(p):a.push(p)}})),a}if(n!==String||o){if(n!==Number||o){if(n!==Boolean||o){if((n===Date||t instanceof Date)&&!o)return t instanceof Date?new Date(t.valueOf()):null==t?t:new Date(t);if(jl().Buffer&&(n===Il||t instanceof Il)&&!o)return null==t?t:Il.from(t);if(Al(t)&&!o)return new Promise((function(e,r){t.then((function(t){return e(i.transform(void 0,t,n,void 0,void 0,s+1))}),r)}));if(o||null===t||"object"!=typeof t||"function"!=typeof t.then){if("object"==typeof t&&null!==t){n||t.constructor===Object||(Array.isArray(t)||t.constructor!==Array)&&(n=t.constructor),!n&&e&&(n=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(t);var c=this.getKeys(n,t,o),u=e||{};e||this.transformationType!==ml.PLAIN_TO_CLASS&&this.transformationType!==ml.CLASS_TO_CLASS||(u=o?new Map:n?new n:{});for(var l=function(r){if("__proto__"===r||"constructor"===r)return"continue";var i=r,a=r,c=r;if(!p.options.ignoreDecorators&&n)if(p.transformationType===ml.PLAIN_TO_CLASS)(l=yl.findExposeMetadataByCustomName(n,r))&&(c=l.propertyName,a=l.propertyName);else if(p.transformationType===ml.CLASS_TO_PLAIN||p.transformationType===ml.CLASS_TO_CLASS){var l;(l=yl.findExposeMetadata(n,r))&&l.options&&l.options.name&&(a=l.options.name)}var d=void 0;d=p.transformationType===ml.PLAIN_TO_CLASS?t[i]:t instanceof Map?t.get(i):t[i]instanceof Function?t[i]():t[i];var f=void 0,h=d instanceof Map;if(n&&o)f=n;else if(n){var m=yl.findTypeMetadata(n,c);if(m){var g={newObject:u,object:t,property:c},y=m.typeFunction?m.typeFunction(g):m.reflectedType;m.options&&m.options.discriminator&&m.options.discriminator.property&&m.options.discriminator.subTypes?t[i]instanceof Array?f=m:(p.transformationType===ml.PLAIN_TO_CLASS&&(f=void 0===(f=m.options.discriminator.subTypes.find((function(e){if(d&&d instanceof Object&&m.options.discriminator.property in d)return e.name===d[m.options.discriminator.property]})))?y:f.value,m.options.keepDiscriminatorProperty||d&&d instanceof Object&&m.options.discriminator.property in d&&delete d[m.options.discriminator.property]),p.transformationType===ml.CLASS_TO_CLASS&&(f=d.constructor),p.transformationType===ml.CLASS_TO_PLAIN&&d&&(d[m.options.discriminator.property]=m.options.discriminator.subTypes.find((function(e){return e.value===d.constructor})).name)):f=y,h=h||m.reflectedType===Map}else if(p.options.targetMaps)p.options.targetMaps.filter((function(e){return e.target===n&&!!e.properties[c]})).forEach((function(e){return f=e.properties[c]}));else if(p.options.enableImplicitConversion&&p.transformationType===ml.PLAIN_TO_CLASS){var v=Reflect.getMetadata("design:type",n.prototype,c);v&&(f=v)}}var b=Array.isArray(t[i])?p.getReflectedType(n,c):void 0,_=e?e[i]:void 0;if(u.constructor.prototype){var w=Object.getOwnPropertyDescriptor(u.constructor.prototype,a);if((p.transformationType===ml.PLAIN_TO_CLASS||p.transformationType===ml.CLASS_TO_CLASS)&&(w&&!w.set||u[a]instanceof Function))return"continue"}if(p.options.enableCircularCheck&&p.isCircular(d))p.transformationType===ml.CLASS_TO_CLASS&&(k=d,(void 0!==(k=p.applyCustomTransformations(k,n,r,t,p.transformationType))||p.options.exposeUnsetFields)&&(u instanceof Map?u.set(a,k):u[a]=k));else{var x=p.transformationType===ml.PLAIN_TO_CLASS?a:r,k=void 0;p.transformationType===ml.CLASS_TO_PLAIN?(k=t[x],k=p.applyCustomTransformations(k,n,x,t,p.transformationType),k=t[x]===k?d:k,k=p.transform(_,k,f,b,h,s+1)):void 0===d&&p.options.exposeDefaultValues?k=u[a]:(k=p.transform(_,d,f,b,h,s+1),k=p.applyCustomTransformations(k,n,x,t,p.transformationType)),(void 0!==k||p.options.exposeUnsetFields)&&(u instanceof Map?u.set(a,k):u[a]=k)}},p=this,d=0,f=c;d<f.length;d++)l(f[d]);return this.options.enableCircularCheck&&this.recursionStack.delete(t),u}return t}return t}return null==t?t:Boolean(t)}return null==t?t:Number(t)}return null==t?t:String(t)},e.prototype.applyCustomTransformations=function(e,t,n,r,o){var s=this,i=yl.findTransformMetadatas(t,n,this.transformationType);return void 0!==this.options.version&&(i=i.filter((function(e){return!e.options||s.checkVersion(e.options.since,e.options.until)}))),(i=this.options.groups&&this.options.groups.length?i.filter((function(e){return!e.options||s.checkGroups(e.options.groups)})):i.filter((function(e){return!e.options||!e.options.groups||!e.options.groups.length}))).forEach((function(t){e=t.transformFn({value:e,key:n,obj:r,type:o,options:s.options})})),e},e.prototype.isCircular=function(e){return this.recursionStack.has(e)},e.prototype.getReflectedType=function(e,t){if(e){var n=yl.findTypeMetadata(e,t);return n?n.reflectedType:void 0}},e.prototype.getKeys=function(e,t,n){var r=this,o=yl.getStrategy(e);"none"===o&&(o=this.options.strategy||"exposeAll");var s=[];if(("exposeAll"===o||n)&&(s=t instanceof Map?Array.from(t.keys()):Object.keys(t)),n)return s;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var i=yl.getExposedProperties(e,this.transformationType),a=yl.getExcludedProperties(e,this.transformationType);s=Rl(Rl([],i,!0),a,!0)}if(!this.options.ignoreDecorators&&e){i=yl.getExposedProperties(e,this.transformationType),this.transformationType===ml.PLAIN_TO_CLASS&&(i=i.map((function(t){var n=yl.findExposeMetadata(e,t);return n&&n.options&&n.options.name?n.options.name:t}))),s=this.options.excludeExtraneousValues?i:s.concat(i);var c=yl.getExcludedProperties(e,this.transformationType);c.length>0&&(s=s.filter((function(e){return!c.includes(e)}))),void 0!==this.options.version&&(s=s.filter((function(t){var n=yl.findExposeMetadata(e,t);return!n||!n.options||r.checkVersion(n.options.since,n.options.until)}))),s=this.options.groups&&this.options.groups.length?s.filter((function(t){var n=yl.findExposeMetadata(e,t);return!n||!n.options||r.checkGroups(n.options.groups)})):s.filter((function(t){var n=yl.findExposeMetadata(e,t);return!(n&&n.options&&n.options.groups&&n.options.groups.length)}))}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(s=s.filter((function(e){return r.options.excludePrefixes.every((function(t){return e.substr(0,t.length)!==t}))}))),s=s.filter((function(e,t,n){return n.indexOf(e)===t})),s},e.prototype.checkVersion=function(e,t){var n=!0;return n&&e&&(n=this.options.version>=e),n&&t&&(n=this.options.version<t),n},e.prototype.checkGroups=function(e){return!e||this.options.groups.some((function(t){return e.includes(t)}))},e}(),Pl={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},Ml=function(){return Ml=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ml.apply(this,arguments)},$l=function(){function e(){}return e.prototype.instanceToPlain=function(e,t){return new Nl(ml.CLASS_TO_PLAIN,Ml(Ml({},Pl),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(e,t,n){return new Nl(ml.CLASS_TO_PLAIN,Ml(Ml({},Pl),n)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.plainToInstance=function(e,t,n){return new Nl(ml.PLAIN_TO_CLASS,Ml(Ml({},Pl),n)).transform(void 0,t,e,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(e,t,n){return new Nl(ml.PLAIN_TO_CLASS,Ml(Ml({},Pl),n)).transform(e,t,void 0,void 0,void 0,void 0)},e.prototype.instanceToInstance=function(e,t){return new Nl(ml.CLASS_TO_CLASS,Ml(Ml({},Pl),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(e,t,n){return new Nl(ml.CLASS_TO_CLASS,Ml(Ml({},Pl),n)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(e,t){return JSON.stringify(this.instanceToPlain(e,t))},e.prototype.deserialize=function(e,t,n){var r=JSON.parse(t);return this.plainToInstance(e,r,n)},e.prototype.deserializeArray=function(e,t,n){var r=JSON.parse(t);return this.plainToInstance(e,r,n)},e}(),Ll=new $l;function Dl(e,t){return Ll.instanceToPlain(e,t)}function Fl(e,t,n){return Ll.plainToInstance(e,t,n)}class Ul extends El{static fromModel(e){return Fl(Ul,e)}equals(e){return!(!e||"object"!=typeof e)&&e.id===this.id&&e.img===this.img&&e.imgTmb===this.imgTmb&&e.isAdmin===this.isAdmin&&e.email===this.email&&e.newEmail===this.newEmail&&e.emailConfirmedAt===this.emailConfirmedAt&&e.post===this.post&&e.name===this.name&&e.username===this.username&&e.lang===this.lang&&e.tel===this.tel}}var Bl=!0;function ql(){return!!Xe()}function Vl(){return Hl().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Hl(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}ts.util.warn;const zl="function"==typeof Proxy,Wl="devtools-plugin:setup",Zl="plugin:settings:set";let Gl,Kl;function Yl(){var e;return void 0!==Gl||("undefined"!=typeof window&&window.performance?(Gl=!0,Kl=window.performance):"undefined"!=typeof globalThis&&(null===(e=globalThis.perf_hooks)||void 0===e?void 0:e.performance)?(Gl=!0,Kl=globalThis.perf_hooks.performance):Gl=!1),Gl}function Jl(){return Yl()?Kl.now():Date.now()}class Xl{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const r=e.settings[t];n[t]=r.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(e){}this.fallbacks={getSettings:()=>o,setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){}o=e},now:()=>Jl()},t&&t.on(Zl,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function Ql(e,t){const n=e,r=Hl(),o=Vl(),s=zl&&n.enableEarlyProxy;if(!o||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){const e=s?new Xl(n,o):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit(Wl,e,t)}var ep=c(3);let tp;const np=e=>tp=e,rp=()=>ql()&&tn(op)||tp,op=Symbol();function sp(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var ip;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(ip||(ip={}));const ap="undefined"!=typeof window,cp=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function up(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function lp(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){mp(r.response,t,n)},r.onerror=function(){ep.error("could not download file")},r.send()}function pp(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function dp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const fp="object"==typeof navigator?navigator:{userAgent:""},hp=(()=>/Macintosh/.test(fp.userAgent)&&/AppleWebKit/.test(fp.userAgent)&&!/Safari/.test(fp.userAgent))(),mp=ap?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!hp?gp:"msSaveOrOpenBlob"in fp?yp:vp:()=>{};function gp(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener","string"==typeof e?(r.href=e,r.origin!==location.origin?pp(r.href)?lp(e,t,n):(r.target="_blank",dp(r)):dp(r)):(r.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){dp(r)}),0))}function yp(e,t="download",n){if("string"==typeof e)if(pp(e))lp(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){dp(t)}))}else navigator.msSaveOrOpenBlob(up(e,n),t)}function vp(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return lp(e,t,n);const o="application/octet-stream"===e.type,s=/constructor/i.test(String(cp.HTMLElement))||"safari"in cp,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||o&&s||hp)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw r=null,new Error("Wrong reader.result type");e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function bp(e,t){const n="\u{1f34d} "+e;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?ep.error(n):"warn"===t?ep.warn(n):ep.log(n)}function _p(e){return"_a"in e&&"install"in e}function wp(){if(!("clipboard"in navigator))return bp("Your browser doesn't support the Clipboard API","error"),!0}function xp(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(bp('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function kp(e){if(!wp())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),bp("Global state copied to clipboard.")}catch(e){if(xp(e))return;bp("Failed to serialize the state. Check the console for more details.","error"),ep.error(e)}}async function Sp(e){if(!wp())try{Ap(e,JSON.parse(await navigator.clipboard.readText())),bp("Global state pasted from clipboard.")}catch(e){if(xp(e))return;bp("Failed to deserialize the state from clipboard. Check the console for more details.","error"),ep.error(e)}}async function Tp(e){try{mp(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){bp("Failed to export the state as JSON. Check the console for more details.","error"),ep.error(e)}}let Op;function Ep(){function e(){return new Promise(((e,t)=>{Op.onchange=async()=>{const t=Op.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},Op.oncancel=()=>e(null),Op.onerror=t,Op.click()}))}return Op||(Op=document.createElement("input"),Op.type="file",Op.accept=".json"),e}async function jp(e){try{const t=Ep(),n=await t();if(!n)return;const{text:r,file:o}=n;Ap(e,JSON.parse(r)),bp(`Global state imported from "${o.name}".`)}catch(e){bp("Failed to import the state from JSON. Check the console for more details.","error"),ep.error(e)}}function Ap(e,t){for(const n in t){const r=e.state.value[n];r?Object.assign(r,t[n]):e.state.value[n]=t[n]}}function Ip(e){return{_custom:{display:e}}}const Rp="\u{1f34d} Pinia (root)",Cp="_root";function Np(e){return _p(e)?{id:Cp,label:Rp}:{id:e.$id,label:e.$id}}function Pp(e){if(_p(e)){const t=Array.from(e._s.keys()),n=e._s,r={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return r}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function Mp(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Ip(e.type),key:Ip(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function $p(e){switch(e){case ip.direct:return"mutation";case ip.patchFunction:case ip.patchObject:return"$patch";default:return"unknown"}}let Lp=!0;const Dp=[],Fp="pinia:mutations",Up="pinia",{assign:Bp}=Object,qp=e=>"\u{1f34d} "+e;function Vp(e,t){Ql({id:"dev.esm.pinia",label:"Pinia \u{1f34d}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Dp,app:e},(n=>{"function"!=typeof n.now&&bp("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Fp,label:"Pinia \u{1f34d}",color:15064968}),n.addInspector({id:Up,label:"Pinia \u{1f34d}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{kp(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Sp(t),n.sendInspectorTree(Up),n.sendInspectorState(Up)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Tp(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await jp(t),n.sendInspectorTree(Up),n.sendInspectorState(Up)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const n=t._s.get(e);n?"function"!=typeof n.$reset?bp(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(n.$reset(),bp(`Store "${e}" reset.`)):bp(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:qp(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:It(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:qp(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(t){e[n]=t}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===Up){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):Rp.toLowerCase().includes(n.filter.toLowerCase()))):e).map(Np)}})),globalThis.$pinia=t,n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===Up){const e=n.nodeId===Cp?t:t._s.get(n.nodeId);if(!e)return;e&&(n.nodeId!==Cp&&(globalThis.$store=It(e)),n.state=Pp(e))}})),n.on.editInspectorState(((n,r)=>{if(n.app===e&&n.inspectorId===Up){const e=n.nodeId===Cp?t:t._s.get(n.nodeId);if(!e)return bp(`store "${n.nodeId}" not found`,"error");const{path:r}=n;_p(e)?r.unshift("state"):1===r.length&&e._customProperties.has(r[0])&&!(r[0]in e.$state)||r.unshift("$state"),Lp=!1,n.set(e,r,n.state.value),Lp=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("\u{1f34d}")){const n=e.type.replace(/^\ud83c\udf4d\s*/,""),r=t._s.get(n);if(!r)return bp(`store "${n}" not found`,"error");const{path:o}=e;if("state"!==o[0])return bp(`Invalid path for store "${n}":\n${o}\nOnly state can be modified.`);o[0]="$state",Lp=!1,e.set(r,o,e.state.value),Lp=!0}}))}))}function Hp(e,t){Dp.includes(qp(t.$id))||Dp.push(qp(t.$id)),Ql({id:"dev.esm.pinia",label:"Pinia \u{1f34d}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Dp,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"==typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:r,onError:o,name:s,args:i})=>{const a=Wp++;e.addTimelineEvent({layerId:Fp,event:{time:n(),title:"\u{1f6eb} "+s,subtitle:"start",data:{store:Ip(t.$id),action:Ip(s),args:i},groupId:a}}),r((r=>{zp=void 0,e.addTimelineEvent({layerId:Fp,event:{time:n(),title:"\u{1f6ec} "+s,subtitle:"end",data:{store:Ip(t.$id),action:Ip(s),args:i,result:r},groupId:a}})})),o((r=>{zp=void 0,e.addTimelineEvent({layerId:Fp,event:{time:n(),logType:"error",title:"\u{1f4a5} "+s,subtitle:"end",data:{store:Ip(t.$id),action:Ip(s),args:i,error:r},groupId:a}})}))}),!0),t._customProperties.forEach((r=>{Zt((()=>$t(t[r])),((t,o)=>{e.notifyComponentUpdate(),e.sendInspectorState(Up),Lp&&e.addTimelineEvent({layerId:Fp,event:{time:n(),title:"Change",subtitle:r,data:{newValue:t,oldValue:o},groupId:zp}})}),{deep:!0})})),t.$subscribe((({events:r,type:o},s)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(Up),!Lp)return;const i={time:n(),title:$p(o),data:Bp({store:Ip(t.$id)},Mp(r)),groupId:zp};o===ip.patchFunction?i.subtitle="\u2935\ufe0f":o===ip.patchObject?i.subtitle="\u{1f9e9}":r&&!Array.isArray(r)&&(i.subtitle=r.type),r&&(i.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),e.addTimelineEvent({layerId:Fp,event:i})}),{detached:!0,flush:"sync"});const r=t._hotUpdate;t._hotUpdate=Rt((o=>{r(o),e.addTimelineEvent({layerId:Fp,event:{time:n(),title:"\u{1f525} "+t.$id,subtitle:"HMR update",data:{store:Ip(t.$id),info:Ip("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(Up),e.sendInspectorState(Up)}));const{$dispose:o}=t;t.$dispose=()=>{o(),e.notifyComponentUpdate(),e.sendInspectorTree(Up),e.sendInspectorState(Up),e.getSettings().logStoreChanges&&bp(`Disposed "${t.$id}" store \u{1f5d1}`)},e.notifyComponentUpdate(),e.sendInspectorTree(Up),e.sendInspectorState(Up),e.getSettings().logStoreChanges&&bp(`"${t.$id}" store installed \u{1f195}`)}))}let zp,Wp=0;function Zp(e,t,n){const r=t.reduce(((t,n)=>(t[n]=It(e)[n],t)),{});for(const t in r)e[t]=function(){const o=Wp,s=n?new Proxy(e,{get:(...e)=>(zp=o,Reflect.get(...e)),set:(...e)=>(zp=o,Reflect.set(...e))}):e;zp=o;const i=r[t].apply(s,arguments);return zp=void 0,i}}function Gp({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(t._isOptionsAPI=!!n.state,!t._p._testing){Zp(t,Object.keys(n.actions),t._isOptionsAPI);const e=t._hotUpdate;It(t)._hotUpdate=function(n){e.apply(this,arguments),Zp(t,Object.keys(n._hmrPayload.actions),!!t._isOptionsAPI)}}Hp(e,t)}}function Kp(){const e=Yt(!0),t=e.run((()=>Pt({})));let n=[],r=[];const o=Rt({install(e){np(o),Bl||(o._a=e,e.provide(op,o),e.config.globalProperties.$pinia=o,"undefined"!=typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&ap&&Vp(e,o),r.forEach((e=>n.push(e))),r=[])},use(e){return this._a||Bl?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return"undefined"!=typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&ap&&"undefined"!=typeof Proxy&&o.use(Gp),o}const Yp=()=>{};function Jp(e,t,n,r=Yp){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&Xt()&&Qt(o),o}function Xp(e,...t){e.slice().forEach((e=>{e(...t)}))}const Qp=e=>e(),ed=Symbol(),td=Symbol();function nd(e,t){e instanceof Map&&t instanceof Map?t.forEach(((t,n)=>e.set(n,t))):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];sp(o)&&sp(r)&&e.hasOwnProperty(n)&&!Nt(r)&&!Et(r)?e[n]=nd(o,r):e[n]=r}return e}const rd=Symbol();function od(e){return!sp(e)||!e.hasOwnProperty(rd)}const{assign:sd}=Object;function id(e){return!(!Nt(e)||!e.effect)}function ad(e,t,n,r){const{state:o,actions:s,getters:i}=t,a=n.state.value[e];let c;function u(){a||(Bl?wt(n.state.value,e,o?o():{}):n.state.value[e]=o?o():{});const t=Dt(n.state.value[e]);return sd(t,s,Object.keys(i||{}).reduce(((t,r)=>(t[r]=Rt(Ut((()=>{np(n);const t=n._s.get(e);if(!Bl||t._r)return i[r].call(t,t)}))),t)),{}))}return c=cd(e,u,t,n,r,!0),c}function cd(e,t,n={},r,o,s){let i;const a=sd({actions:{}},n),c={deep:!0};let u,l,p,d=[],f=[];const h=r.state.value[e];s||h||(Bl?wt(r.state.value,e,{}):r.state.value[e]={});const m=Pt({});let g;function y(t){let n;u=l=!1,"function"==typeof t?(t(r.state.value[e]),n={type:ip.patchFunction,storeId:e,events:p}):(nd(r.state.value[e],t),n={type:ip.patchObject,payload:t,storeId:e,events:p});const o=g=Symbol();dr().then((()=>{g===o&&(u=!0)})),l=!0,Xp(d,n,r.state.value[e])}const v=s?function(){const{state:e}=n,t=e?e():{};this.$patch((e=>{sd(e,t)}))}:Yp;function b(){i.stop(),d=[],f=[],r._s.delete(e)}const _=(t,n="")=>{if(ed in t)return t[td]=n,t;const o=function(){np(r);const n=Array.from(arguments),s=[],i=[];function a(e){s.push(e)}function c(e){i.push(e)}let u;Xp(f,{args:n,name:o[td],store:k,after:a,onError:c});try{u=t.apply(this&&this.$id===e?this:k,n)}catch(e){throw Xp(i,e),e}return u instanceof Promise?u.then((e=>(Xp(s,e),e))).catch((e=>(Xp(i,e),Promise.reject(e)))):(Xp(s,u),u)};return o[ed]=!0,o[td]=n,o},w=Rt({actions:{},getters:{},state:[],hotState:m}),x={_p:r,$id:e,$onAction:Jp.bind(null,f),$patch:y,$reset:v,$subscribe(t,n={}){const o=Jp(d,t,n.detached,(()=>s())),s=i.run((()=>Zt((()=>r.state.value[e]),(r=>{("sync"===n.flush?l:u)&&t({storeId:e,type:ip.direct,events:p},r)}),sd({},c,n))));return o},$dispose:b};Bl&&(x._r=!1);const k=St("undefined"!=typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&ap?sd({_hmrPayload:w,_customProperties:Rt(new Set)},x):x);r._s.set(e,k);const S=(r._a&&r._a.runWithContext||Qp)((()=>r._e.run((()=>(i=Yt()).run((()=>t({action:_})))))));for(const t in S){const n=S[t];if(Nt(n)&&!id(n)||Et(n))s||(h&&od(n)&&(Nt(n)?n.value=h[t]:nd(n,h[t])),Bl?wt(r.state.value[e],t,n):r.state.value[e][t]=n);else if("function"==typeof n){const e=_(n,t);Bl?wt(S,t,e):S[t]=e,a.actions[t]=n}}if(Bl?Object.keys(S).forEach((e=>{wt(k,e,S[e])})):(sd(k,S),sd(It(k),S)),Object.defineProperty(k,"$state",{get:()=>r.state.value[e],set:e=>{y((t=>{sd(t,e)}))}}),"undefined"!=typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&ap){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((t=>{Object.defineProperty(k,t,sd({value:k[t]},e))}))}return Bl&&(k._r=!0),r._p.forEach((e=>{if("undefined"!=typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&ap){const t=i.run((()=>e({store:k,app:r._a,pinia:r,options:a})));Object.keys(t||{}).forEach((e=>k._customProperties.add(e))),sd(k,t)}else sd(k,i.run((()=>e({store:k,app:r._a,pinia:r,options:a}))))})),h&&s&&n.hydrate&&n.hydrate(k.$state,h),u=!0,l=!0,k}function ud(e,t,n){let r,o;const s="function"==typeof t;function i(e,n){const i=ql();return(e=e||(i?tn(op,null):null))&&np(e),(e=tp)._s.has(r)||(s?cd(r,t,o,e):ad(r,o,e)),e._s.get(r)}return"string"==typeof e?(r=e,o=s?n:t):(o=e,r=e.id),i.$id=r,i}function ld(e){if(Bl)return Dt(e);{const t=It(e),n={};for(const r in t){const o=t[r];o.effect?n[r]=Ut({get:()=>e[r],set(t){e[r]=t}}):(Nt(o)||Et(o))&&(n[r]=Ft(e,r))}return n}}var pd=c(3);const dd=ud(ec,(()=>{const e=Pt(null),t=Pt([]),n=Pt(null),r=Pt(C()),o=Pt(null),s=Pt(!1),i=Pt(!1),a=Pt(0),c=Ut((()=>!e.value)),u=Ut((()=>!!e.value?.isAdmin)),l=Xa(),p=Qa(),d=Cu()?new nl:new Gu,f={axiosRefreshInstance:p,jwtTokenService:d,lastRefreshed:a,isRefreshing:s,access:n,logout:g},h=Cu()?new pl(f):new al(f);async function m(r){if(!r?.user)throw new Error("User is not provided");e.value=r.user,t.value=r.permissions,n.value=lc.accessFromPair(r.tokens),await d.setFromPair(r.tokens)}async function g(){e.value=null,t.value=null,n.value=null;const r=(await d.getRefreshToken())?.token;if(r){await d.clear();const e={progress:!1,skipAuthRefresh:!0};await l.post(uc,{token:r},e)}}async function y(){c.value||await l.get(dl,{progress:!1}).then((t=>{Ul.fromModel(t.data).equals(e.value)||(e.value=t.data)})).catch((e=>{pd.warn(e)}))}async function v(){c.value||l.get(fl,{progress:!1}).then((n=>{const{permissions:r,user:o}=n.data;JSON.stringify(r)!==JSON.stringify(t.value)&&(t.value=r),Ul.fromModel(o).equals(e.value)||(e.value=o)}))}function b(e){o.value||(o.value=Date.now(),e?.())}return l||pd.error("You must initialize axios before useAuthStore"),{user:e,permissions:t,access:n,clientId:r,initialized:o,isRefreshing:s,isLoggingOut:i,isGuest:c,isAdmin:u,init:b,login:m,logout:g,refreshTokens:h.refreshTokensDebounced,refreshUser:y,refreshUserWithPermissions:v}}),{sync:!0,persist:{includePaths:["user","permissions","access","clientId","initialized"]}}),fd="@@CLOUD_SYNC",hd="cloud",md={REGISTER:"register",GET:"get",SET:"set",PROFILES_UPDATE:"profiles-update"};var gd;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OK=1]="OK",e[e.DISABLED=2]="DISABLED",e[e.FAILED=3]="FAILED",e[e.OFFLINE=4]="OFFLINE"}(gd||(gd={}));const yd=ud(fd,(()=>{const e=Pt(null),t=Pt(null),n=Pt(),r=Pt(),o=Pt(null),s=Pt({}),i=Pt(),a=Ut((()=>e.value?n.value?o.value?gd.FAILED:gd.OK:gd.OFFLINE:gd.DISABLED));function c(t){e.value&&wt(s.value,t,Date.now())}function u(e){xt(s.value,e)}function l(n){t.value=n,e.value=n}return{profileId:e,unpopulatedProfileId:t,isConnected:n,syncedAt:r,status:a,profilesUpdatedAt:i,pendingUpdates:s,addPendingUpdate:c,removePendingUpdate:u,initNewlyCreatedProfile:l}}),{sync:!0,persist:{migrate:e=>e}});class vd{constructor(e){this.authStore=dd(),this.accessToken&&e.connect(),Zt((()=>this.authStore.isGuest),(t=>{t?e.disconnect():e.connect()})),Zt((()=>this.accessToken),((t,n)=>{e.isConnected&&(!t&&n?e.disconnect():this?.hasAccessTokenExpired()||e.reconnect())}));let t=0;const n=18e4,r=1e5,o=1e5,s=30,i=()=>{e.isConnected?t=0:this.authStore.isGuest||e.isConnected||e.isReconnecting?t>1&&t%10==0&&(e.isReconnecting=!1):(t++,e.connect());let a=r;if(t>s){const e=(t-s)*o;a=Math.min(r+e,n)}setTimeout((()=>i()),a)};setTimeout((()=>i()),r)}get accessToken(){return this.authStore.access?.token??null}async refreshTokens(){return await this.authStore.refreshTokens(),!!this.authStore.access}hasAccessTokenExpired(){const{expiresAt:e}=this.authStore.access??{};return!!e&&du()(e).isBefore(du()())}}class bd{constructor(){this.reconnectedAt=null,this.id=Tu(),this.createdAt=new Date}}class _d{constructor(){this.wsServices=new Map}static getInstance(){return this.instance||(this.instance=new _d),this.instance}getService(e){return this.wsServices.get(e)}addService(e,t){this.wsServices.set(e,t)}removeService(e){this.wsServices.delete(e)}getServices(){return this.wsServices}}function wd(e=0,t){return function(n,r,o){const s=o.value,i=ol()((function(...e){return s.apply(this,e)}),e,t);return o.value=function(...e){return i.apply(this,e)},o.value.cancel=i.cancel,o.value.flush=i.flush,o}}const xd=Object.create(null);xd.open="0",xd.close="1",xd.ping="2",xd.pong="3",xd.message="4",xd.upgrade="5",xd.noop="6";const kd=Object.create(null);Object.keys(xd).forEach((e=>{kd[xd[e]]=e}));const Sd={type:"error",data:"parser error"},Td="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Od="function"==typeof ArrayBuffer,Ed=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,jd=({type:e,data:t},n,r)=>Td&&t instanceof Blob?n?r(t):Ad(t,r):Od&&(t instanceof ArrayBuffer||Ed(t))?n?r(t):Ad(new Blob([t]),r):r(xd[e]+(t||"")),Ad=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},Id=jd,Rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cd="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<Rd.length;e++)Cd[Rd.charCodeAt(e)]=e;const Nd=e=>{let t,n,r,o,s,i=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const u=new ArrayBuffer(i),l=new Uint8Array(u);for(t=0;t<a;t+=4)n=Cd[e.charCodeAt(t)],r=Cd[e.charCodeAt(t+1)],o=Cd[e.charCodeAt(t+2)],s=Cd[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|o>>2,l[c++]=(3&o)<<6|63&s;return u},Pd="function"==typeof ArrayBuffer,Md=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Ld(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:$d(e.substring(1),t)}:kd[n]?e.length>1?{type:kd[n],data:e.substring(1)}:{type:kd[n]}:Sd},$d=(e,t)=>{if(Pd){const n=Nd(e);return Ld(n,t)}return{base64:!0,data:e}},Ld=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,Dd=Md,Fd=String.fromCharCode(30),Ud=(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,s)=>{Id(e,!1,(e=>{r[s]=e,++o===n&&t(r.join(Fd))}))}))},Bd=(e,t)=>{const n=e.split(Fd),r=[];for(let e=0;e<n.length;e++){const o=Dd(n[e],t);if(r.push(o),"error"===o.type)break}return r},qd=4;function Vd(e){if(e)return Hd(e)}function Hd(e){for(var t in Vd.prototype)e[t]=Vd.prototype[t];return e}Vd.prototype.on=Vd.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Vd.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Vd.prototype.off=Vd.prototype.removeListener=Vd.prototype.removeAllListeners=Vd.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Vd.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},Vd.prototype.emitReserved=Vd.prototype.emit,Vd.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Vd.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zd="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Wd(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Zd=zd.setTimeout,Gd=zd.clearTimeout;function Kd(e,t){t.useNativeTimers?(e.setTimeoutFn=Zd.bind(zd),e.clearTimeoutFn=Gd.bind(zd)):(e.setTimeoutFn=zd.setTimeout.bind(zd),e.clearTimeoutFn=zd.clearTimeout.bind(zd))}const Yd=1.33;function Jd(e){return"string"==typeof e?Xd(e):Math.ceil((e.byteLength||e.size)*Yd)}function Xd(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class Qd extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ef extends Vd{constructor(e){super(),this.writable=!1,Kd(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Qd(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Dd(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const tf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nf=64,rf={};let of,sf=0,af=0;function cf(e){let t="";do{t=tf[e%nf]+t,e=Math.floor(e/nf)}while(e>0);return t}function uf(){const e=cf(+new Date);return e!==of?(sf=0,of=e):e+"."+cf(sf++)}for(;af<nf;af++)rf[tf[af]]=af;function lf(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function pf(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}let df=!1;try{df="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const ff=df;function hf(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||ff))return new XMLHttpRequest}catch(e){}if(!t)try{return new(zd[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function mf(){}const gf=null!=new hf({xdomain:!1}).responseType;class yf extends ef{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=gf&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};Bd(e,this.socket.binaryType).forEach(t),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,Ud(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=uf()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=lf(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new vf(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class vf extends Vd{constructor(e,t){super(),Kd(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Wd(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new hf(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=vf.requestsCount++,vf.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=mf,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete vf.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function bf(){for(let e in vf.requests)vf.requests.hasOwnProperty(e)&&vf.requests[e].abort()}vf.requestsCount=0,vf.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",bf):"function"==typeof addEventListener&&addEventListener("onpagehide"in zd?"pagehide":"unload",bf,!1));const _f="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),wf=zd.WebSocket||zd.MozWebSocket,xf=!0,kf="arraybuffer";var Sf=c(75).hp;const Tf="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Of extends ef{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Tf?{}:Wd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=xf&&!Tf?t?new wf(e,t):new wf(e):new wf(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||kf,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Id(n,this.supportsBinary,(e=>{const t={};!xf&&(n.options&&(t.compress=n.options.compress),this.opts.perMessageDeflate)&&("string"==typeof e?Sf.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1);try{xf?this.ws.send(e):this.ws.send(e,t)}catch(e){}r&&_f((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=uf()),this.supportsBinary||(e.b64=1);const r=lf(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!wf}}const Ef={websocket:Of,polling:yf},jf=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Af=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function If(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=jf.exec(e||""),s={},i=14;for(;i--;)s[Af[i]]=o[i]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Rf(s,s.path),s.queryKey=Cf(s,s.query),s}function Rf(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}function Cf(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}class Nf extends Vd{constructor(e,t={}){super(),this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=If(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=If(t.host).host),Kd(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=pf(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=qd,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ef[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Nf.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;Nf.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Nf.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,u(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function a(){s("socket closed")}function c(e){t&&e.name!==t.name&&o()}const u=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",i),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",s),t.once("close",i),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",Nf.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=Jd(n)),t>0&&e>this.maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){Nf.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}function Pf(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=If(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}Nf.protocol=qd,Nf.protocol;const Mf="function"==typeof ArrayBuffer,$f=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Lf=Object.prototype.toString,Df="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Lf.call(Blob),Ff="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Lf.call(File);function Uf(e){return Mf&&(e instanceof ArrayBuffer||$f(e))||Df&&e instanceof Blob||Ff&&e instanceof File}function Bf(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Bf(e[t]))return!0;return!1}if(Uf(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Bf(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Bf(e[t]))return!0;return!1}function qf(e){const t=[],n=e.data,r=e;return r.data=Vf(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Vf(e,t){if(!e)return e;if(Uf(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Vf(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Vf(e[r],t));return n}return e}function Hf(e,t){return e.data=zf(e.data,t),delete e.attachments,e}function zf(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=zf(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=zf(e[n],t));return e}const Wf=5;var Zf;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Zf||(Zf={}));class Gf{constructor(e){this.replacer=e}encode(e){return e.type!==Zf.EVENT&&e.type!==Zf.ACK||!Bf(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Zf.EVENT?Zf.BINARY_EVENT:Zf.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Zf.BINARY_EVENT&&e.type!==Zf.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=qf(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}class Kf extends Vd{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Zf.BINARY_EVENT;n||t.type===Zf.BINARY_ACK?(t.type=n?Zf.EVENT:Zf.ACK,this.reconstructor=new Yf(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Uf(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Zf[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Zf.BINARY_EVENT||n.type===Zf.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Kf.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case Zf.CONNECT:return"object"==typeof t;case Zf.DISCONNECT:return void 0===t;case Zf.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Zf.EVENT:case Zf.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Zf.ACK:case Zf.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Yf{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Hf(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Jf(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Xf=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Qf extends Vd{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Jf(e,"open",this.onopen.bind(this)),Jf(e,"packet",this.onpacket.bind(this)),Jf(e,"error",this.onerror.bind(this)),Jf(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Xf.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:Zf.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(o),t.apply(this,[null,...e])}}emitWithAck(e,...t){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,o)=>{t.push(((e,t)=>n?e?o(e):r(t):r(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...r)=>{if(n===this._queue[0])return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Zf.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Zf.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Zf.EVENT:case Zf.BINARY_EVENT:this.onevent(e);break;case Zf.ACK:case Zf.BINARY_ACK:this.onack(e);break;case Zf.DISCONNECT:this.ondisconnect();break;case Zf.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:Zf.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Zf.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function eh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}eh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},eh.prototype.reset=function(){this.attempts=0},eh.prototype.setMin=function(e){this.ms=e},eh.prototype.setMax=function(e){this.max=e},eh.prototype.setJitter=function(e){this.jitter=e};class th extends Vd{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Kd(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new eh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||e;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Nf(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Jf(t,"open",(function(){n.onopen(),e&&e()})),o=Jf(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Jf(e,"ping",this.onping.bind(this)),Jf(e,"data",this.ondata.bind(this)),Jf(e,"error",this.onerror.bind(this)),Jf(e,"close",this.onclose.bind(this)),Jf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){_f((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Qf(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const nh={};function rh(e,t){"object"==typeof e&&(t=e,e=void 0);const n=Pf(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,s=n.path,i=nh[o]&&s in nh[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?a=new th(r,t):(nh[o]||(nh[o]=new th(r,t)),a=nh[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(rh,{Manager:th,Socket:Qf,io:rh,connect:rh});class oh extends Error{constructor(e){super(null!=e?`Timed out after waiting for ${e} ms`:"Timed out"),Object.setPrototypeOf(this,oh.prototype)}}const sh=(e,t)=>new Promise(((n,r)=>{try{e.schedule(n,t)}catch(e){r(e)}})),ih={schedule:(e,t)=>{let n;const r=e=>{null!=e&&clearTimeout(e),n=void 0};return n=setTimeout((()=>{r(n),e()}),t),{cancel:()=>r(n)}}},ah=Number.POSITIVE_INFINITY,ch=(e,t,n)=>{var r,o;const s=null!==(r="number"==typeof t?t:null==t?void 0:t.timeout)&&void 0!==r?r:5e3,i=null!==(o="number"==typeof t?n:null==t?void 0:t.intervalBetweenAttempts)&&void 0!==o?o:50;let a=!1;const c=()=>new Promise(((t,n)=>{const r=()=>{a||new Promise(((t,n)=>{try{t(e())}catch(t){n(t)}})).then((e=>{e?t(e):sh(ih,i).then(r).catch(n)})).catch(n)};r()})),u=s!==ah?()=>sh(ih,s).then((()=>{throw a=!0,new oh(s)})):void 0;return null!=u?Promise.race([c(),u()]):c()};var uh,lh=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},ph=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class dh{constructor(e){this.options=e,this.connectStatus$=new yu(!1),this.session$=new yu(null),this.isReconnecting=!1,this.debugger=Fu.create("ws",this).toggle(Du.isDebug),this.authManager="function"==typeof e.authManager?new e.authManager(this):e.authManager??this.authManager;let t="wss://lumetrium.com";e.port&&(t+=`:${e.port}`),e.namespace&&(t+=`/${e.namespace}`),this.socket=rh(t,{port:e.port,transports:["websocket"],forceNew:!0,query:{appId:Du.appId,appVersion:Du.version},agent:!1,upgrade:!1,rejectUnauthorized:!1,closeOnBeforeunload:!0,autoConnect:!1,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:6e4,reconnectionAttempts:25,randomizationFactor:.5,auth:e=>e({token:this.authManager?.accessToken})}),this.socket.on("connect",this.onConnect.bind(this)),this.socket.on("disconnect",this.onDisconnect.bind(this)),this.socket.on("connect_error",this.onConnectError.bind(this)),e.name&&_d.getInstance().addService(e.name,this)}get isConnected(){return this.socket.connected}get isAuthed(){return!!this.authManager?.accessToken}get session(){return this.session$.getValue()}connect(e=!0){e&&this.session$.next(new bd),this.socket.connect()}disconnect(){this.socket.disconnect()}reconnect(){this.toggleReconnectStatus(!0),this.disconnect(),this.connect(!1)}hasRecentlyConnected(e=200){return this.session?.createdAt?.getTime()>Date.now()-e}hasRecentlyReconnected(e=200){return this.session?.reconnectedAt?.getTime()>Date.now()-e}emit(e,t){this.socket.emit(e,t)}onMessage(e,t){this.socket.on(e,t)}async request(e){try{await ch((async()=>this.socket.connected),{timeout:15e3})}catch(e){throw new Error("No socket connection.")}if(!e.skipAuthCheck&&this.authManager?.hasAccessTokenExpired()&&!await this.refreshAuthTokensAndReconnect())throw new Error("Failed to refresh tokens.");return new Promise(((t,n)=>{this.socket.emit(e.event,e.payload,(r=>{if(!r?.error)return t(r);this.handleError(r,e).then(t).catch((()=>n(r)))}))}))}dispatcher(e){const t=this;return n=>t.request({event:e,payload:n})}async onConnect(){this.debugger.logger.info("connected"),this.connectStatus$.next(!0),this.toggleReconnectStatus(!1)}async onDisconnect(e,t){this.debugger.logger.info("disconnected",{reason:e,details:t}),this.connectStatus$.next(!1)}async onConnectError(e){this.debugger.logger.error("connect_error",e),this.connectStatus$.next(!1),this.toggleReconnectStatus(!1),401===e.data?.code&&await this.refreshAuthTokensAndReconnect()}toggleReconnectStatus(e){this.isReconnecting!==e&&(!1===e&&!0===this.isReconnecting&&(this.session.reconnectedAt=new Date),this.isReconnecting=e)}logError(e){this.debugger.logger.error("string"==typeof e.error?e.error:e.status||"Unknown error",e)}async handleError(e,t){if(this.logError(e),t?.onError)return t.onError(e,t);if(401===e.status&&this.authManager?.accessToken&&!await this.refreshAuthTokensAndReconnect())throw e;if(!t||0===t.retry||!1===t.retry)throw e;return this.request({...t,retry:(t.retry??1)-1})}async refreshAuthTokensAndReconnect(){const e=e=>(this.debugger.logger.error(e),!1);return this.authManager?this.authManager.accessToken?await this.authManager.refreshTokens()?(this.reconnect(),!0):e("Failed to refresh tokens."):e("No access token. User is likely not logged in."):e("No auth manager.")}}lh([wd(500,{maxWait:1e4,leading:!0,trailing:!1}),ph("design:type",Function),ph("design:paramtypes",[]),ph("design:returntype","function"==typeof(uh="undefined"!=typeof Promise&&Promise)?uh:Object)],dh.prototype,"refreshAuthTokensAndReconnect",null);class fh extends dh{constructor(){super(...arguments),this.authManager=new vd(this)}static getInstance(){return this.instance||(this.instance=new fh({namespace:"preference",name:fd})),this.instance}}var hh=c(3);class mh{constructor(){this.wsService=fh.getInstance(),this.wsDispatcher=this.wsService.dispatcher.bind(this.wsService),this.authStore=dd(),this.cloudSyncStore=yd(),this.configName=hd,this.debugger=Fu.create(fd,this).toggle(!1),this.isInited=!1,this.receivedUpdate$=new iu,this.hydrateDebounced=sl(((e,t)=>rp().hydrate(e,t)),1e3),this.wsService.connectStatus$.subscribe((e=>{this.cloudSyncStore.isConnected=e})),this.wsService.onMessage(md.SET,(e=>{this.debugger.logger.info("External SET",e);const t=Object.keys(e)[0],{profileId:n,pendingUpdates:r}=this.cloudSyncStore;n&&!r[t]&&(this.receivedUpdate$.next({key:t,value:e[t]}),this.cloudSyncStore.syncedAt=(new Date).getTime())})),this.wsService.onMessage(md.PROFILES_UPDATE,(e=>{this.cloudSyncStore.profilesUpdatedAt=(new Date).getTime(),e?.removedId===this.cloudSyncStore.profileId&&(this.cloudSyncStore.profileId=null)})),Zt([()=>this.cloudSyncStore.profileId,()=>this.cloudSyncStore.isConnected],(async([e,t],[n])=>{if(this.isInited&&e!==n&&(this.cloudSyncStore.pendingUpdates={}),this.isInited=!0,t&&!await this.register())return;if(!e||!t)return;const r=!this.wsService.hasRecentlyConnected()&&this.wsService.hasRecentlyReconnected();this.cloudSyncStore.unpopulatedProfileId===e?await this.populateProfile():r&&e===n?r&&await this.syncAllPending():await this.performFullSync(),this.cloudSyncStore.syncedAt=(new Date).getTime()})),Zt((()=>this.authStore.isGuest),(e=>{e&&(this.cloudSyncStore.profileId=null)}),{immediate:!0})}async register(){try{return await this.wsService.request({event:md.REGISTER,payload:this.getBasePayloadData()})}catch(e){const t=e;return 404===t?.status&&(this.cloudSyncStore.profileId=null),!1}}async getOne(e){if(this.debugger.logger.info(`Get "${e}"`),!this.wsService.isAuthed||!this.cloudSyncStore.profileId)throw new Error("You must log in and have a profile to set a preference");if(!this.wsService.isConnected)throw new Error("No socket connection.");if(this.cloudSyncStore.pendingUpdates[e])throw new Error("Can't retrieve a preference that is pending update");try{const t=await this.wsService.request({event:md.GET,payload:{...this.getBasePayloadData(),name:e}});return t?.data}catch(t){throw 404===t.status&&this.cloudSyncStore.addPendingUpdate(e),t}}async setOne(e,t){const n=this.debugger.logger;if(n.info(`Set "${e}"`,t),!this.wsService.isAuthed||!this.cloudSyncStore.profileId)throw new Error("You must log in and have a profile to set a preference");if(!this.wsService.isConnected)return this.cloudSyncStore.addPendingUpdate(e);try{const r=await this.wsService.request({event:md.SET,payload:{...this.getBasePayloadData(),name:e,data:t,clientTime:Date.now(),updateTime:this.cloudSyncStore.pendingUpdates[e]||Date.now()}});n.success(`Set "${e}" successful`,r),this.cloudSyncStore.pendingUpdates[e]&&(r?.data&&(n.info(`Applying pending updates for "${e}"`,r),await this.hydrateDebounced(e,r.data),n.success(`Pending updates for "${e}" applied`,r)),this.cloudSyncStore.removePendingUpdate(e))}catch(t){hh.error("CloudSyncService setOne error",t),this.cloudSyncStore.addPendingUpdate(e)}}getBasePayloadData(){return{profileId:this.cloudSyncStore.profileId,appId:Du.appId,appVersion:Du.version,userId:this.authStore.user?.id,clientId:this.authStore.clientId}}async populateProfile(){await rp().persist(this.configName),this.cloudSyncStore.unpopulatedProfileId=null}async performFullSync(){await rp().restore(this.configName),await rp().persist(this.configName,Object.keys(this.cloudSyncStore.pendingUpdates))}async syncAllPending(){await rp().persist(this.configName,Object.keys(this.cloudSyncStore.pendingUpdates))}}class gh{constructor(){this.service=new mh,this.externalUpdate$=this.service.receivedUpdate$.pipe()}async getItem(e){if(!e)throw Error("CloudAsyncStorage: key is required");try{return await this.service.getOne(e)}catch(e){return null}}async setItem(e,t){try{await this.service.setOne(e,t)}catch(e){return null}return t}async removeItem(e){new Error("Can't remove item from cloud storage")}async clear(){new Error("Can't clear cloud storage")}async length(){throw new Error("Can't get length of cloud storage")}}let yh=null;const vh={name:hd,persist:!0,persistDebounce:500,hydrateDebounce:500,standalone:!0,storage:new Proxy({},{get:(e,t)=>(yh||(yh=new gh),yh[t])})},bh={name:null,persist:!0},_h=ud("bubble-hotkeys",(()=>{const e=Pt(null),t=Pt(L.reduce(((e,t)=>({...e,[t.id]:t.hotkeys})),{})),n=Ut((()=>L.map((e=>({...e,hotkeys:t.value[e.id]??e.hotkeys})))));function r(e){return n.value.find((t=>t.id===e))}function o(e){return r(e)?.hotkeys}function s(e){t.value={...t.value,[e.triggerId]:e.hotkeys}}function i(e){const n=t.value[e.triggerId];wt(t.value,e.triggerId,n?[...n,e.hotkey]:[e.hotkey])}function a(){e.value||(e.value=Date.now(),n.value.forEach((e=>{t.value[e.id]||s({triggerId:e.id,hotkeys:o(e.id)})})))}return{hotkeys:t,initialized:e,triggers:n,getTrigger:r,getHotkeys:o,setHotkeys:s,addHotkey:i,init:a}}),{sync:!0,persist:[bh,vh]});function wh(){function e(){if(Intl&&Intl.DateTimeFormat&&"function"==typeof Intl.DateTimeFormat().resolvedOptions)return Intl.DateTimeFormat().resolvedOptions().timeZone}return{getTimezone:e}}var xh=c(107),kh=c.n(xh),Sh=c(478),Th=c.n(Sh),Oh=c(122),Eh=c.n(Oh),jh=c(112),Ah=c.n(jh),Ih=c(124),Rh=c.n(Ih),Ch=c(109);async function Nh(e){const t=Mh(e),n=[Ph(t,e)];e.timeout&&e.timeout>0&&n.push(new Promise((n=>{setTimeout((()=>{const r=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of "+e.timeout+"ms exceeded";n($h(r,e,"ECONNABORTED",t))}),e.timeout)})));const r=await Promise.race(n);return new Promise(((t,n)=>{r instanceof Error?n(r):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,n,r):Eh()(t,n,r)}))}async function Ph(e,t){let n;try{n=await fetch(e)}catch(n){return $h("Network Error",t,"ERR_NETWORK",e)}const r={ok:n.ok,status:n.status,statusText:n.statusText,headers:new Headers(n.headers),config:t,request:e};if(n.status>=200&&204!==n.status)switch(t.responseType){case"arraybuffer":r.data=await n.arrayBuffer();break;case"blob":r.data=await n.blob();break;case"json":r.data=await n.json();break;case"formData":r.data=await n.formData();break;default:r.data=await n.text()}return r}function Mh(e){const t=new Headers(e.headers);if(e.auth){const n=e.auth.username||"",r=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";t.set("Authorization",`Basic ${btoa(n+":"+r)}`)}const n=e.method.toUpperCase(),r={headers:t,method:n};"GET"!==n&&"HEAD"!==n&&(r.body=e.data,(0,Ch.isFormData)(r.body)&&(0,Ch.isStandardBrowserEnv)()&&t.delete("Content-Type")),e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.integrity&&(r.integrity=e.integrity),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer),(0,Ch.isUndefined)(e.withCredentials)||(r.credentials=e.withCredentials?"include":"omit");const o=Rh()(e.baseURL,e.url),s=Ah()(o,e.params,e.paramsSerializer);return new Request(s,r)}function $h(e,t,n,r,o){return kh().AxiosError&&"function"==typeof kh().AxiosError?new(kh().AxiosError)(e,kh().AxiosError[n],t,r,o):Lh(new Error(e),t,n,r,o)}function Lh(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}const Dh={adapter:Nh,baseURL:"https://lumetrium.com",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Credentials":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"}},Fh=kh().create(Dh);Th()(Fh,{debug:!1});const Uh=e=>e,Bh=e=>e;Fh.interceptors.request.use(Uh),Fh.interceptors.request.use(Bh),Fh.interceptors.response.use((e=>e),(e=>Promise.reject(e)));var qh=c(479),Vh=c.n(qh),Hh=c(3);function zh(e=Fh){try{ts.prototype.$axios=e}catch(e){}globalThis.axiosGlobalInstance=e,globalThis.axiosRefreshInstance=kh().create(e.defaults),Wh({axios:globalThis.axiosRefreshInstance}),Zh({axios:e})}function Wh({axios:e}){const t=dd();e.interceptors.request.use((async e=>(e.headers.Client=t.clientId,e.headers.Application=Du.appId,e.headers.Version=Du.version,e.headers.Entry=Du.entry,e)))}function Zh({axios:e}){const t=dd();e.interceptors.request.use((async e=>{let n=t.access;return n&&!e.skipAuthRefresh&&+n.expiresAt-(new Date).getTime()<0&&await t.refreshTokens(),n=t.access,n?.token&&(e.headers.Authorization=`Bearer ${n?.token}`),e.headers.Client=t.clientId,e.headers.Application=Du.appId,e.headers.Version=Du.version,e.headers.Entry=Du.entry,e})),Vh()(e,(e=>new Promise((n=>setTimeout((()=>t.refreshTokens().then((()=>{const n=t.access?.token;if(!n)throw new Error("No refresh token found, unable to get a new pair.");e.config.headers.Authorization=`Bearer ${n}`})).catch((e=>{throw Hh.error("Failed to refresh token",e),e})).finally((()=>n(null)))),0)))),{})}const Gh={adapter:Nh,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Credentials":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"}},Kh=kh().create(Gh);Th()(Kh,{debug:!1});const Yh=e=>e;Kh.interceptors.request.use(Yh),Kh.interceptors.response.use((e=>e),(e=>Promise.reject(e)));class Jh{getOptionsPage(e){let t="options/options.html";return e&&(t+=`#${e}`),chrome.runtime?.getURL(t)}getPopupPage(e,t){let n="popup/popup.html";return e&&(n+=`#${e}`),t&&(n+=`?q=${t}`),chrome.runtime?.getURL(n)}getPdfReaderPage(e=""){const t="pdf-reader/index.html";return chrome.runtime?.getURL(t+""+(e?`#/?direct&url=${e}`:""))}isExtensionOptionsPage(e){return e.includes(this.getOptionsPage())}isExtensionPopupPage(e){return e.includes(this.getPopupPage())}isExtensionPdfReaderPage(e){return e.includes(this.getPdfReaderPage())}isPDF(e){if(e.includes(".pdf")){if(e.includes("?")&&(e=e.substring(0,e.lastIndexOf("?"))),e.includes("#")&&(e=e.substring(0,e.lastIndexOf("#"))),e.match(/(wikipedia|wikimedia).org/i)&&e.match(/(wikipedia|wikimedia)\.org\/.*\/[a-z]+\:[^\:\/]+\.pdf/i))return!1;if(!e.endsWith(".pdf"))return!1;for(let t=e.length;t>0;t--){if("="===e[t])return!1;if("/"===e[t])return!0}}return!1}canInjectScript(e){return!(!(this.isExtensionOptionsPage(e)||this.isExtensionPopupPage(e)||this.isExtensionPdfReaderPage(e))&&(Du.isFirefox?e.startsWith("file://")||Xh.isPDF(e)||!e||e.startsWith("about:")||e.startsWith("moz:")||e.startsWith("view-source:")||e.startsWith("addons.mozilla.org")||e.startsWith("https://addons.mozilla.org/"):Du.isEdge?!e||e.startsWith("chrome:")||e.startsWith("data:")||e.startsWith("devtools:")||e.startsWith("edge:")||e.startsWith("https://chrome.google.com")||e.startsWith("https://microsoftedge.microsoft.com/addons")||e.startsWith("view-source:"):!e||e.startsWith("chrome:")||e.startsWith("https://chromewebstore.google.com")||e.startsWith("data:")||e.startsWith("devtools:")||e.startsWith("view-source:")))}}const Xh=new Jh;var Qh,em=c(3);function tm(e){if("install"===e.reason&&(rm(),sm(),chrome.tabs.create({url:Xh.getOptionsPage("onboarding"),active:!0})),"update"===e.reason){om(e.previousVersion);const t=e.previousVersion;if(!t)return;const n=t.split(".");setTimeout((()=>nm(n)),6e3)}}function nm(e){if("1"===e[0]&&+e[1]<8){const e=_h();e.$persistedState.isReady.then((()=>{null===e.hotkeys[i]&&e.setHotkeys({triggerId:i,hotkeys:[new d({keys:!1,disabled:!0}),new d({keys:["CONTROL"]})]})}))}}async function rm(){const e=dd();return await e.$persistedState.isReady,Xa().post("/api/client/init",{buildTarget:Du.buildTarget,touchEnabled:navigator?.maxTouchPoints>0,timezone:wh().getTimezone()}).catch()}async function om(e){const t=dd();await t.$persistedState.isReady;const n=t.user?.id;return Xa().post("/api/client/update",{userId:n,previousVersion:e,buildTarget:Du.buildTarget,touchEnabled:navigator?.maxTouchPoints>0,timezone:wh().getTimezone()}).catch()}async function sm(){const e=await chrome.tabs.query({});for(const t of e)if(t.url&&t.url.startsWith("http"))try{await chrome.scripting.executeScript({target:{tabId:t.id},files:["chunks/en-messages-content-js.js","chunks/ru-messages-content-js.js","chunks/pl-messages-content-js.js","inject/bubble.js"]})}catch(e){em.error(`Failed to inject into tab ${t.id}: ${e}`)}}!function(e){e.Permissions="permissions",e.Triggers="triggers",e.Appearance="appearance",e.Sources="sources",e.Sync="sync",e.Next="next"}(Qh||(Qh={}));const im=[Qh.Triggers,Qh.Appearance,Qh.Sources,Qh.Sync,Qh.Next];function am(e,t){function n(t){return e.value.steps[t]}function r(t,r){wt(e.value.steps,t,{...n(t),...r})}function o(e){const t=n(e),o=Date.now();t?.firstVisit?.closeTime||r(e,{firstVisit:{...t.firstVisit,closeTime:o}}),r(e,{lastVisit:{...t.lastVisit,closeTime:o}})}function s(e){const o=n(e),s=t.value.indexOf(e),i=t.value.length,a=Date.now(),c=chrome.runtime?.getManifest().version,u={id:e,closeTime:null,openTime:a,index:s,totalSteps:i,appVersion:c};r(e,o?.firstVisit?{totalVisits:o.totalVisits+1,lastVisit:u}:{id:e,totalVisits:1,firstVisit:u,lastVisit:u})}return{onCloseStep:o,onOpenStep:s}}const cm=ud("onboarding",(()=>{const e=Pt(),t=Pt(!1),n=Pt(),r=Pt(im),o=Pt({steps:{}}),s=Ut((()=>n.value?r.value.indexOf(n.value):null)),{onOpenStep:i,onCloseStep:a}=am(o,r);async function c(){await d(),t.value||r.value.includes(Qh.Permissions)||(r.value=[Qh.Permissions,...r.value],p(Qh.Permissions)),n.value||p(r.value[0]),e.value||(e.value=Date.now())}function u(){p(s.value+1)}function l(){p(s.value-1)}function p(e){const t="number"==typeof e?r.value[e]:e;t!==n.value&&(n.value&&a(n.value),n.value=t,n.value&&i(n.value))}async function d(){chrome.permissions&&(t.value=await chrome.permissions.getAll().then((e=>e.origins.indexOf("<all_urls>")>-1)).catch((()=>!1)))}return{initialized:e,steps:r,step:n,stepIndex:s,hostPermissionGranted:t,metrics:o,init:c,next:u,prev:l,setStep:p,updatePermissionsStatus:d}}),{sync:!0,persist:[bh,{...vh,includePaths:["step","metrics","initialized"]}]});function um(e,t){if(0===e)return 0;const n=e>10&&e<20,r=e%10==1;return t<4?!n&&r?1:2:!n&&r?1:!n&&e%10>=2&&e%10<=4||t<4?2:3}function lm(e,t){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}var pm=c(3),dm=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function fm(e,t){void 0!==pm&&(pm.warn("[vue-i18n] "+e),t&&pm.warn(t.stack))}function hm(e,t){void 0!==pm&&(pm.error("[vue-i18n] "+e),t&&pm.error(t.stack))}var mm=Array.isArray;function gm(e){return null!==e&&"object"==typeof e}function ym(e){return"boolean"==typeof e}function vm(e){return"string"==typeof e}var bm=Object.prototype.toString,_m="[object Object]";function wm(e){return bm.call(e)===_m}function xm(e){return null==e}function km(e){return"function"==typeof e}function Sm(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=null,r=null;return 1===e.length?gm(e[0])||mm(e[0])?r=e[0]:"string"==typeof e[0]&&(n=e[0]):2===e.length&&("string"==typeof e[0]&&(n=e[0]),(gm(e[1])||mm(e[1]))&&(r=e[1])),{locale:n,params:r}}function Tm(e){return JSON.parse(JSON.stringify(e))}function Om(e,t){if(e.delete(t))return e}function Em(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function jm(e,t){return!!~e.indexOf(t)}var Am=Object.prototype.hasOwnProperty;function Im(e,t){return Am.call(e,t)}function Rm(e){for(var t=arguments,n=Object(e),r=1;r<arguments.length;r++){var o=t[r];if(null!=o){var s=void 0;for(s in o)Im(o,s)&&(gm(o[s])?n[s]=Rm(n[s],o[s]):n[s]=o[s])}}return n}function Cm(e,t){if(e===t)return!0;var n=gm(e),r=gm(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=mm(e),s=mm(t);if(o&&s)return e.length===t.length&&e.every((function(e,n){return Cm(e,t[n])}));if(o||s)return!1;var i=Object.keys(e),a=Object.keys(t);return i.length===a.length&&i.every((function(n){return Cm(e[n],t[n])}))}catch(e){return!1}}function Nm(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Pm(e){return null!=e&&Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=Nm(e[t]))})),e}function Mm(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[e,o.locale,o._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}}function $m(e){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===e&&(e=!1),e?{mounted:t}:{beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n){if(e.i18n instanceof Pg){if(e.__i18nBridge||e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){t=Rm(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(e){}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(wm(e.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Pg?this.$root.$i18n:null;if(n&&(e.i18n.root=this.$root,e.i18n.formatter=n.formatter,e.i18n.fallbackLocale=n.fallbackLocale,e.i18n.formatFallbackMessages=n.formatFallbackMessages,e.i18n.silentTranslationWarn=n.silentTranslationWarn,e.i18n.silentFallbackWarn=n.silentFallbackWarn,e.i18n.pluralizationRules=n.pluralizationRules,e.i18n.preserveDirectiveContent=n.preserveDirectiveContent),e.__i18nBridge||e.__i18n)try{var r=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){r=Rm(r,JSON.parse(e))})),e.i18n.messages=r}catch(e){}var o=e.i18n.sharedMessages;o&&wm(o)&&(e.i18n.messages=Rm(e.i18n.messages,o)),this._i18n=new Pg(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Pg?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Pg&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n?(e.i18n instanceof Pg||wm(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Pg||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Pg)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}}}var Lm={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var n=t.data,r=t.parent,o=t.props,s=t.slots,i=r.$i18n;if(i){var a=o.path,c=o.locale,u=o.places,l=s(),p=i.i(a,c,Dm(l)||u?Fm(l.default,u):l),d=o.tag&&!0!==o.tag||!1===o.tag?o.tag:"span";return d?e(d,n,p):p}}};function Dm(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}function Fm(e,t){var n=t?Um(t):{};if(!e)return n;var r=(e=e.filter((function(e){return e.tag||""!==e.text.trim()}))).every(Vm);return e.reduce(r?Bm:qm,n)}function Um(e){return Array.isArray(e)?e.reduce(qm,{}):Object.assign({},e)}function Bm(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function qm(e,t,n){return e[n]=t,e}function Vm(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var Hm,zm={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,r=t.parent,o=t.data,s=r.$i18n;if(!s)return null;var i=null,a=null;vm(n.format)?i=n.format:gm(n.format)&&(n.format.key&&(i=n.format.key),a=Object.keys(n.format).reduce((function(e,t){var r;return jm(dm,t)?Object.assign({},e,((r={})[t]=n.format[t],r)):e}),null));var c=n.locale||s.locale,u=s._ntp(n.value,c,i,a),l=u.map((function(e,t){var n,r=o.scopedSlots&&o.scopedSlots[e.type];return r?r(((n={})[e.type]=e.value,n.index=t,n.parts=u,n)):e.value})),p=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return p?e(p,{attrs:o.attrs,class:o.class,staticClass:o.staticClass},l):l}};function Wm(e,t,n){Km(e,n)&&Jm(e,t,n)}function Zm(e,t,n,r){if(Km(e,n)){var o=n.context.$i18n;Ym(e,n)&&Cm(t.value,t.oldValue)&&Cm(e._localeMessage,o.getLocaleMessage(o.locale))||Jm(e,t,n)}}function Gm(e,t,n,r){if(n.context){var o=n.context.$i18n||{};t.modifiers.preserve||o.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else fm("Vue instance does not exists in VNode context")}function Km(e,t){var n=t.context;return n?!!n.$i18n||(fm("VueI18n instance does not exists in Vue instance"),!1):(fm("Vue instance does not exists in VNode context"),!1)}function Ym(e,t){var n=t.context;return e._locale===n.$i18n.locale}function Jm(e,t,n){var r,o,s=Xm(t.value),i=s.path,a=s.locale,c=s.args,u=s.choice;if(i||a||c)if(i){var l=n.context;e._vt=e.textContent=null!=u?(r=l.$i18n).tc.apply(r,[i,u].concat(Qm(a,c))):(o=l.$i18n).t.apply(o,[i].concat(Qm(a,c))),e._locale=l.$i18n.locale,e._localeMessage=l.$i18n.getLocaleMessage(l.$i18n.locale)}else fm("`path` is required in v-t directive");else fm("value type not supported")}function Xm(e){var t,n,r,o;return vm(e)?t=e:wm(e)&&(t=e.path,n=e.locale,r=e.args,o=e.choice),{path:t,locale:n,args:r,choice:o}}function Qm(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||wm(t))&&n.push(t),n}function eg(e,t){void 0===t&&(t={bridge:!1}),eg.installed=!0,(Hm=e).version&&Number(Hm.version.split(".")[0]),Mm(Hm),Hm.mixin($m(t.bridge)),Hm.directive("t",{bind:Wm,update:Zm,unbind:Gm}),Hm.component(Lm.name,Lm),Hm.component(zm.name,zm),Hm.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var tg=function(){this._caches=Object.create(null)};tg.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=og(e),this._caches[e]=n),sg(n,t)};var ng=/^(?:\d)+/,rg=/^(?:\w)+/;function og(e){for(var t=[],n=0,r="";n<e.length;){var o=e[n++];if("{"===o){r&&t.push({type:"text",value:r}),r="";var s="";for(o=e[n++];void 0!==o&&"}"!==o;)s+=o,o=e[n++];var i="}"===o,a=ng.test(s)?"list":i&&rg.test(s)?"named":"unknown";t.push({value:s,type:a})}else"%"===o?"{"!==e[n]&&(r+=o):r+=o}return r&&t.push({type:"text",value:r}),t}function sg(e,t){var n=[],r=0,o=Array.isArray(t)?"list":gm(t)?"named":"unknown";if("unknown"===o)return n;for(;r<e.length;){var s=e[r];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(t[parseInt(s.value,10)]);break;case"named":"named"===o&&n.push(t[s.value])}r++}return n}var ig=0,ag=1,cg=2,ug=3,lg=0,pg=1,dg=2,fg=3,hg=4,mg=5,gg=6,yg=7,vg=8,bg=[];bg[lg]={ws:[lg],ident:[fg,ig],"[":[hg],eof:[yg]},bg[pg]={ws:[pg],".":[dg],"[":[hg],eof:[yg]},bg[dg]={ws:[dg],ident:[fg,ig],0:[fg,ig],number:[fg,ig]},bg[fg]={ident:[fg,ig],0:[fg,ig],number:[fg,ig],ws:[pg,ag],".":[dg,ag],"[":[hg,ag],eof:[yg,ag]},bg[hg]={"'":[mg,ig],'"':[gg,ig],"[":[hg,cg],"]":[pg,ug],eof:vg,else:[hg,ig]},bg[mg]={"'":[hg,ig],eof:vg,else:[mg,ig]},bg[gg]={'"':[hg,ig],eof:vg,else:[gg,ig]};var _g=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function wg(e){return _g.test(e)}function xg(e){var t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}function kg(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function Sg(e){var t=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(wg(t)?xg(t):"*"+t)}function Tg(e){var t,n,r,o,s,i,a,c=[],u=-1,l=lg,p=0,d=[];function f(){var t=e[u+1];if(l===mg&&"'"===t||l===gg&&'"'===t)return u++,r="\\"+t,d[ig](),!0}for(d[ag]=function(){void 0!==n&&(c.push(n),n=void 0)},d[ig]=function(){void 0===n?n=r:n+=r},d[cg]=function(){d[ig](),p++},d[ug]=function(){if(p>0)p--,l=hg,d[ig]();else{if(p=0,void 0===n)return!1;if(!1===(n=Sg(n)))return!1;d[ag]()}};null!==l;)if(u++,"\\"!==(t=e[u])||!f()){if(o=kg(t),(s=(a=bg[l])[o]||a.else||vg)===vg)return;if(l=s[0],(i=d[s[1]])&&(r=void 0===(r=s[2])?t:r,!1===i()))return;if(l===yg)return c}}var Og=function(){this._cache=Object.create(null)};Og.prototype.parsePath=function(e){var t=this._cache[e];return t||(t=Tg(e))&&(this._cache[e]=t),t||[]},Og.prototype.getPathValue=function(e,t){if(!gm(e))return null;var n=this.parsePath(t);if(0===n.length)return null;for(var r=n.length,o=e,s=0;s<r;){var i=o[n[s]];if(null==i)return null;o=i,s++}return o};var Eg,jg=/<\/?[\w\s="/.':;#-\/]+>/,Ag=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Ig=/^@(?:\.([a-z]+))?:/,Rg=/[()]/g,Cg={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},Ng=new tg,Pg=function(e){var t=this;void 0===e&&(e={}),!Hm&&"undefined"!=typeof window&&window.Vue&&eg(window.Vue);var n=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),o=e.messages||{},s=e.dateTimeFormats||e.datetimeFormats||{},i=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||Ng,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._fallbackRootWithEmptyString=void 0===e.fallbackRootWithEmptyString||!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new Og,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(e,n){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(t,e,n);var o=function(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0};return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):o(e,n)},this._exist=function(e,n){return!(!e||!n||xm(t._path.getPathValue(e,n))&&!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,o[e])})),this._initVM({locale:n,fallbackLocale:r,messages:o,dateTimeFormats:s,numberFormats:i})},Mg={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Pg.prototype._checkLocaleMessage=function(e,t,n){var r=function(e,t,n,o){if(wm(n))Object.keys(n).forEach((function(s){var i=n[s];wm(i)?(o.push(s),o.push("."),r(e,t,i,o),o.pop(),o.pop()):(o.push(s),r(e,t,i,o),o.pop())}));else if(mm(n))n.forEach((function(n,s){wm(n)?(o.push("["+s+"]"),o.push("."),r(e,t,n,o),o.pop(),o.pop()):(o.push("["+s+"]"),r(e,t,n,o),o.pop())}));else if(vm(n)&&jg.test(n)){var s="Detected HTML in message '"+n+"' of keypath '"+o.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?fm(s):"error"===e&&hm(s)}};r(t,e,n,[])},Pg.prototype._initVM=function(e){var t=Hm.config.silent;Hm.config.silent=!0,this._vm=new Hm({data:e,__VUE18N__INSTANCE__:!0}),Hm.config.silent=t},Pg.prototype.destroyVM=function(){this._vm.$destroy()},Pg.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},Pg.prototype.unsubscribeDataChanging=function(e){Om(this._dataListeners,e)},Pg.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var t=Em(e._dataListeners),n=t.length;n--;)Hm.nextTick((function(){t[n]&&t[n].$forceUpdate()}))}),{deep:!0})},Pg.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,n=this._vm;return this.vm.$watch("locale",(function(r){n.$set(n,"locale",r),t.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=r),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){r.$set(r,"locale",e),r.$forceUpdate()}),{immediate:!0})},Pg.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},Mg.vm.get=function(){return this._vm},Mg.messages.get=function(){return Tm(this._getMessages())},Mg.dateTimeFormats.get=function(){return Tm(this._getDateTimeFormats())},Mg.numberFormats.get=function(){return Tm(this._getNumberFormats())},Mg.availableLocales.get=function(){return Object.keys(this.messages).sort()},Mg.locale.get=function(){return this._vm.locale},Mg.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},Mg.fallbackLocale.get=function(){return this._vm.fallbackLocale},Mg.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},Mg.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Mg.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},Mg.missing.get=function(){return this._missing},Mg.missing.set=function(e){this._missing=e},Mg.formatter.get=function(){return this._formatter},Mg.formatter.set=function(e){this._formatter=e},Mg.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Mg.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},Mg.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Mg.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},Mg.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Mg.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},Mg.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Mg.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])}))}},Mg.postTranslation.get=function(){return this._postTranslation},Mg.postTranslation.set=function(e){this._postTranslation=e},Mg.sync.get=function(){return this._sync},Mg.sync.set=function(e){this._sync=e},Pg.prototype._getMessages=function(){return this._vm.messages},Pg.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Pg.prototype._getNumberFormats=function(){return this._vm.numberFormats},Pg.prototype._warnDefault=function(e,t,n,r,o,s){if(!xm(n))return n;if(this._missing){var i=this._missing.apply(null,[e,t,r,o]);if(vm(i))return i}if(this._formatFallbackMessages){var a=Sm.apply(void 0,o);return this._render(t,s,a.params,t)}return t},Pg.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:xm(e))&&!xm(this._root)&&this._fallbackRoot},Pg.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},Pg.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},Pg.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},Pg.prototype._interpolate=function(e,t,n,r,o,s,i){if(!t)return null;var a,c=this._path.getPathValue(t,n);if(mm(c)||wm(c))return c;if(xm(c)){if(!wm(t))return null;if(!vm(a=t[n])&&!km(a))return null}else{if(!vm(c)&&!km(c))return null;a=c}return vm(a)&&(a.indexOf("@:")>=0||a.indexOf("@.")>=0)&&(a=this._link(e,t,a,r,"raw",s,i)),this._render(a,o,s,n)},Pg.prototype._link=function(e,t,n,r,o,s,i){var a=n,c=a.match(Ag);for(var u in c)if(c.hasOwnProperty(u)){var l=c[u],p=l.match(Ig),d=p[0],f=p[1],h=l.replace(d,"").replace(Rg,"");if(jm(i,h))return a;i.push(h);var m=this._interpolate(e,t,h,r,"raw"===o?"string":o,"raw"===o?void 0:s,i);if(this._isFallbackRoot(m)){if(!this._root)throw Error("unexpected error");var g=this._root.$i18n;m=g._translate(g._getMessages(),g.locale,g.fallbackLocale,h,r,o,s)}m=this._warnDefault(e,h,m,r,mm(s)?s:[s],o),this._modifiers.hasOwnProperty(f)?m=this._modifiers[f](m):Cg.hasOwnProperty(f)&&(m=Cg[f](m)),i.pop(),a=m?a.replace(l,m):a}return a},Pg.prototype._createMessageContext=function(e,t,n,r){var o=this,s=mm(e)?e:[],i=gm(e)?e:{},a=function(e){return s[e]},c=function(e){return i[e]},u=this._getMessages(),l=this.locale;return{list:a,named:c,values:e,formatter:t,path:n,messages:u,locale:l,linked:function(e){return o._interpolate(l,u[l]||{},e,null,r,void 0,[e])}}},Pg.prototype._render=function(e,t,n,r){if(km(e))return e(this._createMessageContext(n,this._formatter||Ng,r,t));var o=this._formatter.interpolate(e,n,r);return o||(o=Ng.interpolate(e,n,r)),"string"!==t||vm(o)?o:o.join("")},Pg.prototype._appendItemToChain=function(e,t,n){var r=!1;return jm(e,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(r=n[t]))),r},Pg.prototype._appendLocaleToChain=function(e,t,n){var r,o=t.split("-");do{var s=o.join("-");r=this._appendItemToChain(e,s,n),o.splice(-1,1)}while(o.length&&!0===r);return r},Pg.prototype._appendBlockToChain=function(e,t,n){for(var r=!0,o=0;o<t.length&&ym(r);o++){var s=t[o];vm(s)&&(r=this._appendLocaleToChain(e,s,n))}return r},Pg.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];for(var r,o=[e];mm(o);)o=this._appendBlockToChain(n,o,t);(o=vm(r=mm(t)?t:gm(t)?t.default?t.default:null:t)?[r]:r)&&this._appendBlockToChain(n,o,null),this._localeChainCache[e]=n}return n},Pg.prototype._translate=function(e,t,n,r,o,s,i){for(var a,c=this._getLocaleChain(t,n),u=0;u<c.length;u++){var l=c[u];if(!xm(a=this._interpolate(l,e[l],r,o,s,i,[r])))return a}return null},Pg.prototype._t=function(e,t,n,r){for(var o,s=[],i=arguments.length-4;i-- >0;)s[i]=arguments[i+4];if(!e)return"";var a=Sm.apply(void 0,s);this._escapeParameterHtml&&(a.params=Pm(a.params));var c=a.locale||t,u=this._translate(n,c,this.fallbackLocale,e,r,"string",a.params);if(this._isFallbackRoot(u)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[e].concat(s))}return u=this._warnDefault(c,e,u,r,s,"string"),this._postTranslation&&null!=u&&(u=this._postTranslation(u,e)),u},Pg.prototype.t=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},Pg.prototype._i=function(e,t,n,r,o){var s=this._translate(n,t,this.fallbackLocale,e,r,"raw",o);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,o)}return this._warnDefault(t,e,s,r,[o],"raw")},Pg.prototype.i=function(e,t,n){return e?(vm(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},Pg.prototype._tc=function(e,t,n,r,o){for(var s,i=[],a=arguments.length-5;a-- >0;)i[a]=arguments[a+5];if(!e)return"";void 0===o&&(o=1);var c={count:o,n:o},u=Sm.apply(void 0,i);return u.params=Object.assign(c,u.params),i=null===u.locale?[u.params]:[u.locale,u.params],this.fetchChoice((s=this)._t.apply(s,[e,t,n,r].concat(i)),o)},Pg.prototype.fetchChoice=function(e,t){if(!e||!vm(e))return null;var n=e.split("|");return n[t=this.getChoiceIndex(t,n.length)]?n[t].trim():e},Pg.prototype.tc=function(e,t){for(var n,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(r))},Pg.prototype._te=function(e,t,n){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var s=Sm.apply(void 0,r).locale||t;return this._exist(n[s],e)},Pg.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},Pg.prototype.getLocaleMessage=function(e){return Tm(this._vm.messages[e]||{})},Pg.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},Pg.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,Rm(void 0!==this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},t))},Pg.prototype.getDateTimeFormat=function(e){return Tm(this._vm.dateTimeFormats[e]||{})},Pg.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},Pg.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,Rm(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},Pg.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},Pg.prototype._localizeDateTime=function(e,t,n,r,o){for(var s=t,i=r[s],a=this._getLocaleChain(t,n),c=0;c<a.length;c++){var u=a[c];if(s=u,!xm(i=r[u])&&!xm(i[o]))break}if(xm(i)||xm(i[o]))return null;var l=i[o],p=s+"__"+o,d=this._dateTimeFormatters[p];return d||(d=this._dateTimeFormatters[p]=new Intl.DateTimeFormat(s,l)),d.format(e)},Pg.prototype._d=function(e,t,n){if(!n)return new Intl.DateTimeFormat(t).format(e);var r=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return r||""},Pg.prototype.d=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.locale,o=null;return 1===t.length?vm(t[0])?o=t[0]:gm(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(o=t[0].key)):2===t.length&&(vm(t[0])&&(o=t[0]),vm(t[1])&&(r=t[1])),this._d(e,r,o)},Pg.prototype.getNumberFormat=function(e){return Tm(this._vm.numberFormats[e]||{})},Pg.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},Pg.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,Rm(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},Pg.prototype._clearNumberFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},Pg.prototype._getNumberFormatter=function(e,t,n,r,o,s){for(var i=t,a=r[i],c=this._getLocaleChain(t,n),u=0;u<c.length;u++){var l=c[u];if(i=l,!xm(a=r[l])&&!xm(a[o]))break}if(xm(a)||xm(a[o]))return null;var p,d=a[o];if(s)p=new Intl.NumberFormat(i,Object.assign({},d,s));else{var f=i+"__"+o;(p=this._numberFormatters[f])||(p=this._numberFormatters[f]=new Intl.NumberFormat(i,d))}return p},Pg.prototype._n=function(e,t,n,r){if(!Pg.availabilities.numberFormat)return"";if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).format(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),s=o&&o.format(e);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},r))}return s||""},Pg.prototype.n=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.locale,o=null,s=null;return 1===t.length?vm(t[0])?o=t[0]:gm(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(o=t[0].key),s=Object.keys(t[0]).reduce((function(e,n){var r;return jm(dm,n)?Object.assign({},e,((r={})[n]=t[0][n],r)):e}),null)):2===t.length&&(vm(t[0])&&(o=t[0]),vm(t[1])&&(r=t[1])),this._n(e,r,o,s)},Pg.prototype._ntp=function(e,t,n,r){if(!Pg.availabilities.numberFormat)return[];if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).formatToParts(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),s=o&&o.formatToParts(e);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,r)}return s||[]},Object.defineProperties(Pg.prototype,Mg),Object.defineProperty(Pg,"availabilities",{get:function(){if(!Eg){var e="undefined"!=typeof Intl;Eg={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return Eg}}),Pg.install=eg,Pg.version="8.27.1";const $g=Pg;ts.use($g);const Lg=new $g({fallbackLocale:"en",preserveDirectiveContent:!0,pluralizationRules:{ru:um,pl:lm}});var Dg,Fg;!function(e){e.OPTIONS="options",e.POPUP="popup",e.CONTENT="content",e.BACKGROUND="background"}(Dg||(Dg={})),function(e){e.INFO="info",e.NOTES="notes",e.SETTINGS="settings"}(Fg||(Fg={}));const Ug={...Dg,...Fg};var Bg,qg,Vg,Hg,zg=c(139),Wg=c(140),Zg=c.n(Wg),Gg=c(141),Kg=c.n(Gg),Yg=c(142),Jg=c.n(Yg),Xg=c(143),Qg=c.n(Xg),ey=c(144),ty=c.n(ey),ny=c(3);class ry{constructor(e,t){this._entry=e,this._context=t,this.change=new zg.EventEmitter,this._loadedLocales=[],this._loadedAvailableLocales=[]}static init(e,t){return ry.instance?ry.instance:(du().extend(Jg()),du().extend(Kg()),du().extend(Zg()),du().extend(Qg()),du().extend(ty()),this.instance=new ry(e,t),this.instance)}static getInstance(){if(!ry.instance)throw Error("I18n service is not initialized.");return ry.instance}static isInit(){return!!ry.instance}getActiveLocale(){return{lang:this._activeLang,translations:this._activeTranslations}}async activateLocale(e,t){return this._activeTranslations=t||await this.loadLocaleEntry(e),this._loadedLocales.includes(e)||this._loadedLocales.push(e),this._activeLang!==e&&(this._activeLang=e,this.localizeApp(),this.change.emit(e)),e}async loadLocaleEntry(e,t){t||(t=this._entry);try{return(await Promise.all([t===Dg.CONTENT?new Promise((e=>e(!0))):c(145)(`./${e}.js`),c(146)(`./${e}/messages/${t}.js`)]))[1].default}catch(n){return ny.warn(`Locale "${e}" for entry "${t}" was not found.`),ny.error(n),{}}}async loadLocaleMeta(e,t){try{return(await c(147)(`./${e}/${t}.js`)).default}catch(n){ny.warn(`Meta "${t}" for locale "${e}" was not found.`,n)}}async loadLocale(e){const[t,n,r,o,s,i,a]=await Promise.all([this.loadLocaleEntry(e,Dg.OPTIONS),this.loadLocaleEntry(e,Dg.POPUP),this.loadLocaleEntry(e,Dg.CONTENT),this.loadLocaleEntry(e,Dg.BACKGROUND),this.loadLocaleMeta(e,Fg.INFO),this.loadLocaleMeta(e,Fg.SETTINGS),this.loadLocaleMeta(e,Fg.NOTES)]);return{messages:{[Dg.OPTIONS]:t,[Dg.POPUP]:n,[Dg.CONTENT]:r,[Dg.BACKGROUND]:o},meta:{[Fg.SETTINGS]:i,[Fg.INFO]:s,[Fg.NOTES]:a}}}async getAvailableLocales(){if(!this._loadedAvailableLocales?.length)try{const e=c(148);this._loadedAvailableLocales=await Promise.all(e.keys().map(e).map((e=>e.default)))}catch(e){ny.warn(e)}return this._loadedAvailableLocales}async localizeApp(){this._context.vueI18n&&(this._context.vueI18n.locale=this._activeLang,this._context.vueI18n.setLocaleMessage(this._activeLang,this._activeTranslations)),kh().defaults.headers.common["Accept-Language"]=this._activeLang,du().locale(this._activeLang)}}!function(e){e[e.MENU=0]="MENU",e[e.CLICK=1]="CLICK",e[e.SCROLL=2]="SCROLL"}(Bg||(Bg={})),function(e){e[e.CODE=0]="CODE",e[e.NATIVE_NAME=1]="NATIVE_NAME",e[e.ENGLISH_NAME=2]="ENGLISH_NAME"}(qg||(qg={})),function(e){e[e.CHANGE_CURRENT_AND_AUDIO=1]="CHANGE_CURRENT_AND_AUDIO",e[e.CHANGE_ALL=2]="CHANGE_ALL"}(Vg||(Vg={})),function(e){e.AUTO="auto",e.REMEMBER_LAST="rememberLast"}(Hg||(Hg={}));const oy=3;var sy=c(152),iy=c.n(sy);class ay{static getBrowserLocale(e={}){const t={countryCodeOnly:!0,default:"en",...e},n=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return n?t.countryCodeOnly?n.trim().split(/-|_/)[0]:n.trim():t.default}static getNavigatorLanguagesIso6391(){return navigator.languages.reduce(((e,t)=>{const n=t.trim(),[r]=n.split(/-|_/);return r&&iy().getName(r)&&e.push(r),e}),[])}}const cy=ud("language",(()=>{const e=Pt(null),t=Pt("en"),n=Pt([]),r=Pt(Bg.MENU),o=Pt(qg.CODE),s=Pt(Hg.AUTO),i=Pt(Vg.CHANGE_CURRENT_AND_AUDIO),a=Pt([]),c=Ut((()=>n.value.slice(0,oy))),u=Ut((()=>s.value===Hg.REMEMBER_LAST));async function l(e=!1){const t=a.value.map((e=>e.meta[Fg.INFO]));return e?t:[...t,...await ry.getInstance().getAvailableLocales()]}function p(e){return a.value.find((t=>t.meta[Fg.INFO].lang.target.code===e))}function d(e){return{code:e,name:iy().getName(e),nativeName:iy().getNativeName(e)}}function f(e){t.value=e;const n=p(e);return ry.getInstance().activateLocale(e,n?.messages.options)}function h(e){n.value=e.slice(0,oy)}async function m(){const e=ay.getBrowserLocale(),n=(await l()).map((e=>e.lang?.target?.code)).filter((e=>e));t.value=n.includes(e)?e:"en"}async function g(){try{const e=ay.getNavigatorLanguagesIso6391(),t=["en"];for(const n of e)if("en"!==n){t.unshift(n);break}h(t)}catch(e){h(["en"])}}function y(){e.value||(e.value=Date.now())}return{ui:t,mode:s,results:n,resultsSwitchTrigger:r,resultsLabel:o,resultsSwitchBehavior:i,locales:a,isRememberMode:u,initialized:e,resultsLimited:c,getAvailableLocales:l,getCustomLocale:p,getLangInfoByCode:d,setLanguageOfUI:f,setLanguagesOfResults:h,setDefaultUiLanguage:m,setDefaultResultsLanguages:g,init:y}}),{sync:{debug:!1},persist:[bh,vh]});async function uy(e){const t=cy(),n=await ry.init(e,{vueI18n:Lg});if(Nu()&&!t.results.length&&await Promise.all([t.setDefaultUiLanguage(),t.setDefaultResultsLanguages()]),t.ui)try{return n.activateLocale(t.ui)}catch(e){}const r=ay.getBrowserLocale();return t.setLanguageOfUI(r)}const ly=ud("bubble-display",(()=>{const e=Pt(M),t=Pt(!1),n=Pt($);function r(t){e.value={remember:t.remember??e.value.remember,width:Math.round(t.width),height:Math.round(t.height)}}function o(e){n.value={remember:e.remember??n.value.remember,x:Math.round(1e3*e.x)/1e3,y:Math.round(1e3*e.y)/1e3}}return{size:e,position:n,floating:t,setSize:r,setPosition:o}}),{sync:!0,persist:[bh,vh]});var py=c(78),dy=c.n(py);const fy=ud("bubble-url",(()=>{const e=Pt(!1),t=Pt([]),n=Ut((()=>Fl(N,t.value.filter((e=>e.type===P.WHITELIST))))),r=Ut((()=>Fl(N,t.value.filter((e=>e.type===P.BLACKLIST)))));function o(e,n){return(n??t.value).find((t=>Object.keys(e).every((n=>`${e[n]}`==`${t[n]}`))))}function s(t){e.value=!t}function i(e){return l({rules:[...[].concat(e),...t.value]})}async function a(e){if(!e.rules?.length)return;let n=0;const r="string"==typeof e.rules[0]?e.rules:e.rules.map((e=>e.id));dy()(t.value,((o,s)=>{if(r.includes(o.id)){const i=!e.state??!o.disabled;if(wt(t.value,s,{...o,disabled:i}),++n===r.length)return!1}})),t.value=t.value.slice()}function c(e){const n=t.value.findIndex((t=>t.id===e.id));-1!==n&&t.value.splice(n,1,e)}function u(e){const n=t.value.findIndex((t=>t.id===e));n>-1&&(t.value=[...t.value.slice(0,n),...t.value.slice(n+1)])}async function l(e){t.value=[...e.rules.map(((t,n)=>({...t,index:n,type:e.type??t.type}))),...e.type?t.value.filter((t=>t.type!==e.type)):[]]}return{disabled:e,urlList:t,whitelist:n,blacklist:r,toggle:s,findUrlRule:o,addUrlRules:i,toggleUrlRules:a,updateUrlRule:c,removeUrlRule:u,setUrlList:l}}),{sync:!0,persist:[bh,vh]}),hy=[{id:u,hotkeysLimit:1,hotkeys:[new d({keys:["CONTROL","ALT","G"],disabled:!1,rules:{inputs:!0,editables:!0}})]}],my=ud("popup-hotkeys",(()=>{const e=Pt(null),t=Pt(hy.reduce(((e,t)=>({...e,[t.id]:t.hotkeys})),{})),n=Ut((()=>hy.map((e=>({...e,hotkeys:t.value[e.id]??e.hotkeys})))));function r(e){return n.value.find((t=>t.id===e))}function o(e){return r(e)?.hotkeys}function s(e){t.value={...t.value,[e.triggerId]:e.hotkeys}}function i(e){const n=t.value[e.triggerId];wt(t.value,e.triggerId,n?[...n,e.hotkey]:[e.hotkey])}function a(){e.value||(e.value=Date.now(),n.value.forEach((e=>{t.value[e.id]||s({triggerId:e.id,hotkeys:o(e.id)})})))}return{hotkeys:t,initialized:e,triggers:n,getTrigger:r,getHotkeys:o,setHotkeys:s,addHotkey:i,init:a}}),{sync:!0,persist:[bh,vh]}),gy=ud("popup-search",(()=>({autosend:Pt(!0),autosendDelay:Pt(500)})),{sync:!0,persist:[bh,vh]});var yy;!function(e){e.STR="str",e.CHAR_COUNT="char_count",e.WORD_COUNT="word_count",e.LANG="lang",e.LANG_ISO2="lang_iso2",e.LANG_NAME="lang_name",e.LANG_NATIVE="lang_native",e.LANGS="langs",e.LANGS_ISO2="langs_iso2",e.LANGS_NAMES="langs_names",e.LANGS_NATIVE="langs_native",e.BROWSER_LOCALE="browser_locale",e.UI_LANG="ui_lang",e.UI_LANG_ISO2="ui_lang_iso2",e.UI_LANG_NAME="ui_lang_name",e.UI_LANG_NATIVE="ui_lang_native",e.URL="url",e.URL_PATH="path",e.URL_ORIGIN="origin",e.URL_DOMAIN="domain",e.URL_PROTOCOL="protocol",e.URL_QUERY="query",e.URL_HASH="hash",e.URL_PORT="port",e.PAGE_TITLE="page_title",e.PAGE_DESC="page_desc",e.PAGE_KEYWORDS="page_keywords",e.PAGE_LANG="page_lang",e.PAGE_DIR="page_dir",e.PAGE_LAST_MODIFIED="page_last_modified",e.PAGE_OG_TITLE="page_og_title",e.PAGE_OG_DESC="page_og_desc",e.PAGE_OG_IMAGE="page_og_image",e.PAGE_OG_URL="page_og_url",e.PAGE_OG_TYPE="page_og_type",e.SENTENCE="sentence",e.SENTENCES="sentences",e.PARAGRAPH="paragraph",e.NODE_TEXT="node_text",e.NODE_PARENT_TEXT="node_parent_text",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.LINKS="links",e.QUOTES="quotes",e.DATE="date",e.TIME="time",e.TIMESTAMP="timestamp",e.TIMEZONE="timezone",e.WEEKDAY="weekday",e.MONTH="month",e.YEAR="year",e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second",e.RANDOM_NUMBER="random_number",e.RANDOM_STRING="random_string",e.SCROLL_PX="scroll_px",e.SCROLL_PERCENT="scroll_percent",e.WINDOW_WIDTH="window_width",e.WINDOW_HEIGHT="window_height"}(yy||(yy={}));const vy="@@RESULT_RELAY",by="@@RESULT_FETCH_STREAM";function _y(e){return t=>{Reflect.defineMetadata(_y.name+":"+e,{type:e,service:t,instance:new t},_y)}}var wy;function xy(e=0,t=0,n=0,r=0){return{top:e,right:t,bottom:n,left:r}}yy.SENTENCE,yy.SENTENCES,yy.PARAGRAPH,yy.NODE_TEXT,yy.NODE_PARENT_TEXT,yy.H1,yy.H2,yy.H3,yy.H4,yy.H5,yy.H6,yy.LINKS,yy.QUOTES,yy.URL,yy.URL_PATH,yy.URL_ORIGIN,yy.URL_DOMAIN,yy.URL_PROTOCOL,yy.URL_QUERY,yy.URL_HASH,yy.URL_PORT,yy.PAGE_TITLE,yy.PAGE_DESC,yy.PAGE_KEYWORDS,yy.PAGE_LANG,yy.PAGE_DIR,yy.PAGE_LAST_MODIFIED,yy.PAGE_OG_TITLE,yy.PAGE_OG_DESC,yy.PAGE_OG_IMAGE,yy.PAGE_OG_URL,yy.PAGE_OG_TYPE,yy.SCROLL_PX,yy.SCROLL_PERCENT,yy.WINDOW_WIDTH,yy.WINDOW_HEIGHT,_y.getByType=e=>Reflect.getMetadata(_y.name+":"+e,_y)?.instance,function(e){e[e.TEXT=1]="TEXT",e[e.AUDIO=2]="AUDIO",e[e.TEXT_AND_AUDIO=3]="TEXT_AND_AUDIO"}(wy||(wy={}));var ky=c(154),Sy=c.n(ky);const Ty=new Map;function Oy(e){return Sy()(Ty.get(e))}function Ey(e){return Ty.has(e)}function jy(e){const t=e.type;if(Ty.has(t))throw new Error(`Source with type "${t}" is already defined`);Ay(e),Ty.set(t,e)}function Ay(e){return e.role=e.role||wy.TEXT,e.display.headerPaddings=e.display.headerPaddings||xy(8,8,0,8),e.display.bodyPaddings=e.display.bodyPaddings||xy(8,12,6,12),e.display.name=e.display.name||"Unknown",e}const Iy=ud("sources",(()=>{const e=Pt({}),t=Pt();function n(t){const n=$t(t);if(!n)return;const r="string"==typeof n?n:n.id;return e.value[r]}function r(t){t&&wt(e.value,t.id,t)}function o(t){if(t.id||(t.id=C()),t.index||(t.index=100*Object.keys(e.value).length),n(t.id))throw new Error(`Source with id "${t.id}" already exists`);r(t)}function s(t){const n="string"==typeof t?t:t.id;n&&xt(e.value,n)}function i(e){const t=n(e);if(!t)return;const r=Oy(t.type)??{display:{},behavior:{}};return{...r,...t,display:{...r.display,...t.display},behavior:{...r.behavior,...t.behavior}}}return{list:e,initialized:t,getSource:n,getSourceWithDefaults:i,getDefaults:Oy,addSource:o,updateSource:r,removeSource:s}}),{sync:{patch:Ry},persist:[bh,vh].map((e=>({...e,patch:Ry})))});function Ry(e,t){e.list=t.list,e.initialized=t.initialized}function Cy(){const e=Iy();async function t(t,n,r){const o=e.getSourceWithDefaults(t),s=_y.getByType(o.type);if(!s.getStream)return;const i=s.getStream(n.payload);try{for await(const e of i)r.postMessage({action:n.action,payload:{sourceId:t,chunk:e}})}catch(e){r.postMessage({action:n.action,payload:{sourceId:t,error:e}})}}return{stream:t}}const Ny=ud("result-language",(()=>{const e=Pt({});function t(t){if(t)return e.value[t]}function n(t,n){t&&wt(e.value,t,n)}return{sourceLanguages:e,getSourceLanguage:t,setSourceLanguage:n}}),{sync:{patch:Py},persist:[bh,vh].map((e=>({...e,patch:Py})))});function Py(e,t){e.sourceLanguages=t.sourceLanguages??{}}const My="@@SOURCE_FETCH",$y="@@SOURCE_FETCH_ALL";function Ly(){const{getSource:e}=Iy();function t(t){const n=e(t);return n?.role??Oy(n?.type)?.role}function n(t){const n=e(t);return n?.type??Oy(n?.type)?.type}function r(t){const n=e(t);return n?.disabled??Oy(n?.type)?.disabled}function o(t){const n=e(t);return n?.options??Oy(n?.type)?.options}function s(t){const n=e(t);return{...(Oy(n.type)??{behavior:{}}).behavior,...n?.behavior??{}}}function i(t){const n=e(t);return{...(Oy(n.type)??{display:{}}).display,...n?.display??{}}}function a(e){const{name:t}=i(e);return"function"==typeof t?t():t}return{getRole:t,getType:n,getDisabled:r,getOptions:o,getBehavior:s,getDisplay:i,getName:a}}function Dy(){const{getRole:e,getDisabled:t}=Ly();function n(e){return!t(e)}function r(t){return e(t)===wy.TEXT||e(t)===wy.TEXT_AND_AUDIO}function o(t){return e(t)===wy.AUDIO||e(t)===wy.TEXT_AND_AUDIO}function s(e){return Ey(e.type)}return{isActive:n,isText:r,isAudio:o,isKnown:s}}const Fy=ud("sources-list",(()=>{const{isActive:e,isText:t,isAudio:n,isKnown:r}=Dy(),{getRole:o}=Ly(),s=Iy(),i=Ut((()=>Object.values(s.list).sort(((e,t)=>e.index-t.index)))),a=Ut((()=>i.value.filter(t))),c=Ut((()=>i.value.filter(n))),u=Ut((()=>i.value.filter((e=>!e?.disabled&&r(e))))),l=Ut((()=>i.value.filter((n=>e(n)&&t(n)&&r(n))))),p=Ut((()=>i.value.filter((t=>e(t)&&n(t)&&r(t))))),d=Ut((()=>l.value?.[0]));function f(e){if(null==e)return d.value;const t=l.value.findIndex((t=>t.id===e));return l.value[t+1]??null}function h(e){const{types:t,roles:n=[],active:r}=e;return i.value.filter((e=>t.includes(e.type)&&(void 0===r||!r||!e.disabled)&&(!n.length||n.includes(o(e)))))}return{sortedList:i,textList:a,audioList:c,activeList:u,activeTextList:l,activeAudioList:p,defaultSource:d,getNext:f,find:h}}),{sync:!1,persist:!1}),Uy=()=>{const e=Fy(),t=ld(e),{find:n,getNext:r}=e;return{...t,find:n,getNext:r}};class By{static createUnknown(){return new By({name:this.UNKNOWN})}static failIframe(){return new By({name:this.IFRAME_BLOCKED})}static fromAxios(e){return new By({name:"",code:e.code,message:e.message,status:+e.response?.status})}constructor(e){e&&Object.assign(this,e)}}By.UNKNOWN="unknown",By.IFRAME_BLOCKED="iframeBlocked";class qy{constructor(e,t){this.errors=[];const n=(Array.isArray(e)&&e.length?e[0]:e)instanceof By;this.data=n?null:e,this.empty=t,this.errors=n?[].concat(e):[]}}class Vy{static forAll(e,t,n){return new Vy({languagesCount:e.length,languages:e.reduce(((e,r)=>({...e,[r]:new qy(t,n)})),{})})}constructor(e){this.languages={},this.languagesCount=0,e&&Object.assign(this,e)}isEmpty(){const e=Object.keys(this.languages);return e.length>0&&e.every((e=>this.languages[e].empty))}isUntouched(){return!Object.keys(this.languages).length}allFetched(){return Object.keys(this.languages).length===this.languagesCount}getNonEmptyContent(e){for(const t in[].concat(e))if(!this.languages[t]?.empty)return this.languages[t];return null}}class Hy{constructor(e){e&&Object.assign(this,e)}}const zy="google-dictionary",Wy=ud("sources-cache",(()=>{const e=Pt({});function t(t,n){return e.value[s(t)]??n}function n(t,n){wt(e.value,s(t),n)}function r(e,r){n(e,{...t(e,{}),...r})}function o(t){t?xt(e.value,s(t)):e.value={}}function s(e){return"string"==typeof e?e:e.id}return{cache:e,getSourceCache:t,setSourceCache:n,extendSourceCache:r,clearCache:o}}),{sync:!1,persist:!1});var Zy=c(3);const Gy=ud("result",(()=>{const e=cy(),t=Ny(),n=Wy(),{getSourceWithDefaults:r}=Iy(),o=Uy(),s=Pt(""),i=Pt(null),a=Pt(new Hy),c=Pt({}),u=Pt(null),l=Pt(!1),p=Pt(!1),d=Ut((()=>a.value)),f=Pt(!1),h=Ut((()=>c.value[u.value??""]??null)),m=Ut((()=>u.value+"-"+h.value));function g(e){return e?.every((e=>{const t="string"==typeof e?e:e.id;return y(t)?.isEmpty()}))??!0}function y(e){return new Vy(a.value[e])}function v(e,t){t||(t=c.value[e]);const n=y(e)?.languages;return n&&t?n[t]:void 0}function b(e,t){return v(e,t)?.data}function _(e,t){return v(e,t)?.errors??[]}function w(){const e=u.value;return e?y(e):void 0}function x(e){if(e)return c.value[e]}t.sync$.subscribe((()=>{e.isRememberMode&&(c.value={...t.sourceLanguages??{}})})),Zt((()=>Object.values(c.value)),(()=>{e.isRememberMode&&(t.sourceLanguages={...c.value})})),Zt((()=>e.results),(()=>{const n=t=>e.results.includes(t),r=e.results[0];Object.keys(c.value).forEach((e=>{n(c.value[e])||A({sourceId:e,language:r})})),e.isRememberMode||Object.keys(t.sourceLanguages??{}).forEach((e=>{n(t.getSourceLanguage(e))||t.setSourceLanguage(e,r)}))}));let k={};const S=St({connection:null});function T(){O(o.defaultSource.value)}function O(e){u.value="string"==typeof e?e:e?.id??null}function E(e){wt(a.value,e.id,e.contents)}function j(e){const t=Sy()(y(e.id)),n=t?.languages;(e.lang?[e.lang]:Object.keys(n)).forEach((t=>{n[t]=n[t]||new qy(e.error,!1),n[t].errors=[e.error]})),E({id:e.id,contents:t})}function A(e){const t=e.sourceId??u.value;t&&wt(c.value,t,e.language)}function I(t=!1){const n=e.results[0];c.value=o.activeList.value.reduce(((e,r)=>({...e,[r.id]:t?c.value[r.id]??n:n})),{})}function R(e){const t=(new Uu).connectToBackground({name:vy,autoReconnect:!1});return t.postMessage({action:My,payload:{contents:d.value,...e}}),e.resources.forEach((e=>k[e]=t.name)),t.onMessage.addListener((e=>{const{sourceId:n,contents:r}=e.payload;k[n]===t.name&&E({id:n,contents:r})})),new Promise((e=>t.onDisconnect.addListener((()=>e(!0)))))}function C(t,o={}){S.connection?.disconnect(),k={},s.value=t.query,i.value=t.url??null,I(e.mode===Hg.REMEMBER_LAST),t.keepCache||n.clearCache(),a.value=new Hy,o.beforeFetch?.();const c=(new Uu).connectToBackground({name:vy,autoReconnect:!1});return c.postMessage({action:$y,payload:t}),S.connection=c,c.onMessage.addListener((t=>{const{sourceId:n,contents:o}=t.payload,s=r(n),i=S.connection.name;k[n]||c.name!==i||(E({id:n,contents:o}),e.mode===Hg.REMEMBER_LAST||n!==zy&&!s?.behavior.prefetch||N(n))})),new Promise((e=>c.onDisconnect.addListener((()=>e(!0)))))}function N(t){const n=e.results;if(!y(t))return;let r=x(t);if(!r){const e=n[0];A({sourceId:t,language:e}),r=e}let o=!0===v(t)?.empty;for(;r&&o;){let e=null;try{e=n[n.indexOf(r)+1]}catch(t){Zy.error(t),e=null}A({sourceId:t,language:e}),r=e,o=!0===v(t,e)?.empty}}return{query:s,url:i,contents:a,languages:c,activeSourceId:u,loading:l,listening:p,hasManuallySwitchedSourceAfterFetch:f,allContents:d,activeResourceLang:h,activeViewKey:m,allEmpty:g,getContents:y,getContent:v,getData:b,getErrors:_,getActiveResourceContents:w,getResourceLang:x,activateDefaultSource:T,activateSource:O,setResourceContents:E,setResourceError:j,setLanguage:A,resetLanguages:I,queryResource:R,queryAll:C,activateDefaultLangForResource:N}}),{sync:!1,persist:!1}),Ky="google-translate",Yy={auto:"Auto-detect",af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",as:"Assamese",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bhojpuri",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa","zh-CN":"Chinese",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi",doi:"Dogri",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",tl:"Filipino",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",iw:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",ilo:"Ilocano",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",rw:"Kinyarwanda",kok:"Konkani",ko:"Korean",kri:"Krio",ku:"Kurdish (Kurmanji)",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",ln:"Lingala",lt:"Lithuanian",lg:"Luganda",lb:"Luxembourgish",mk:"Macedonian",mai:"Maithili",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi","mni-Mtei":"Meiteilon",lus:"Mizo",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",om:"Oromo",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",qu:"Quechua",ro:"Romanian",ru:"Russian",sm:"Samoan",sa:"Sanskrit",gd:"Scots Gaelic",nso:"Sepedi",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",ckb:"Sorani Kurdish",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",tk:"T\xfcrkmen\xe7e",ti:"Tigrinya",ts:"Tsonga",tr:"Turkish",tw:"Twi",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"},Jy={af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",as:"Assamese",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bhojpuri",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi",doi:"Dogri",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",tk:"T\xfcrkmen\xe7e",tl:"Filipino",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",iw:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",ilo:"Ilocano",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",rw:"Kinyarwanda",kok:"Konkani",ko:"Korean",kri:"Krio",ku:"Kurdish (Kurmanji)",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",ln:"Lingala",lt:"Lithuanian",lg:"Luganda",lb:"Luxembourgish",mk:"Macedonian",mai:"Maithili",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi","mni-Mtei":"Meiteilon",lus:"Mizo",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",om:"Oromo",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",qu:"Quechua",ro:"Romanian",ru:"Russian",sm:"Samoan",sa:"Sanskrit",gd:"Scots Gaelic",nso:"Sepedi",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",ckb:"Sorani Kurdish",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",ti:"Tigrinya",ts:"Tsonga",tr:"Turkish",tw:"Twi",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"};var Xy;Object.keys(Yy).reduce(((e,t)=>({...e,[t.split("-")[0]]:Yy[t]})),{}),Object.keys(Jy).reduce(((e,t)=>({...e,[t.split("-")[0]]:Jy[t]})),{}),function(e){e.SIMILAR="similar",e.REVERSE="reverse",e.DICTIONARY="dictionary"}(Xy||(Xy={}));const Qy="gspeech";class ev extends Vu{constructor(e=vy){super(e),this.langPrefsStore=cy(),this.resultStore=Gy(),this.sourcesStore=Iy(),this.sourcesList=Uy(),this.accessor=Ly(),this.resultStream=Cy(),this.init(),this.connector.autoReconnect=!1}async onMessageFromClient(e,t){switch(e.action){case $y:await this.queryAll(e,t);break;case My:if(!e.payload.resources?.length)break;await Promise.allSettled(e.payload.resources.map((n=>this.query(n,e,t))));case by:if(!e.payload.resources?.length)break;await Promise.allSettled(e.payload.resources.map((n=>this.resultStream.stream(n,e,t))))}t.disconnect()}async queryAll(e,t){const n=this.sourcesList.activeList.value;let r=!1,o=!1;for(let e of n)if(e.type!==zy){if(!o&&(e.type===Qy&&(o=!0),e.type===Ky)){const t=this.accessor.getOptions(e.id);t.supplement?.find((e=>e.id===Xy.DICTIONARY))?.enabled&&(o=!0)}}else r=!0;const s=[...n];!r&&o&&s.push(zy);const i=new Hy;return Promise.allSettled(s.map((n=>this.query(n,e,t,!0,i))))}async query(e,t,n,r=!1,o=void 0){const s=e===zy?{...Oy(zy),id:zy}:this.sourcesStore.getSourceWithDefaults(e),i=_y.getByType(s.type),a=t.payload,c=this.langPrefsStore.results,u=a.languages?.length?a.languages:a.lang?[a.lang]:c;if(!i?.getData||r&&!s.behavior.prefetch){const e=Vy.forAll(c,null,!1);return this.postResponse(n,t,s,e),null}o||(o=a.contents??new Hy);const l=Sy()(o[s.id])??(s.behavior.prefetch?new Vy:Vy.forAll(c,null,!1));l.languagesCount=c.length,await Promise.all(u.map((async e=>{let r;const c=await this.getDataForLang(e,s,a).catch((e=>(r=e,null))),u=null===c||!await i.hasResult(c);l.languages[e]=new qy(r??c,u),o&&(o[s.id]=l),this.postResponse(n,t,s,l)})))}async getDataForLang(e,t,n,r={}){try{return this.canHandleLang(e,t),await _y.getByType(t.type).getData({...n,lang:e,contents:r})}catch(n){if(this.debugger.logger.error(`${t.id}.getDataForLang(${e})`,n),n instanceof xh.AxiosError)throw By.fromAxios(n);throw new By({name:By.UNKNOWN,message:n.message,data:Dl(n)})}}canHandleLang(e,t){const n=Oy(t.type).behavior.languages;if(n&&(Array.isArray(n)&&!n.includes(e)||!Array.isArray(n)&&!n[e]))throw Error(`Language ${e} is not supported by the resource ${t.id}`)}postResponse(e,t,n,r){e.postMessage({action:t.action,payload:{sourceId:n.id,contents:r}})}}const tv="ai",nv="bing-images",rv="www4.bing.com",ov="custom-audio",sv="custom",iv="ddg-ia",av="google-search",cv="web-speech",uv="wikipedia",lv="youglish",pv="follow",dv="default",fv=["ar","zh","nl","en","fr","de","el","he","it","ja","ko","pl","pt","ru","es","sv","th","tr","uk","vi"],hv=[{type:zy},{type:iv},{type:uv},{type:Ky},{type:nv},{type:av},{type:lv},{type:tv,disabled:!0},{type:sv,disabled:!0},{type:cv},{type:Qy},{type:ov,disabled:!0}].reduce(((e,t,n)=>{const r=C();return e[r]={...t,index:n,id:r},e}),{}),mv={};function gv(e,t){if(mv[e])throw new Error(`Source setup already defined for ${e}`);mv[e]=t}function yv(e){return mv[e]}function vv(e){return t=>{Reflect.defineMetadata(vv.name+":"+e,{type:e,service:t,instance:new t},vv)}}vv.getByType=e=>Reflect.getMetadata(vv.name+":"+e,vv)?.instance;var bv=c(412),_v=c.n(bv);class wv{constructor(){this.sourcesStore=Iy(),this.sourcesList=Uy()}async getActiveResourcesRules(){const e=this.sourcesList.activeList.value.reduce(((e,{id:t,type:n})=>{const r=vv.getByType(n);if(!r)return e;const o=this.sourcesStore.getSourceWithDefaults(t).options;return e.push(r.getRules(o)),e}),[]);return _v()(await Promise.all(e))}}const xv="trigger-action-open",kv="trigger-action-open-floating",Sv="trigger-action-context-update",Tv="trigger-action-open-popup",Ov="trigger-action-change-opening-query",Ev="@@TRIGGER_BUBBLE",jv="@@TRIGGER_POPUP",Av=ud("browser-context-action",(()=>{const e=new iu;function t(e){return chrome.contextMenus.create("function"==typeof e?e():e)}function n(n){return t(n),e.subscribe((()=>t(n))).unsubscribe}function r(e,t){chrome.contextMenus.update(e,t)}function o(){chrome.contextMenus.removeAll(),e.next(new Date)}return o(),{create:t,createPersistent:n,update:r,removeAll:o,clear$:e}}),{sync:!1,persist:!1});var Iv=c(517),Rv=c.n(Iv),Cv=c(535),Nv=c.n(Cv);class Pv{constructor(){this.keys$=new yu([]),this.preventMode=!1,globalThis.document?.addEventListener("keydown",(e=>this.keydownListener(e)),!0),globalThis.document?.addEventListener("keyup",(e=>this.keyupListener(e)),!0),globalThis.window?.addEventListener("blur",(e=>this.blurListener(e)))}togglePreventMode(e){this.preventMode=e??!this.preventMode}totalPressed(){return this.keys$.getValue().length}anyPressed(){return this.totalPressed()>0}includes(e){const t=this.keys$.getValue();return e.length===t.length&&e.every((e=>t.includes(e)))}getKeyLabel(e){return" "===e?"Space":"CONTROL"===e?"Ctrl":/F\d+/.test(e)?e:Rv()(Nv()(e))||e}resetKeys(){this.keys$.next([])}keydownListener(e){if(!e?.key)return;this.preventMode&&e.preventDefault();const t=this.keys$.getValue(),n=e.key?.toUpperCase()||e.key;t.includes(n)||this.keys$.next([...t,n])}keyupListener(e){this.preventMode&&e.preventDefault(),this.keys$.next([])}blurListener(e){this.resetKeys()}}const Mv=new Pv;var $v,Lv,Dv=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},Fv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Uv extends Vu{constructor(e=Ev){super(e),this.contextMenuItemId="define-selected-text",this.bubbleHotkeys=_h(),this.contextAction=Av(),this.init(),this.contextAction.createPersistent({id:this.contextMenuItemId,title:n,contexts:["selection"],visible:!1}),chrome.contextMenus.onClicked.addListener(((e,t)=>{if(this.contextMenuItemId!==e.menuItemId)return;let n;-1===t.id?(n=this.connector.findPortsByPageUrl(e.frameUrl)?.[0],n?.postMessage({action:kv,payload:e.selectionText})):(n=this.connector.findPortByTabId(t.id),n?.postMessage({action:xv,payload:e.selectionText}))})),chrome.tabs.query({active:!0}).then((e=>{e.forEach((e=>this.updateContextActionForTab(e,!0)))})),chrome.tabs.onUpdated.addListener((async(e,t,n)=>{"complete"===t?.status&&n?.active&&this.updateContextActionForTab(n)})),chrome.tabs.onActivated.addListener((async e=>{const t=await chrome.tabs.get(e.tabId);this.updateContextActionForTab(t)}))}setupContextAction(e,t){return this.hasFileUrlOrIsPdf(t)?this.updateContextAction(!0):e?void this.updateContextAction(e,!0):this.updateContextAction(e)}updateContextAction(e,t){let n='Define "%s"',r="";if(t){const e=this.bubbleHotkeys.getHotkeys(u);e?.length&&!e[0].disabled&&Array.isArray(e[0]?.keys)&&(r=e[0].keys.map((e=>Mv.getKeyLabel(e))).join("+")),n="Define "+(r?`"%s"  \u2014  ${r}`:'"%s"')}this.contextAction.update(this.contextMenuItemId,{title:n,visible:e})}updateContextActionForTab(e,t=!1){e&&("complete"===e.status||t)&&(this.hasFileUrlOrIsPdf(e)&&this.updateContextAction(!0),e.url&&!Xh.canInjectScript(e.url)&&this.updateContextAction(!1))}hasFileUrlOrIsPdf(e){let t="";return t="sender"in e?e.sender?.tab?.url??"":e.url??"",t.startsWith("file://")||Xh.isPDF(t)}}Dv([gc(Sv),Fv("design:type",Function),Fv("design:paramtypes",[Boolean,"function"==typeof(Lv="undefined"!=typeof chrome&&void 0!==($v=chrome.runtime)&&$v.Port)?Lv:Object]),Fv("design:returntype",void 0)],Uv.prototype,"setupContextAction",null);var Bv=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},qv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Vv extends Vu{constructor(e=jv){super(e),this.init()}async openPopup(e){await chrome.storage.session.set({popupOpeningQuery:e.query});const t=await chrome.tabs.query({url:Xh.getPopupPage()+"*"});t?.length?t.forEach((e=>{chrome.tabs.update(e.id,{active:!0,muted:!1}),chrome.windows.update(e.windowId,{focused:!0}),chrome.tabs.sendMessage(e.id,{action:"popupSearch"})})):await chrome.action.openPopup()}async changeOpeningQuery(e){await chrome.storage.session.set({popupOpeningQuery:e})}}Bv([gc(Tv),qv("design:type",Function),qv("design:paramtypes",[Object]),qv("design:returntype",Promise)],Vv.prototype,"openPopup",null),Bv([gc(Ov),qv("design:type",Function),qv("design:paramtypes",[String]),qv("design:returntype",Promise)],Vv.prototype,"changeOpeningQuery",null);const Hv="@@URL_LIST",zv="@@URL_LIST_SYNC",Wv="@@URL_LIST_REQUEST",Zv=new Set(["http","https","ws","wss","ftp","ftps","data","file"]),Gv=new Set(["http","https","ws","wss"]),Kv=/^[.\w_-]+$/;function Yv(e){return e.replace(/([|.$+?{}()[\]\\])/g,"\\$1").replace(/\*/g,".*")}function Jv(e){if("*"===e)return Gv;if(Zv.has(e))return new Set([e]);throw new Error(`<scheme> is not valid: ${e}`)}function Xv(e,t){if("*"===t)return null;if(t.includes(":"))throw new Error("<host> must not include a port number");if(0===t.length){if("file"===e)return/^$/;throw new Error('<host> is optional only if the scheme is "file"')}const n=t.lastIndexOf("*");if(-1!==n){if(0!==n)throw new Error("<host> wildcard may only appear at the start");if("."!==t[1])throw new Error('<host> only "*" and "*." followed by hostname parts are valid');const e=t.slice(2);if(!1===Kv.test(e))throw new Error("<host> contains invalid characters");return new RegExp(`^(?:.*[.])?${Yv(e)}$`)}if(!1===Kv.test(t))throw new Error("<host> contains invalid characters");return new RegExp(`^${Yv(t)}$`)}function Qv(e){return"*"===e?null:new RegExp(`^${Yv(e)}$`)}class eb{constructor(e){if("<all_urls>"===e)return this.scheme=Zv,this.host=null,void(this.path=null);if("*://*/*"===e)return this.scheme=Gv,this.host=null,void(this.path=null);const t=e.indexOf("://");if(-1===t)throw new Error('<scheme> missing, "://" not found');const n=e.slice(0,t);this.scheme=Jv(n);const r=e.indexOf("/",t+3);if(-1===r)throw new Error('<path> missing, "/" not found');const o=e.slice(t+3,r);this.host=Xv(n,o);const s=e.slice(r+1);this.path=Qv(s)}match(e){const t=e.indexOf(":");if(-1===t||t>5)return!1;const n=e.slice(0,t);if(!1===this.scheme.has(n))return!1;const r="file"===n;let o=t+1;for(;"/"===e[o];)o+=1;let s=e.indexOf("/",o);if(-1===s&&(s=e.length),null!==this.host&&!1===this.host.test(r?"":e.slice(o,s)))return!1;if(null!==this.path){const t=r?o:s+1;let n=e.indexOf("#",t);if(-1===n&&(n=e.length),!1===this.path.test(e.slice(t,n)))return!1}return!0}}function tb(e,t){return new eb(e).match(t)}var nb=c(630),rb=c.n(nb);class ob{static getMatchingRules(e,t,n){return t.filter((t=>this.testRule(e,t,n)))}static getMatchingRule(e,t){return t.find((t=>this.testRule(e,t)))}static testRule(e,t,n){if(t.disabled&&!n)return!1;switch(+t.mode){case f.MATCHES_URL:return e===t.query;case f.URL_CONTAINS:return e.includes(t.query);case f.URL_STARTS:return e.startsWith(t.query);case f.URL_ENDS:return e.endsWith(t.query);case f.MATCHES_DOMAIN:return rb()(e).host===t.query;case f.MATCHES_PATTERN:return tb(t.query,e);case f.MATCHES_REGEXP:return new RegExp(t.query).test(e);default:return!1}}}var sb=function(e){function t(t,n){return e.call(this)||this}return vc(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Rc),ib={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ib.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,kc([],xc(e)))},clearInterval:function(e){var t=ib.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ab=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return vc(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),ib.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;ib.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,r=t.scheduler,o=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ic(o,this),null!=n&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(sb),cb={now:function(){return(cb.delegate||Date).now()},delegate:void 0},ub=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=cb.now,e}(),lb=function(e){function t(t,n){void 0===n&&(n=ub.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return vc(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(ub),pb=new lb(ab);function db(e,t){return void 0===t&&(t=pb),_u((function(n,r){var o=null,s=null,i=null,a=function(){if(o){o.unsubscribe(),o=null;var e=s;s=null,r.next(e)}};function c(){var n=i+e,s=t.now();if(s<n)return o=this.schedule(void 0,n-s),void r.add(o);a()}n.subscribe(new wu(r,(function(n){s=n,i=t.now(),o||(o=t.schedule(c,e),r.add(o))}),(function(){a(),r.complete()}),void 0,(function(){s=o=null})))}))}var fb=c(3);class hb extends Vu{constructor(e=Hv){super(e),this.bubbleUrlStore=fy(),this.pendingUpdates=[],this.initTime=(new Date).getTime(),this.init(),this.bubbleUrlStore.sync$.pipe(db(0)).subscribe((()=>{this.syncPending()})),this.connector.connected$.subscribe((async e=>{const{tab:t,url:n}=e.sender??{};t&&n&&this.sync(t.id,n,[e])}))}syncPending(){const e=this.pendingUpdates.slice();this.debugger.logger.info({msg:"Pending updates: ",data:e}),this.pendingUpdates=[],e.forEach((e=>{e.tab.id&&e.tab.url&&this.sync(e.tab.id,e.tab.url,[e.port])}))}initBackground(){super.initBackground(),chrome.tabs.onActivated.addListener((async e=>{const t=await chrome.tabs.get(e.tabId);if(!t||"complete"!==t.status)return;const n=this.connector.findPortsByTabId(t.id);this.sync(t.id,t.url,n)})),chrome.tabs.onUpdated.addListener(((e,t,n)=>{const r=t.url??n.url;if(n.active&&r){const t=this.connector.findPortsByTabId(e);this.sync(e,r,t)}}))}async syncAndPost(e,t,n){return this.sync(e,t).then((e=>n.postMessage(e))).catch((e=>fb.warn(e)))}async sync(e,t,n){t=decodeURI(t);const r=!this.bubbleUrlStore.disabled,o=this.bubbleUrlStore.whitelist,s=this.bubbleUrlStore.blacklist;let i;if(Xh.canInjectScript(t)){const e=ob.getMatchingRule(t,r?s:o);i=e&&!ob.getMatchingRule(t,r?o:s)?!r:r}else i=!1;try{await this.updateIcon(e,i),n?.forEach((e=>{try{this.postMessage({action:zv,payload:{url:t,state:i}},e)}catch(e){Du.isDev&&fb.warn("UrlListBackgroundService:sync:port",e)}}))}catch(e){fb.warn("UrlListBackgroundService:sync",e)}}updateIcon(e,t){const n=t?"/assets/icons/definer-48.png":"/assets/icons/definer-gray-48.png";return chrome.action.setIcon({tabId:e,path:n})}async onMessageFromClient(e,t){if(e?.action!==Wv)return;this.debugger.logger.info({msg:"URL update request received.",data:{msg:e,port:t}});const{payload:n}=e,r=n.waitForStoreSync&&(new Date).getTime()-this.initTime>1e3;if(n.query){const e=await chrome.tabs.query(n.query);this.debugger.logger.info(`${e.length} tabs are queried, holding ${this.connector.ports.length} connections.`);for(const t of this.connector.ports)for(const n of e)n?.id&&n?.url&&t.sender?.tab?.id===n.id&&(r?this.pendingUpdates.push({port:t,tab:n}):this.sync(n.id,n.url,[t]))}else t.sender?.tab?.id&&t.sender.tab.url&&(r?this.pendingUpdates.push({port:t,tab:t.sender.tab}):this.sync(t.sender.tab.id,t.sender.tab.url,[t]))}}class mb{constructor(e){this.leftTop=4,this.rightTop=4,this.rightBottom=4,this.leftBottom=4,"number"==typeof e?(this.leftTop=e,this.rightTop=e,this.rightBottom=e,this.leftBottom=e):e&&"object"==typeof e&&Object.assign(this,e)}getBorderRadius(){return`${this.leftTop}px ${this.rightTop}px ${this.rightBottom}px ${this.leftBottom}px`}}class gb{constructor(){this.toolbarHeight=50,this.optionsSearch="full"}}class yb{constructor(){this.customSchedulesLimit=7,this.defaultSchedules=[],this.defaultCustomSchedules=[]}}const vb="default-light",bb="default-dark";class _b{constructor(){this.customThemesLimit=7,this.defaultThemes=[],this.defaultCustomThemes=[]}}var wb=c(501);const xb="royal-blue",kb="calming-green",Sb="daily-cycle",Tb="vibrant-pulse",Ob="greenpeace";class Eb extends _b{constructor(){super(...arguments),this.customThemesLimit=7,this.defaultThemes=[{id:vb,info:{},colors:{primary:"#ffbf09",secondary:"#fff",accent:wb.A.pink.base,error:wb.A.red.base,warning:wb.A.deepOrange.base,info:wb.A.blueGrey.lighten4,success:wb.A.green.base,ground:"#FFF8E1",text:"#000",ptext:"#FFA001",contrast:"#000",anchor:"#1E88E5"},settings:{persistent:!0,final:!0}},{id:bb,info:{},colors:{primary:"#A36600",secondary:wb.A.blueGrey.darken2,accent:"#FFF8E1",error:wb.A.red.base,warning:wb.A.deepOrange.base,info:wb.A.blueGrey.darken1,success:wb.A.green.base,ground:"#343a40",text:"#fff",ptext:wb.A.amber.darken2,contrast:"#fff",anchor:"#a6d7ff"},settings:{persistent:!0,final:!0}}],this.defaultCustomThemes=[{id:xb,info:{},colors:{primary:"#175BC2",secondary:"#FAFAFA",accent:"#E91E63",ground:"#F7FAFD",text:"#000",ptext:"#175BC2",contrast:"#fff",anchor:"#175BC2",error:wb.A.red.base,warning:wb.A.deepOrange.base,info:wb.A.blueGrey.lighten4,success:wb.A.green.base},styles:{shape:new mb(0)}},{id:"calming-green",info:{},colors:{primary:"#3C9B0D",secondary:"#FCFFFC",accent:"#E91E63",ground:"#f6fcf2",text:"#000",ptext:"#3C9B0D",contrast:"#fff",anchor:"#1E88E5",error:wb.A.red.base,warning:wb.A.deepOrange.base,info:wb.A.green.lighten3,success:"#3C9B0D"},styles:{shape:new mb(15)}}]}}class jb extends yb{constructor(){super(...arguments),this.customSchedulesLimit=7,this.defaultSchedules=[],this.defaultCustomSchedules=[{id:Sb,info:{},items:[{themeId:bb,timeStart:0,timeFinish:216e5},{themeId:vb,timeStart:216e5,timeFinish:648e5},{themeId:bb,timeStart:648e5,timeFinish:864e5}]},{id:Tb,info:{},items:[{themeId:vb,timeStart:0,timeFinish:72e5},{themeId:xb,timeStart:72e5,timeFinish:144e5},{themeId:bb,timeStart:144e5,timeFinish:216e5},{themeId:kb,timeStart:216e5,timeFinish:288e5},{themeId:vb,timeStart:288e5,timeFinish:36e6},{themeId:xb,timeStart:36e6,timeFinish:432e5},{themeId:bb,timeStart:432e5,timeFinish:504e5},{themeId:kb,timeStart:504e5,timeFinish:576e5},{themeId:vb,timeStart:576e5,timeFinish:648e5},{themeId:xb,timeStart:648e5,timeFinish:72e6},{themeId:bb,timeStart:72e6,timeFinish:792e5},{themeId:kb,timeStart:792e5,timeFinish:864e5}]},{id:Ob,info:{},items:[{themeId:kb,timeStart:588e5,timeFinish:648e5}]}]}}const Ab=Pt(new _b),Ib=Pt(new yb);function Rb(){return Ab}function Cb(){return Ib}function Nb(e){Ab.value=e}function Pb(e){Ib.value=e}class Mb{static placeOnTimeline(e,t){if(!e.items?.length)return void(e.items=[t]);const n=[];e.items.forEach((e=>{if(!(e.timeStart>=t.timeStart&&e.timeFinish<=t.timeFinish))return e.timeStart>=t.timeStart&&e.timeFinish>t.timeFinish&&e.timeStart<=t.timeFinish?(e.timeStart=t.timeFinish,n.push(e)):e.timeFinish>=t.timeStart&&e.timeFinish<=t.timeFinish&&e.timeStart<t.timeStart?(e.timeFinish=t.timeStart,n.push(e)):e.timeFinish>t.timeFinish&&e.timeStart<t.timeStart?n.push(Object.assign({},e,{timeFinish:t.timeStart}),Object.assign({},e,{timeStart:t.timeFinish})):n.push(e)})),n.push(t),e.items=n,this.adjustTimeline(e)}static removeFromTimeline(e,t){const n=e.items.findIndex((e=>e.themeId===t.themeId&&e.timeStart===t.timeStart&&e.timeFinish===t.timeFinish));e.items.splice(n,1),this.adjustTimeline(e)}static adjustTimeline(e){const t=[];e.items.sort(((e,t)=>e.timeStart>t.timeStart?1:-1)).reduce(((e,n,r,o)=>n.timeFinish>0&&n.timeFinish<=n.timeStart||n.timeFinish>864e5?e:r>0&&e&&e.themeId===n.themeId&&e.timeFinish>=n.timeStart?(e.timeFinish=n.timeFinish,e):(t.push(n),n)),e.items[0]),e.items=t}}class $b{static getMs(e=du()()){return e.valueOf()-e.startOf("day").valueOf()}static getMsFromTime(e){return this.getMs(du()(e+":00","HH:mm:ss"))}static getTimeFormatted(e){return du()().startOf("day").add(e,"ms").format("HH:mm")}}class Lb{}var Db=c(62),Fb=c.n(Db),Ub=c(3);function Bb(e){let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError(`Colors can only be numbers or strings, received ${null==e?e:e.constructor.name} instead`);{let n="#"===e[0]?e.substring(1):e;3===n.length&&(n=n.split("").map((e=>e+e)).join("")),6!==n.length&&Ub.warn(`'${e}' is not a valid rgb color`),t=parseInt(n,16)}}return t<0?(Ub.warn(`Colors cannot be negative: '${e}'`),t=0):(t>16777215||isNaN(t))&&(Ub.warn(`'${e}' is not a valid rgb color`),t=16777215),t}function qb(e){let t=e.toString(16);return t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}function Vb(e,t=0,n=1){return Math.max(t,Math.min(n,e))}function Hb(e){const t=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],n=e=>e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055,r=Array(3),o=n,s=t;for(let t=0;t<3;++t)r[t]=Math.round(255*Vb(o(s[t][0]*e[0]+s[t][1]*e[1]+s[t][2]*e[2])));return(r[0]<<16)+(r[1]<<8)+(0|r[2])}function zb(e){const t=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4,n=[0,0,0],r=t,o=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],s=r((e>>16&255)/255),i=r((e>>8&255)/255),a=r((255&e)/255);for(let e=0;e<3;++e)n[e]=o[e][0]*s+o[e][1]*i+o[e][2]*a;return n}function Wb(e){const t=.20689655172413793,n=e=>e>t**3?Math.cbrt(e):e/(3*t**2)+4/29,r=n(e[1]);return[116*r-16,500*(n(e[0]/.95047)-r),200*(r-n(e[2]/1.08883))]}function Zb(e){const t=.20689655172413793,n=e=>e>t?e**3:3*t**2*(e-4/29),r=(e[0]+16)/116;return[.95047*n(r+e[1]/500),n(r),1.08883*n(r-e[2]/200)]}function Gb(e,t){const n={base:qb(t)};for(let e=5;e>0;--e)n[`lighten${e}`]=qb(Kb(t,e));for(let e=1;e<=4;++e)n[`darken${e}`]=qb(Yb(t,e));return n}function Kb(e,t){const n=Wb(zb(e));return n[0]=n[0]+10*t,Hb(Zb(n))}function Yb(e,t){const n=Wb(zb(e));return n[0]=n[0]-10*t,Hb(Zb(n))}var Jb=c(3);class Xb{constructor(){this.defaults={fontFamily:'"Roboto", sans-serif',fontLineHeight:"1.5em",fontSize:"16px",fontWeight:"normal",borderRadius:"4px"},this.customCssId="lumetrium_custom_css",this.cssVarsCssId="lumetrium_css_vars",this.themeCssId="lumetrium_theme",this.options=null}getCssVars(e){return{...this.genThemeColorVars(e),...this.genThemeColorExtraVars(),...this.genThemeFontVars(e),...this.genThemeStylesVars(e),...this.genThemeElementsVars(e),...this.genRgbVars(this.vuetify?.theme.themes??{light:e.colors})}}applyTheme(e){this.element=e.element??globalThis.document?.documentElement,this.options=e,this.applyToVuetify(e.theme,e.vuetify),this.applyThemeCssVars(e.theme),this.applyCustomCss(e.theme.css)}applyToVuetify(e,t){if(t&&(this.vuetify=t?.framework??t),this.vuetify){this.vuetify.theme.themes.light=e.colors;try{this.vuetify.theme.applyTheme()}catch(e){Jb.warn(e)}}}applyCss(e,t){const n=this.element.getRootNode(),r=this.element.getRootNode()!==document,o=n.getElementById(e),s=o||document.createElement("style");s.id=e,s.innerHTML=t||"";const i=r?n:document.getElementsByTagName("head")[0];i&&!o&&i.appendChild(s)}applyCustomCss(e){this.applyCss(this.customCssId,e)}applyThemeCssVars(e){const t={...this.vuetify?{}:this.genThemeColorVars(e),...this.genThemeColorExtraVars(),...this.genThemeFontVars(e),...this.genThemeStylesVars(e),...this.genThemeElementsVars(e),...this.genRgbVars(this.vuetify?.theme.themes??{light:e.colors})},n=Object.entries(t).reduce(((e,[t,n])=>`${e} ${t}: ${n};`),""),r=this.element.id?`#${this.element.id}`:":root";this.applyCss(this.cssVarsCssId,`${r} { ${n} }`)}genThemeColorVars(e){if(!e.colors)return;const t={};return Object.keys(e.colors).forEach((n=>{const r=e.colors[n],o=Gb(n,Bb(r));Object.entries(o).forEach((e=>{t[`--v-${n}-${e[0]}`]=e[1]}))})),t}genThemeColorExtraVars(){return{"--v-border-base":"rgba(var(--text-rgb), 0.12)","--v-border-darken1":"rgba(var(--text-rgb), 0.25)","--v-border-darken2":"rgba(var(--text-rgb), 0.4)","--v-highlight-base":"rgba(var(--text-rgb), 0.05)"}}genThemeFontVars(e){return{"--font-family":e.font?.family||this.defaults.fontFamily,"--font-size":e.font?.size?e.font.size+"px":this.defaults.fontSize,"--font-weight":e.font?.weight?e.font.weight+"":this.defaults.fontWeight}}genThemeStylesVars(e){const t=e.styles?.shape,n=this.defaults.borderRadius;return{"--border-radius-left-top":t?`${t.leftTop}px`:n,"--border-radius-right-top":t?`${t.rightTop}px`:n,"--border-radius-right-bottom":t?`${t.rightBottom}px`:n,"--border-radius-left-bottom":t?`${t.leftBottom}px`:n,"--border-radius":t?`${t.leftTop}px ${t.rightTop}px ${t.rightBottom}px ${t.leftBottom}px`:n}}genThemeElementsVars(e){return e.elements||(e.elements=new gb),e.elements.toolbarHeight||(e.elements.toolbarHeight=(new gb).toolbarHeight),{"--toolbar-height":e.elements.toolbarHeight+"px"}}genRgbVars(e){const t={};return dy()(e,(e=>{dy()(e,((e,n)=>{if(Fb()(e))dy()(e,((r,o)=>{const s=`${n}-${o}`,i=this.generateRgbVar(s,e);i&&(t[`--${s}-rgb`]=i)}));else{const r=this.generateRgbVar(n,e);r&&(t[`--${n}-rgb`]=r)}}))})),t}generateRgbVar(e,t){const n=this.hexToRgb(t);return n.includes("NaN")?null:n}hexToRgb(e){let t=0,n=0,r=0;return 4===e.length?(t="0x"+e[1]+e[1],n="0x"+e[2]+e[2],r="0x"+e[3]+e[3]):7===e.length&&(t="0x"+e[1]+e[2],n="0x"+e[3]+e[4],r="0x"+e[5]+e[6]),`${+t}, ${+n}, ${+r}`}}const Qb=[bh,vh].map((e=>({...e,includePaths:["appliedThemeId","activeThemeId","themes","initialized"],reduce(e){const t=Sy()(e);return t.themes=t.themes.filter(((t,n)=>!t.settings?.persistent&&e.themes.findIndex((({id:e})=>e===t.id))===n)),t}}))),e_=[bh,vh].map((e=>({...e,includePaths:["schedules","activeScheduleId","initialized"],reduce(e){const t=Sy()(e);return t.schedules=t.schedules.filter(((t,n)=>!t.settings?.persistent&&e.schedules.findIndex((({id:e})=>e===t.id))===n)),t}}))),t_=ud("theme",(()=>{const e=Rb(),t=Pt(null),n=Pt(null),r=Pt([]),o=Pt(!1),s=new Xb,i=Ut((()=>{const n=c.value.find((e=>e.id===t.value));return Sy()(n||e.value.defaultThemes[0])})),a=Ut((()=>{const t=c.value.find((e=>e.id===n.value));return Sy()(t||e.value.defaultThemes[0])})),c=Ut((()=>[...e.value.defaultThemes,...r.value]));function u(e){return e?Sy()(c.value.find((t=>t.id===e))):void 0}function l(){const e=Sy()(i.value);return e.id="",e.info=new Lb,delete e.meta,delete e.settings,delete e.settings,e}async function p(e){const t=c.value.find((t=>t.id===e.id));if(t)return d({theme:t,vuetify:e.vuetify,element:e.element})}async function d(e){return t.value!==e.theme.id&&(t.value=e.theme.id),f(e)}async function f(e){s.applyTheme(e),n.value=e.theme.id}function h(e){e.id&&!u(e.id)||(e.id=C()),r.value.push(e)}function m(e){const t=r.value.findIndex((t=>t.id===e.id));t>-1&&r.value.splice(t,1,e)}function g(e){const t=r.value.findIndex((t=>t.id===e));t>-1&&r.value.splice(t,1)}function y(e){e.id?m(e):h(e)}function v(e){r.value=e.filter(((e,t,n)=>!e.settings?.persistent&&n.findIndex((t=>t.id===e.id))===t))}function b(e){Nb(e),o.value||(v(e.defaultCustomThemes),o.value=(new Date).getTime()),!t.value&&globalThis.window&&(t.value=window.matchMedia("(prefers-color-scheme: dark)").matches?bb:vb)}return{activeThemeId:t,themes:r,initialized:o,activeTheme:i,appliedTheme:a,allThemes:c,getThemeById:u,getActiveThemeAsNew:l,init:b,activateTheme:d,activateThemeById:p,applyTheme:f,saveTheme:y,removeTheme:g,setThemes:v,themeService:s}}),{sync:{debug:!1,async onBeforeFirstSync(e){await ch((()=>e.$state.initialized))}},persist:Qb});var n_=c(3);class r_{constructor(){this.store=t_()}activate(e,t){const n={...t};if(delete n.theme,n.element||(n.element=globalThis.document.documentElement),this.preset=e,this.themePayload=n,!this.preset)throw Error("Schedule is not provided.");this.nextThemeTimerId&&this.deactivate(),this.tick()}deactivate(){globalThis.window?.clearTimeout(this.nextThemeTimerId)}tick(){const e=this.findCurrentItemPos(),t=-1===e?null:this.preset.items[e],n=this.findNextItemPos(),r=this.preset.items[n],o=t?this.store.getThemeById(t.themeId):this.store.activeTheme;this.store.applyTheme({theme:o,...this.themePayload}),window.clearTimeout(this.nextThemeTimerId);let s=t?t.timeFinish-$b.getMs():n>0?r.timeStart-$b.getMs():864e5-$b.getMs()+r.timeStart;s<0&&(s=1e4),this.nextThemeTimerId=window.setTimeout((()=>this.tick()),s)}findCurrentItemPos(){const e=$b.getMs();for(let t=0;t<this.preset.items.length;t++){const n=this.preset.items[t];if(n.timeStart<=e&&n.timeFinish>=e)return t}return-1}findNextItemPos(){const e=$b.getMs();for(let t=0;t<this.preset.items.length;t++)if(this.preset.items[t].timeStart>=e)return t;return 0}debug(e,t,n){n_.table({nextTickTimeout:n,nextTick:$b.getTimeFormatted($b.getMs()+n),nextItemStart:$b.getTimeFormatted(t.timeStart),nextItemTheme:t.themeId,currentItemStart:e?$b.getTimeFormatted(e.timeStart):"N/D",currentItemFinish:e?$b.getTimeFormatted(e.timeFinish):"N/D",currentItemTheme:e?.themeId||"DEFAULT"})}}const o_=ud("theme-schedule",(()=>{const e=Cb(),t=t_(),n=Pt(null),r=Pt([]),o=Pt(!1),s=new r_,i=Ut((()=>{if(!n.value)return null;const e=a.value.find((e=>e.id===n.value));return e?Sy()(e):null})),a=Ut((()=>[...e.value.defaultSchedules,...r.value]));function c(e,t){const n=e.items.slice(0,t||e.items.length).map((e=>Sy()(e)));return n&&n.length?n:[]}function u(e){return e?Sy()(a.value.find((t=>t.id===e))):void 0}function l(e){return a.value.reduce(((t,n)=>t+ +(n.items.findIndex((t=>t.themeId===e))>-1)),0)}function p(e){return a.value.filter((t=>t.items.findIndex((t=>t.themeId===e))>-1))}async function d(e){if(e.id){const t=a.value.find((t=>t.id===e.id));if(t)return n.value!==t.id&&(n.value=t.id),void s.activate(t,e.themePayload)}else n.value&&(n.value=null),s.deactivate(),await t.activateTheme({theme:t.activeTheme,...e.themePayload});s.deactivate()}function f(e){e.id&&!u(e.id)||(e.id=C()),r.value.push(e)}function h(e){const t=r.value.findIndex((t=>t.id===e.id));t>-1&&r.value.splice(t,1,e)}function m(e){e.id?h(e):f(e)}function g(e){r.value=e.filter(((e,t,n)=>!e.settings?.persistent&&n.findIndex((t=>t.id===e.id))===t))}function y(e){const t=r.value.findIndex((t=>t.id===e));t>-1&&(e===n.value&&(n.value=null),r.value.splice(t,1))}function v(e){const t=p(e);return t.forEach((e=>y(e.id))),t.length}async function b(e){const t=p(e);return t.forEach((t=>{(t=Sy()(t)).items=t.items.filter((t=>t.themeId!==e)),Mb.adjustTimeline(t),h(t)})),t.length}function _(e){Pb(e),o.value||(g(e.defaultCustomSchedules),o.value=(new Date).getTime())}return t.$onAction((e=>{["activateThemeById","activateTheme"].includes(e.name)&&i.value&&e.after((()=>s.activate(i.value,e.args[0])))})),{activeScheduleId:n,schedules:r,initialized:o,activeSchedule:i,allSchedules:a,getScheduleItems:c,getScheduleById:u,getSchedulesWithThemeCount:l,getSchedulesWithTheme:p,init:_,activateScheduleById:d,saveSchedule:m,setSchedules:g,removeSchedule:y,removeSchedulesContainingTheme:v,removeThemeFromSchedules:b}}),{sync:{debug:!1,async onBeforeFirstSync(e){await ch((()=>e.$state.initialized))}},persist:e_});async function s_(e){const t=new Zu,n=await t.getItem("store");if(!n)return!0;const r=fy(),o=_h(),s=ly(),i=cy(),a=Iy(),c=t_(),u=o_();i.$patch(n.preferences.lang),s.$patch({size:n.preferences.bubble?.size}),o.$patch({hotkeys:n.preferences.bubble?.hotkeys}),r.$patch({disabled:n.preferences.bubble?.disabled,urlList:n.preferences.bubble?.urlList});const l=n.preferences.resources.options,p=Sy()(hv);Object.values(p).forEach((e=>{const t=e.type,n=l["custom"===t?"custom1":t];if(!n||0===Object.keys(n).length)return;const r=Oy(t);e.index=n.index,delete n.index,e.disabled=n.disabled,delete n.disabled,n.autoplay&&(e.behavior||(e.behavior={}),e.behavior.autoplay=n.autoplay,delete n.autoplay),r.display?.showMoreBtn&&n.disableMoreBtn&&(e.display||(e.display={}),e.display.showMoreBtn=!1,delete n.disableMoreBtn),Object.keys(n).length>0&&(e.options={...e.options??{},...n})})),a.list=p,a.initialized=Date.now(),c.$patch(n.preferences.theme);const d=n.preferences.theme?.schedules??[],f=n.preferences.theme?.schedules?.findIndex((({id:e})=>"checkers"===e));d?.length&&d.splice(-1===f?d.length:f,-1===f?0:1,(new jb).defaultCustomSchedules[1]),u.$patch({schedules:d,activeScheduleId:"checkers"!==n.preferences.theme?.activeScheduleId?n.preferences.theme?.activeScheduleId:"vibrant-pulse",initialized:n.preferences.theme?.initialized}),await t.setItem("store_backup",await t.getItem("store")),await t.removeItem("store"),await e.persist()}let i_;function a_(){if(i_)return{i18n:i_,locale:Ut((()=>i_.locale)),t:i_.t.bind(i_),te:i_.te.bind(i_),tc:i_.tc.bind(i_)};const e=Xe().proxy.$i18n;return{i18n:e,locale:Ut((()=>e.locale)),t:e.t.bind(e),te:e.te.bind(e),tc:e.tc.bind(e)}}function c_(e){i_=e}var u_,l_=c(2),p_=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},d_=function(){function e(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return e}(),f_=function(){function e(e){this.version=e,this.type="node",this.name="node",this.os=l_.platform}return e}(),h_=function(){function e(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"}return e}(),m_=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),g_=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),y_=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,v_=3,b_=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],__=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function w_(e){return e?k_(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new g_:"undefined"!=typeof navigator?k_(navigator.userAgent):T_()}function x_(e){return""!==e&&b_.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var s=o.exec(e);return!!s&&[r,s]}),!1)}function k_(e){var t=x_(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new m_;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<v_&&(o=p_(p_([],o,!0),O_(v_-o.length),!0)):o=[];var s=o.join("."),i=S_(e),a=y_.exec(e);return a&&a[1]?new h_(n,s,i,a[1]):new d_(n,s,i)}function S_(e){for(var t=0,n=__.length;t<n;t++){var r=__[t],o=r[0];if(r[1].exec(e))return o}return null}function T_(){return void 0!==l_&&l_.version?new f_(l_.version.slice(1)):null}function O_(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}class E_{constructor(e={}){Object.assign(this,e)}}!function(e){e.CHROME_WEB_STORE="chrome",e.FIREFOX_ADDONS="firefox",e.EDGE_ADDONS="edge"}(u_||(u_={}));const j_=c.p+"/images/firefox_64x64.png",A_=c.p+"/images/chrome-web-store-stroked.png",I_=new E_({id:u_.CHROME_WEB_STORE,name:"Chrome Web Store",logo:A_}),R_=new E_({id:u_.FIREFOX_ADDONS,name:"Firefox Addons",logo:j_});class C_{constructor(){this.browser=w_()}get info(){return this.getIsFirefox()?R_:I_}getLink(e){if(this.getIsFirefox())return e[u_.FIREFOX_ADDONS];const t=globalThis.chrome?.runtime?.id;return t&&e[u_.EDGE_ADDONS]?.includes(t)?e[u_.EDGE_ADDONS]:e[u_.CHROME_WEB_STORE]}addQueryParams(e,t){const n=new URL(e);return Object.entries(t).forEach((([e,t])=>n.searchParams.append(e,t))),n.toString()}getIsFirefox(){return"firefox"===this.browser?.name}getIsChromium(){return!0}}const N_=new C_;class P_{constructor(){this.menuItems={openOptionsPage:{title:"menu.options",handler:()=>chrome.runtime.openOptionsPage()},openHelpCenter:{title:"menu.help",handler:()=>this.openInNewTab(Xh.getOptionsPage("help"))},openPdfReaderPage:{title:"menu.pdf",handler:()=>this.openInNewTab(Xh.getPdfReaderPage())},openWebStorePage:{title:"menu.review",handler:()=>this.openInNewTab(N_.addQueryParams(N_.getLink(r),{utm_source:"browser_action",utm_medium:"extension",utm_content:"browser_action"}))}},this.contextAction=Av();const e=a_();this.contextAction.removeAll(),Object.entries(this.menuItems).forEach((([t,n])=>{this.contextAction.createPersistent((()=>({id:t,title:e.te(n.title)?e.t(n.title):n.title.split(".").pop(),contexts:["action"]})))})),chrome.contextMenus.onClicked.addListener((async(e,t)=>{const n=this.menuItems[e.menuItemId]?.handler;n&&n.apply(this)}))}refresh(){this.contextAction.removeAll()}openInNewTab(e){chrome.tabs.create({url:e,active:!0})}}const M_="@@EXTENSION_ACTION",$_="@@EXTENSION_ACTION_REQUEST";var L_;!function(e){e[e.OPEN_TAB=0]="OPEN_TAB"}(L_||(L_={}));var D_,F_=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},U_=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class B_ extends Vu{constructor(e=M_){super(e),this.init()}async act(e){e.name===L_.OPEN_TAB&&await chrome.tabs.create({url:e.value,active:e.data.active??!0})}}F_([gc($_),U_("design:type",Function),U_("design:paramtypes",[Object]),U_("design:returntype","function"==typeof(D_="undefined"!=typeof Promise&&Promise)?D_:Object)],B_.prototype,"act",null);const q_="@@EXTENSION_AUDIO",V_="@@EXTENSION_AUDIO_PLAY_REQUEST",H_="@@EXTENSION_AUDIO_PRELOAD_REQUEST",z_="@@EXTENSION_AUDIO_STOP_REQUEST";class W_{}function Z_(e){return new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onloadend=e=>t(String(r.result)),r.onerror=e=>n(null)}))}var G_,K_,Y_,J_,X_=c(3),Q_=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},ew=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class tw extends Vu{constructor(e=q_){super(e),this.media=new Audio,this.preloadedAudioMap=new Map,this.preloadedItemsLimit=50,this.init()}async onPlayRequest(e){const t=new Date,n=await this.play(e).catch((e=>e));return{playtime:(new Date).getTime()-t.getTime(),error:n}}async onPreloadRequest(e){try{return await this.preloadAudio(e),{}}catch(e){return{error:{message:e?.message}}}}stop(){this.stopAll()}play(e){if(this.stopAll(),e.src)return this.playMedia(e);if(e.text)return this.playTts(e);throw new Error("No audio source provided")}async preloadAudio(e){if(this.preloadedItemsLimit<=1)throw Error("Preloading is disabled");const t=this.getPreloadKey(e);if(this.preloadedAudioMap.has(t))return;const n=await fetch(e.src);if(!n.ok)throw Error(`${n.status}`);const r=await Z_(await n.blob());this.preloadedAudioMap.set(t,r),this.preloadedAudioMap.size>this.preloadedItemsLimit&&this.preloadedAudioMap.delete(this.preloadedAudioMap.keys().next().value)}playMedia(e){return this.setMedia(e),new Promise(((e,t)=>(this.media.onended=()=>e(),this.media.onerror=e=>t(e),this.media.play().catch((e=>t(e))))))}playTts(e){return new Promise(((t,n)=>{this.ssu=new SpeechSynthesisUtterance(e.text),this.ssu.onend=()=>t(),this.ssu.lang=e.lang??"en",speechSynthesis.getVoices().length>0?(this.setTtsVoice(e.lang,e.voices),speechSynthesis.speak(this.ssu)):speechSynthesis.onvoiceschanged=()=>{speechSynthesis.onvoiceschanged=null,this.setTtsVoice(e.lang,e.voices),speechSynthesis.speak(this.ssu)}}))}setTtsVoice(e,t){const n=speechSynthesis.getVoices();if(!t?.length)return void(this.ssu.voice=null);let r=null;for(const o of t.filter((t=>t.lang===e)))if(r=n.find((e=>e.voiceURI===o.uri||e.name===o.name)),r)break;this.ssu.voice=r,r||X_.warn(`Voice for language "${e}" not found. Using default voice.`)}convertToTwoLetterLang(e){return/^[a-z]{2}$/.test(e)?e:/^[a-z]{2}-[A-Z]{2}$/.test(e)||e&&e.includes("-")?e.split("-")[0]:e}stopAll(){this.media.pause(),this.media.currentTime=0,this.ssu&&speechSynthesis.cancel()}setMedia(e){const t=this.getPreloadKey(e);this.media.src=this.preloadedAudioMap.get(t)??e.src}flush(){this.preloadedAudioMap.clear()}getPreloadKey(e){return JSON.stringify(e)}isBackground(){return!0}}Q_([gc(V_),ew("design:type",Function),ew("design:paramtypes",["function"==typeof(G_=void 0!==W_&&W_)?G_:Object]),ew("design:returntype","function"==typeof(K_="undefined"!=typeof Promise&&Promise)?K_:Object)],tw.prototype,"onPlayRequest",null),Q_([gc(H_),ew("design:type",Function),ew("design:paramtypes",["function"==typeof(Y_=void 0!==W_&&W_)?Y_:Object]),ew("design:returntype","function"==typeof(J_="undefined"!=typeof Promise&&Promise)?J_:Object)],tw.prototype,"onPreloadRequest",null),Q_([gc(z_),ew("design:type",Function),ew("design:paramtypes",[]),ew("design:returntype",void 0)],tw.prototype,"stop",null);const nw="@@DNR",rw={type:"modifyHeaders",requestHeaders:[{header:"user-agent",operation:"set",value:"Mozilla/5.0 (Linux; Android 12) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.78 Mobile Safari/537.36"}]};var ow=c(639),sw=c.n(ow),iw=c(3);class aw{constructor(){this.rules=[],this.enabledRuleTabsMap=new Map,this.idsInterval=[9e3,1e4],this.reevaluation=new Promise((e=>e(void 0))),this.debugger=Fu.create(nw,this).toggle(!1),chrome.tabs.onUpdated.addListener(this.tabsOnUpdatedHandler.bind(this))}setRules(e){return this.reevaluation=new Promise((async t=>{await this.clearRules(),this.rules=this.normalizeRules(e),await this.reevaluateRulesForTabs(),t()})),this.reevaluation}async reevaluateRulesForTabs(){const e=await chrome.tabs.query({}),t=[],n=this.enabledRuleTabsMap;for(const r of e)this.getTabRules(r).enabled.forEach((e=>{const o=n.get(e)||[];o.length||t.push(e),n.set(e,[...o,r.id])}));await chrome.declarativeNetRequest.updateSessionRules({addRules:t.map((e=>this.dnr2NativeRule(e,n.get(e))))})}async tabsOnUpdatedHandler(e,t,n){if(!t.url)return;await this.reevaluation;const r=this.enabledRuleTabsMap,o=this.getTabRules(n);o.enabled.forEach((t=>r.set(t,[...r.get(t)||[],e]))),o.disabled.forEach((t=>{r.get(t).splice(r.get(t).indexOf(e),1)}));const s=[];r.forEach(((e,t)=>s.push(this.dnr2NativeRule(t,r.get(t))))),this.debugger.logger.info("enabledRuleTabsMap",this.enabledRuleTabsMap),this.debugger.logger.info("rules",o),await chrome.declarativeNetRequest.updateSessionRules({addRules:s,removeRuleIds:this.rules.map((e=>e.id))})}normalizeRules(e){const t=this.idsInterval[1]-this.idsInterval[0];if(e.length>t)throw new Error(`Too many rules, maximus is ${t}`);return e.map(((e,t)=>({...e,id:this.idsInterval[0]+t})))}dnr2NativeRule(e,t=[]){return{...e,condition:sw()({...e.condition,tabIds:[...t,chrome.tabs.TAB_ID_NONE],excludedTabUrlFilter:void 0},(e=>void 0!==e))}}getTabRules(e){const t={enabled:[],disabled:[]};for(const n of this.rules){let r=!1;const{excludedTabUrlFilter:o}=n.condition;try{r=o&&tb(o,e.url)}catch(e){iw.warn("Invalid excludedTabUrlFilter",o,e)}r?t.disabled.push(n):t.enabled.push(n)}return t}async clearRules(){const e=await chrome.declarativeNetRequest.getSessionRules(),[t,n]=this.idsInterval,r=e.reduce(((e,r)=>(r.id>=t&&r.id<=n&&e.push(r.id),e)),[]);return r.length?(this.rules=[],this.enabledRuleTabsMap=new Map,await chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:r}),r.length):0}}const cw="@@EXTENSION_PROXY",uw="@@EXTENSION_PROXY_REQUEST";var lw;!function(e){e.JSON="json",e.TEXT="text",e.DATA_URL="data-url",e.BLOB="binary-data"}(lw||(lw={}));var pw,dw=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},fw=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class hw extends Vu{constructor(e=cw){super(e),this.init()}async request(e){this.debugger.logger.info(`Proxying request ${e.url}`);const t=await fetch(e.url,e.requestInit??{});let n={url:e.url,headers:Object.fromEntries(t.headers),data:void 0};switch(e.responseType){case lw.JSON:n.data=await t.json();break;case lw.TEXT:n.data=await t.text();break;case lw.DATA_URL:const e=await t.blob();n.data=await Z_(e);break;case lw.BLOB:const r=await t.arrayBuffer(),o=new Uint8Array(r);n.data=Array.from(o)}return this.debugger.logger.info("Finished",{res:t,payload:e,result:n}),n}}dw([gc(uw),fw("design:type",Function),fw("design:paramtypes",[Object]),fw("design:returntype","function"==typeof(pw="undefined"!=typeof Promise&&Promise)?pw:Object)],hw.prototype,"request",null);class mw{constructor(){this.sendWakeUpNotification(),chrome.runtime.onMessage.addListener(this.messageHandler.bind(this))}async createOffscreen(){await chrome.offscreen.hasDocument()||await chrome.offscreen.createDocument({url:"../offscreen/offscreen.html",justification:"ignored",reasons:[chrome.offscreen.Reason.BLOBS]})}messageHandler(e,t,n){e.action===dc&&n(!0),e.action===hc&&n(!0),e.action===pc&&n(t)}async sendWakeUpNotification(){const e={action:fc},t=await chrome.tabs.query({});await Promise.allSettled([chrome.runtime.sendMessage(e),...t.map((t=>chrome.tabs.sendMessage(t.id,e)))])}}ts.extend({name:"Can",functional:!0,props:{I:String,do:String,a:[String,Function],an:[String,Function],this:[String,Function,Object],on:[String,Function,Object],not:Boolean,passThrough:Boolean,field:String},render(e,{props:t,children:n,parent:r,data:o}){const s=t,i=s.I||s.do,a=s.of||s.an||s.a||s.this||s.on;if(!i)throw new Error("[Vue Can]: neither `I` nor `do` prop was passed in <Can>");const c=r.$can(i,a,s.field),u=t.not?!c:c;if(!t.passThrough)return u?n:[];if(!o.scopedSlots||!o.scopedSlots.default)throw new Error("[Vue Can]: `passThrough` expects default scoped slot to be specified");return o.scopedSlots.default({allowed:u,ability:r.$ability})}});const gw=new WeakMap;function yw(e,t){if(gw.has(t))return gw.get(t);const n={t:!0},r="function"==typeof e.observable?e.observable(n):new e({data:n});return t.on("updated",(()=>{r.t=!r.t})),gw.set(t,r),r}function vw(e){return e?{value:e}:{get(){throw new Error("Please provide `Ability` instance either in `abilitiesPlugin` or in ComponentOptions")}}}function bw(e,t){Object.defineProperty(e.prototype,"$ability",vw(t)),e.mixin({beforeCreate(){const{ability:e,parent:t}=this.$options,n=e||(t?t.$ability:null);n&&Object.defineProperty(this,"$ability",{value:n})},methods:{$can(...t){const n=yw(e,this.$ability);return n.t=n.t,this.$ability.can(...t)}}})}let _w=null;function ww(e){_w=e}function xw(){if(!_w)throw new Error("AbilityService is not set");return _w}class kw{constructor(e,t){this.operator=e,this.value=t,Object.defineProperty(this,"t",{writable:!0})}get notes(){return this.t}addNote(e){this.t=this.t||[],this.t.push(e)}}class Sw extends kw{}class Tw extends Sw{constructor(e,t){if(!Array.isArray(t))throw new Error(`"${e}" operator expects to receive an array of conditions`);super(e,t)}}const Ow="__itself__";class Ew extends kw{constructor(e,t,n){super(e,n),this.field=t}}const jw=new Sw("__null__",null),Aw=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function Iw(e,t){return t instanceof Tw&&t.operator===e}function Rw(e,t){return 1===t.length?t[0]:new Tw(e,function e(t,n,r){const o=r||[];for(let r=0,s=n.length;r<s;r++){const s=n[r];Iw(t,s)?e(t,s.value,o):o.push(s)}return o}(e,t))}const Cw=e=>e,Nw=()=>Object.create(null),Pw=Object.defineProperty(Nw(),"__@type@__",{value:"ignore value"});function Mw(e,t,n=!1){if(!e||e&&e.constructor!==Object)return!1;for(const r in e)if(Aw(e,r)&&Aw(t,r)&&(!n||e[r]!==Pw))return!0;return!1}function $w(e){const t=[];for(const n in e)Aw(e,n)&&e[n]!==Pw&&t.push(n);return t}function Lw(e,t){t!==jw&&e.push(t)}const Dw=e=>Rw("and",e),Fw={compound(e,t,n){const r=(Array.isArray(t)?t:[t]).map((e=>n.parse(e)));return new Tw(e.name,r)},field:(e,t,n)=>new Ew(e.name,n.field,t),document:(e,t)=>new Sw(e.name,t)};class Uw{constructor(e,t=Nw()){this.o=void 0,this.s=void 0,this.i=void 0,this.u=void 0,this.h=void 0,this.parse=this.parse.bind(this),this.u={operatorToConditionName:t.operatorToConditionName||Cw,defaultOperatorName:t.defaultOperatorName||"eq",mergeFinalConditions:t.mergeFinalConditions||Dw},this.o=Object.keys(e).reduce(((t,n)=>(t[n]=Object.assign({name:this.u.operatorToConditionName(n)},e[n]),t)),{}),this.s=Object.assign({},t.fieldContext,{field:"",query:{},parse:this.parse,hasOperators:e=>Mw(e,this.o,t.useIgnoreValue)}),this.i=Object.assign({},t.documentContext,{parse:this.parse,query:{}}),this.h=t.useIgnoreValue?$w:Object.keys}setParse(e){this.parse=e,this.s.parse=e,this.i.parse=e}parseField(e,t,n,r){const o=this.o[t];if(!o)throw new Error(`Unsupported operator "${t}"`);if("field"!==o.type)throw new Error(`Unexpected ${o.type} operator "${t}" at field level`);return this.s.field=e,this.s.query=r,this.parseInstruction(o,n,this.s)}parseInstruction(e,t,n){return"function"==typeof e.validate&&e.validate(e,t),(e.parse||Fw[e.type])(e,t,n)}parseFieldOperators(e,t){const n=[],r=this.h(t);for(let o=0,s=r.length;o<s;o++){const s=r[o];if(!this.o[s])throw new Error(`Field query for "${e}" may contain only operators or a plain object as a value`);Lw(n,this.parseField(e,s,t[s],t))}return n}parse(e){const t=[],n=this.h(e);this.i.query=e;for(let r=0,o=n.length;r<o;r++){const o=n[r],s=e[o],i=this.o[o];if(i){if("document"!==i.type&&"compound"!==i.type)throw new Error(`Cannot use parsing instruction for operator "${o}" in "document" context as it is supposed to be used in  "${i.type}" context`);Lw(t,this.parseInstruction(i,s,this.i))}else this.s.hasOperators(s)?t.push(...this.parseFieldOperators(o,s)):Lw(t,this.parseField(o,this.u.defaultOperatorName,s,e))}return this.u.mergeFinalConditions(t)}}function Bw(e,t){const n=e[t];if("function"!=typeof n)throw new Error(`Unable to interpret "${t}" condition. Did you forget to register interpreter for it?`);return n}function qw(e){return e.operator}function Vw(e,t){const n=t,r=n&&n.getInterpreterName||qw;let o;switch(n?n.numberOfArguments:0){case 1:o=t=>{const o=r(t,n);return Bw(e,o)(t,s)};break;case 3:o=(t,o,i)=>{const a=r(t,n);return Bw(e,a)(t,o,i,s)};break;default:o=(t,o)=>{const i=r(t,n);return Bw(e,i)(t,o,s)}}const s=Object.assign({},n,{interpret:o});return s.interpret}function Hw(e,t){return(n,...r)=>{const o=e(n,...r),s=t.bind(null,o);return s.ast=o,s}}function zw(e,t){if(!Array.isArray(t))throw new Error(`"${e.name}" expects value to be an array`)}function Ww(e,t){if(zw(e,t),!t.length)throw new Error(`"${e.name}" expects to have at least one element in array`)}Uw.prototype.parseInstruction;const Zw=e=>(t,n)=>{if(typeof n!==e)throw new Error(`"${t.name}" expects value to be a "${e}"`)},Gw={type:"compound",validate:Ww,parse(e,t,{parse:n}){const r=t.map((e=>n(e)));return Rw(e.name,r)}},Kw=Gw,Yw={type:"compound",validate:Ww},Jw={type:"field",validate(e,t){if(!t||!(t instanceof RegExp||t.constructor===Object))throw new Error(`"${e.name}" expects to receive either regular expression or object of field operators`)},parse(e,t,n){const r=t instanceof RegExp?new Ew("regex",n.field,t):n.parse(t,n);return new Tw(e.name,[r])}},Xw={type:"field",validate(e,t){if(!t||t.constructor!==Object)throw new Error(`"${e.name}" expects to receive an object with nested query or field level operators`)},parse(e,t,{parse:n,field:r,hasOperators:o}){const s=o(t)?n(t,{field:Ow}):n(t);return new Ew(e.name,r,s)}},Qw={type:"field",validate:Zw("number")},ex={type:"field",validate:zw},tx=ex,nx=ex,rx={type:"field",validate(e,t){if(!Array.isArray(t)||2!==t.length)throw new Error(`"${e.name}" expects an array with 2 numeric elements`)}},ox={type:"field",validate:Zw("boolean")},sx={type:"field",validate:function(e,t){if(!("string"==typeof t||"number"==typeof t||t instanceof Date))throw new Error(`"${e.name}" expects value to be comparable (i.e., string, number or date)`)}},ix=sx,ax=ix,cx=ix,ux={type:"field"},lx=ux,px={type:"field",validate(e,t){if(!(t instanceof RegExp)&&"string"!=typeof t)throw new Error(`"${e.name}" expects value to be a regular expression or a string that represents regular expression`)},parse(e,t,n){const r="string"==typeof t?new RegExp(t,n.query.$options||""):t;return new Ew(e.name,n.field,r)}},dx={type:"field",parse:()=>jw},fx={type:"document",validate:Zw("function")};var hx=Object.freeze({__proto__:null,$and:Gw,$or:Kw,$nor:Yw,$not:Jw,$elemMatch:Xw,$size:Qw,$in:ex,$nin:tx,$all:nx,$mod:rx,$exists:ox,$gte:sx,$gt:ix,$lt:ax,$lte:cx,$eq:ux,$ne:lx,$regex:px,$options:dx,$where:fx});class mx extends Uw{constructor(e){super(e,{defaultOperatorName:"$eq",operatorToConditionName:e=>e.slice(1)})}parse(e,t){return t&&t.field?Dw(this.parseFieldOperators(t.field,e)):super.parse(e)}}const gx=hx;function yx(e,t,n){for(let r=0,o=e.length;r<o;r++)if(0===n(e[r],t))return!0;return!1}function vx(e,t){return Array.isArray(e)&&Number.isNaN(Number(t))}function bx(e,t,n){if(!vx(e,t))return n(e,t);let r=[];for(let o=0;o<e.length;o++){const s=n(e[o],t);void 0!==s&&(r=r.concat(s))}return r}function _x(e){return(t,n,r)=>{const o=r.get(n,t.field);return Array.isArray(o)?o.some((n=>e(t,n,r))):e(t,o,r)}}const wx=(e,t)=>e[t];function xx(e,t,n){const r=t.lastIndexOf(".");return-1===r?[e,t]:[n(e,t.slice(0,r)),t.slice(r+1)]}function kx(e,t,n=wx){if(t===Ow)return e;if(!e)throw new Error(`Unable to get field "${t}" out of ${String(e)}.`);return function(e,t,n){if(-1===t.indexOf("."))return bx(e,t,n);const r=t.split(".");let o=e;for(let e=0,t=r.length;e<t;e++)if(o=bx(o,r[e],n),!o||"object"!=typeof o)return o;return o}(e,t,n)}function Sx(e,t){return e===t?0:e>t?1:-1}function Tx(e,t={}){return Vw(e,Object.assign({get:kx,compare:Sx},t))}const Ox=(e,t,{interpret:n})=>e.value.some((e=>n(e,t))),Ex=(e,t,n)=>!Ox(e,t,n),jx=(e,t,{interpret:n})=>e.value.every((e=>n(e,t))),Ax=(e,t,{interpret:n})=>!n(e.value[0],t),Ix=(e,t,{compare:n,get:r})=>{const o=r(t,e.field);return Array.isArray(o)&&!Array.isArray(e.value)?yx(o,e.value,n):0===n(o,e.value)},Rx=(e,t,n)=>!Ix(e,t,n),Cx=_x(((e,t,n)=>{const r=n.compare(t,e.value);return 0===r||-1===r})),Nx=_x(((e,t,n)=>-1===n.compare(t,e.value))),Px=_x(((e,t,n)=>1===n.compare(t,e.value))),Mx=_x(((e,t,n)=>{const r=n.compare(t,e.value);return 0===r||1===r})),$x=(e,t,{get:n})=>{if(e.field===Ow)return void 0!==t;const[r,o]=xx(t,e.field,n),s=t=>!!t&&t.hasOwnProperty(o)===e.value;return vx(r,o)?r.some(s):s(r)},Lx=_x(((e,t)=>"number"==typeof t&&t%e.value[0]===e.value[1])),Dx=(e,t,{get:n})=>{const[r,o]=xx(t,e.field,n),s=t=>{const r=n(t,o);return Array.isArray(r)&&r.length===e.value};return e.field!==Ow&&vx(r,o)?r.some(s):s(r)},Fx=_x(((e,t)=>"string"==typeof t&&e.value.test(t))),Ux=_x(((e,t,{compare:n})=>yx(e.value,t,n))),Bx=(e,t,n)=>!Ux(e,t,n),qx=(e,t,{compare:n,get:r})=>{const o=r(t,e.field);return Array.isArray(o)&&e.value.every((e=>yx(o,e,n)))},Vx=(e,t,{interpret:n,get:r})=>{const o=r(t,e.field);return Array.isArray(o)&&o.some((t=>n(e.value,t)))},Hx=(e,t)=>e.value.call(t);var zx=Object.freeze({__proto__:null,or:Ox,nor:Ex,and:jx,not:Ax,eq:Ix,ne:Rx,lte:Cx,lt:Nx,gt:Px,gte:Mx,exists:$x,mod:Lx,size:Dx,regex:Fx,within:Ux,nin:Bx,all:qx,elemMatch:Vx,where:Hx});const Wx=Object.assign({},zx,{in:Ux});function Zx(e){return e instanceof Date?e.getTime():e&&"function"==typeof e.toJSON?e.toJSON():e}Tx(Wx);const Gx=(e,t)=>Sx(Zx(e),Zx(t));function Kx(e,t,n){const r=new mx(e),o=Tx(t,Object.assign({compare:Gx},n));if(n&&n.forPrimitives){const e={field:Ow},t=r.parse;r.setParse((n=>t(n,e)))}return Hw(r.parse,o)}function Yx(e){return Array.isArray(e)?e:[e]}Kx(gx,Wx),Kx(["$and","$or"].reduce(((e,t)=>(e[t]=Object.assign({},e[t],{type:"field"}),e)),Object.assign({},gx,{$nor:Object.assign({},gx.$nor,{type:"field",parse:Fw.compound})})),Wx,{forPrimitives:!0});const Jx="__caslSubjectType__",Xx=e=>{const t=typeof e;return"string"===t||"function"===t},Qx=e=>e.modelName||e.name,ek=e=>"string"==typeof e?e:Qx(e);function tk(e){return e.hasOwnProperty(Jx)?e[Jx]:Qx(e.constructor)}function nk(e,t,n){for(let r=n;r<t.length;r++)e.push(t[r])}function rk(e,t){if(!e||!e.length)return t||[];if(!t||!t.length)return e||[];let n=0,r=0;const o=[];for(;n<e.length&&r<t.length;)e[n].priority<t[r].priority?(o.push(e[n]),n++):(o.push(t[r]),r++);return nk(o,e,n),nk(o,t,r),o}function ok(e,t,n){let r=e.get(t);return r||(r=n(),e.set(t,r)),r}const sk=e=>e;function ik(e,t){if(Array.isArray(e.fields)&&!e.fields.length)throw new Error("`rawRule.fields` cannot be an empty array. https://bit.ly/390miLa");if(e.fields&&!t.fieldMatcher)throw new Error('You need to pass "fieldMatcher" option in order to restrict access by fields');if(e.conditions&&!t.conditionsMatcher)throw new Error('You need to pass "conditionsMatcher" option in order to restrict access by conditions')}class ak{constructor(e,t,n=0){ik(e,t),this.action=t.resolveAction(e.action),this.subject=e.subject,this.inverted=!!e.inverted,this.conditions=e.conditions,this.reason=e.reason,this.fields=e.fields?Yx(e.fields):void 0,this.priority=n,this.t=t}i(){return this.conditions&&!this.o&&(this.o=this.t.conditionsMatcher(this.conditions)),this.o}get ast(){const e=this.i();return e?e.ast:void 0}matchesConditions(e){return!this.conditions||(!e||Xx(e)?!this.inverted:this.i()(e))}matchesField(e){return!this.fields||(e?(this.fields&&!this.u&&(this.u=this.t.fieldMatcher(this.fields)),this.u(e)):!this.inverted)}}function ck(e,t){const n={value:e,prev:t,next:null};return t&&(t.next=n),n}function uk(e){e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e.next=e.prev=null}const lk=e=>({value:e.value,prev:e.prev,next:e.next}),pk=()=>({rules:[],merged:!1}),dk=()=>new Map,fk=(e,t)=>{!e.h&&t.fields&&(e.h=!0)};class hk{constructor(e=[],t={}){this.h=!1,this.l=new Map,this.p={conditionsMatcher:t.conditionsMatcher,fieldMatcher:t.fieldMatcher,resolveAction:t.resolveAction||sk},this.g=t.anyAction||"manage",this.$=t.anySubjectType||"all",this.m=t.detectSubjectType||tk,this.A=e,this.j=this.v(e)}get rules(){return this.A}detectSubjectType(e){return Xx(e)?e:e?this.m(e):this.$}update(e){const t={rules:e,ability:this,target:this};return this.M("update",t),this.A=e,this.j=this.v(e),this.M("updated",t),this}v(e){const t=new Map;for(let n=e.length-1;n>=0;n--){const r=e.length-n-1,o=new ak(e[n],this.p,r),s=Yx(o.action),i=Yx(o.subject||this.$);fk(this,o);for(let e=0;e<i.length;e++){const n=ok(t,i[e],dk);for(let e=0;e<s.length;e++)ok(n,s[e],pk).rules.push(o)}}return t}possibleRulesFor(e,t=this.$){if(!Xx(t))throw new Error('"possibleRulesFor" accepts only subject types (i.e., string or class) as the 2nd parameter');const n=ok(this.j,t,dk),r=ok(n,e,pk);if(r.merged)return r.rules;const o=e!==this.g&&n.has(this.g)?n.get(this.g).rules:void 0;let s=rk(r.rules,o);return t!==this.$&&(s=rk(s,this.possibleRulesFor(e,this.$))),r.rules=s,r.merged=!0,s}rulesFor(e,t,n){const r=this.possibleRulesFor(e,t);if(n&&"string"!=typeof n)throw new Error("The 3rd, `field` parameter is expected to be a string. See https://stalniy.github.io/casl/en/api/casl-ability#can-of-pure-ability for details");return this.h?r.filter((e=>e.matchesField(n))):r}on(e,t){const n=ck(t,this.l.get(e)||null);return this.l.set(e,n),()=>{const t=this.l.get(e);n.next||n.prev||t!==n?n===t&&this.l.set(e,n.prev):this.l.delete(e),uk(n)}}M(e,t){let n=this.l.get(e)||null;for(;null!==n;){const e=n.prev?lk(n.prev):null;n.value(t),n=e}}}class mk extends hk{can(...e){const t=this.relevantRuleFor(...e);return!!t&&!t.inverted}relevantRuleFor(e,t,n){const r=this.detectSubjectType(t),o=this.rulesFor(e,r,n);for(let e=0,n=o.length;e<n;e++)if(o[e].matchesConditions(t))return o[e];return null}cannot(...e){return!this.can(...e)}}const gk=Kx({$eq:ux,$ne:lx,$lt:ax,$lte:cx,$gt:ix,$gte:sx,$in:ex,$nin:tx,$all:nx,$size:Qw,$regex:px,$options:dx,$elemMatch:Xw,$exists:ox},{eq:Ix,ne:Rx,lt:Nx,lte:Cx,gt:Px,gte:Mx,in:Ux,nin:Bx,all:qx,size:Dx,regex:Fx,elemMatch:Vx,exists:$x,and:jx}),yk=/[-/\\^$+?.()|[\]{}]/g,vk=/\.?\*+\.?/g,bk=/\*+/,_k=/\./g;function wk(e,t,n){const r="*"===n[0]||"."===e[0]&&"."===e[e.length-1]?"+":"*",o=-1===e.indexOf("**")?"[^.]":".",s=e.replace(_k,"\\$&").replace(bk,o+r);return t+e.length===n.length?`(?:${s})?`:s}function xk(e,t,n){return"."!==e||"*"!==n[t-1]&&"*"!==n[t+1]?`\\${e}`:e}function kk(e){const t=e.map((e=>e.replace(yk,xk).replace(vk,wk))),n=t.length>1?`(?:${t.join("|")})`:t[0];return new RegExp(`^${n}$`)}const Sk=e=>{let t;return n=>(void 0===t&&(t=e.every((e=>-1===e.indexOf("*")))?null:kk(e)),null===t?-1!==e.indexOf(n):t.test(n))};class Tk extends mk{constructor(e=[],t={}){super(e,Object.assign({conditionsMatcher:gk,fieldMatcher:Sk},t))}}const Ok=e=>`Cannot execute "${e.action}" on "${e.subjectType}"`,Ek=function(e){this.message=e};Ek.prototype=Object.create(Error.prototype);class jk extends Ek{static setDefaultMessage(e){this.O="string"==typeof e?()=>e:e}static from(e){return new this(e)}constructor(e){super(""),this.ability=e,"function"==typeof Error.captureStackTrace&&(this.name="ForbiddenError",Error.captureStackTrace(this,this.constructor))}setMessage(e){return this.message=e,this}throwUnlessCan(...e){const t=this.ability.relevantRuleFor(...e);if(t&&!t.inverted)return;this.action=e[0],this.subject=e[1],this.subjectType=ek(this.ability.detectSubjectType(e[1])),this.field=e[2];const n=t?t.reason:"";throw this.message=this.message||n||this.constructor.O(this),this}}jk.O=Ok,Object.freeze({__proto__:null});class Ak{constructor(e){this.ability=new Tk(e),this.ability.detectSubjectType=e=>"string"==typeof e?e:e.prototype?.modelName??e.constructor.prototype?.modelName??e.constructor.name??e.name}}const Ik=({beforeNuxtRender:e},t)=>{const n=dd();t?t("auth",n):ts.prototype.$auth=n,Rk()};function Rk(){const e=dd(),t=e.permissions??[];ww(new Ak(t)),ts.use(bw,xw().ability),Zt((()=>e.permissions),(e=>{xw().ability.update(e??[])}))}class Ck{constructor(){}}class Nk extends dh{constructor(){super(...arguments),this.authManager=new vd(this)}static getInstance(){return this.instance||(this.instance=new Nk({namespace:"account"})),this.instance}}var Pk=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},Mk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class $k{constructor(){this.wsService=Nk.getInstance(),this.authStore=dd(),this.wsService.onMessage(hl,(()=>this.refresh()))}refresh(){return this.authStore.refreshUserWithPermissions()}}Pk([wd(200),Mk("design:type",Function),Mk("design:paramtypes",[]),Mk("design:returntype",void 0)],$k.prototype,"refresh",null);const Lk="@@WS",Dk="WS_CONNECTION_TOGGLE_MSG",Fk="WS_CONNECTION_STATUS_MSG";var Uk=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},Bk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class qk extends Vu{constructor(e=Lk){super(e),this.init()}async getConnectionStatus(e){return this.isBackground()?this.getWsServiceByName(e)?.isConnected??!1:this.postMessageWaitForResponse({action:Fk,payload:e})}toggleConnection(e){if(!this.isBackground())return this.postMessage({action:Dk,payload:e});this.debugger.logger.info("toggleConnection");const t=this.getWsServiceByName(e.name);if(!t)return this.debugger.logger.error("toggleConnection","Service not found"),!1;e.state??!t.isConnected?t.connect():t.disconnect()}getWsServiceByName(e){return _d.getInstance().getService(e)}}Uk([gc(Fk,{backgroundOnly:!0}),Bk("design:type",Function),Bk("design:paramtypes",[String]),Bk("design:returntype",Promise)],qk.prototype,"getConnectionStatus",null),Uk([gc(Dk,{backgroundOnly:!0,alwaysRespond:!0}),Bk("design:type",Function),Bk("design:paramtypes",[Object]),Bk("design:returntype",void 0)],qk.prototype,"toggleConnection",null),new qk;class Vk{static isNumeric(e){return!isNaN(e-parseFloat(e))}static isEmpty(e){return null==e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length}}var Hk=c(457),zk=c.n(Hk),Wk=c(502),Zk=c.n(Wk);class Gk{constructor(e,t){this.options=e,this.context=t,this.resolveIsReady=()=>{},this.lastHydrationTime=null;const{persistDebounce:n,hydrateDebounce:r,key:o,name:s}=e;this.name=s,this.store=t.store,this.key="function"==typeof o?o(this.store.$id):o,this.hydrateDebounced=this.getDebounced(this.hydrate,r),this.persistDebounced=this.getDebounced(this.persist,n),this.injectPersistedState(),this.hydrateDebounced(),this.setupExternalUpdateSubscription(),this.setupPersistRequestSubscription(),this.setupPersistenceSubscription()}async setupPersistenceSubscription(){await this.store.$persistedState.isReady,this.store.$subscribe((async(e,t)=>{(this.lastHydrationTime?Date.now()-this.lastHydrationTime:Number.MAX_SAFE_INTEGER)>100&&await this.persistDebounced(t)}),{detached:!0})}setupExternalUpdateSubscription(){this.options.storage?.externalUpdate$?.pipe(qu((({key:e})=>e===this.key))).subscribe((async({value:e})=>{await this.hydrateDebounced(e)}))}setupPersistRequestSubscription(){this.options.storage?.persistRequest$?.pipe(qu((e=>e===this.key))).subscribe((()=>this.persistDebounced(this.store.$state)))}async hydrate(e){e||(e=this.options.storage.getItem(this.key));const t=await Promise.resolve(e);return this.lastHydrationTime=Date.now(),this.parseAndPatch(t)}async parseAndPatch(e){if(null!==e){const t=this.options.serializer?this.options.serializer.deserialize(e):e,n=this.options.migrate(t??{}),r=await Promise.resolve(n);this.patchOrOverwrite(r)}else this.resolveIsReady()}patchOrOverwrite(e){this.options.beforeRestore?.(this.context);const t=this.options.merge(this.store.$state,e);this.options.patch?this.store.$patch((e=>{this.options.patch(e,t,this.store),this.store.$patch({})})):this.store.$patch(t),this.options.afterRestore?.(this.context),this.resolveIsReady()}async persist(e){const{storage:t,reduce:n,serializer:r}=this.options;e=this.getFilteredState(e);const o=r?r.serialize(n(e)):n(e);await t.setItem(this.key,o)}injectPersistedState(){const{name:e,standalone:t}=this.options,n=t?Promise.resolve([e]):new Promise((t=>{this.resolveIsReady=()=>{t(e),this.store.$persistedState.ready$.next(e)}})).then((e=>[e]));this.store.$persistedState?this.store.$persistedState.isReady=Promise.all([this.store.$persistedState.isReady,n]).then((e=>e.flat(2))):this.store.$persistedState={ready$:new iu,isReady:n}}getFilteredState(e){const{serializer:t,includePaths:n,excludePaths:r}=this.options;let o=Sy()(e);return Array.isArray(n)&&(o=n.reduce(((e,t)=>Zk()(e,t,zk()(o,t))),{})),Array.isArray(r)&&(o=t?t.deserialize(t.serialize(o)):Sy()(o),r.forEach((e=>Zk()(o,e,{})))),o}getDebounced(e,t){return Vk.isEmpty(t)?e.bind(this):ol()(e.bind(this),t)}}function Kk(e){return"object"==typeof e&&null!==e}function Yk(e,t){let n="function"==typeof e?e():e;return n=Kk(n)?n:Object.create(null),new Proxy(n,{get:(e,n,r)=>"key"===n?Reflect.get(e,n,r):Reflect.get(e,n,r)||Reflect.get(t,n,r)})}var Jk=c(3);function Xk(e){const t=e||{},n=[];async function r(e,t,r){if(r&&!r.length)return[];const o=new Set(r);return Promise.all(n.reduce(((n,r)=>{if(t&&r.name!==t)return n;if(o.size&&!o.has(r.key))return n;const s=r.store.$persistedState.isReady;return n.push(s.then((()=>e(r)))),n}),[]))}return function(o){const{options:{persist:s=t.persist},store:i}=o;if(!1===s)return;const a=new Zu;o.pinia.restore||(o.pinia.restore=(e,t)=>r((e=>e.hydrate()),e,t)),o.pinia.persist||(o.pinia.persist=(e,t)=>r((e=>e.persist(e.store.$state)),e,t)),o.pinia.hydrate||(o.pinia.hydrate=async(e,t)=>{const r=n.find((t=>t.store.$id===e));return r?r.hydrate(t):Jk.warn(`Store "${e}" was not found`)});const c=(Array.isArray(s)?s.map((t=>Yk(t,e))):[Yk(s,e)]).map((({name:e=null,storage:t=a,beforeRestore:n=null,afterRestore:r=null,serializer:o,merge:s=(e,t)=>t,patch:c,migrate:u=e=>e,reduce:l=e=>e,key:p=i.$id,includePaths:d,excludePaths:f,debug:h=!1,standalone:m=!1,persistDebounce:g=null})=>({name:e,key:p,storage:t,beforeRestore:n,afterRestore:r,serializer:o,merge:s,reduce:l,patch:c,includePaths:d,excludePaths:f,migrate:u,debug:h,standalone:m,persistDebounce:g})));c.forEach((e=>{const t=new Gk(e,o);n.push(t)}))}}const Qk="@@SYNCED_STATE",eS="@@SYNCED_STATE_ACTION_SYNC",tS="@@SYNCED_STATE_PREVENT_SYNC";function nS(e,t){return _u((function(n,r){var o=0;n.subscribe(new wu(r,(function(n){r.next(e.call(t,n,o++))})))}))}var rS=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function oS(e){return Ec(null==e?void 0:e.then)}function sS(e){return Ec(e[Xc])}function iS(e){return Symbol.asyncIterator&&Ec(null==e?void 0:e[Symbol.asyncIterator])}function aS(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function cS(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var uS=cS();function lS(e){return Ec(null==e?void 0:e[uS])}function pS(e){return Tc(this,arguments,(function(){var t,n,r;return _c(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Sc(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Sc(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Sc(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function dS(e){return Ec(null==e?void 0:e.getReader)}function fS(e){if(e instanceof tu)return e;if(null!=e){if(sS(e))return hS(e);if(rS(e))return mS(e);if(oS(e))return gS(e);if(iS(e))return vS(e);if(lS(e))return yS(e);if(dS(e))return bS(e)}throw aS(e)}function hS(e){return new tu((function(t){var n=e[Xc]();if(Ec(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function mS(e){return new tu((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function gS(e){return new tu((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Lc)}))}function yS(e){return new tu((function(t){var n,r;try{for(var o=wc(e),s=o.next();!s.done;s=o.next()){var i=s.value;if(t.next(i),t.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}))}function vS(e){return new tu((function(t){_S(e,t).catch((function(e){return t.error(e)}))}))}function bS(e){return vS(pS(e))}function _S(e,t){var n,r,o,s;return bc(this,void 0,void 0,(function(){var i,a;return _c(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Oc(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))}function wS(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var s=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(s),!o)return s}function xS(e,t,n,r,o,s,i,a){var c=[],u=0,l=0,p=!1,d=function(){!p||c.length||u||t.complete()},f=function(e){return u<r?h(e):c.push(e)},h=function(e){s&&t.next(e),u++;var a=!1;fS(n(e,l++)).subscribe(new wu(t,(function(e){null==o||o(e),s?f(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{u--;for(var e=function(){var e=c.shift();i?wS(t,i,(function(){return h(e)})):h(e)};c.length&&u<r;)e();d()}catch(e){t.error(e)}})))};return e.subscribe(new wu(t,f,(function(){p=!0,d()}))),function(){null==a||a()}}function kS(e,t,n){return void 0===n&&(n=1/0),Ec(t)?kS((function(n,r){return nS((function(e,o){return t(n,e,r,o)}))(fS(e(n,r)))}),n):("number"==typeof t&&(n=t),_u((function(t,r){return xS(t,r,e,n)})))}function SS(e){return void 0===e&&(e=1/0),kS(Qc,e)}function TS(){return SS(1)}function OS(e){return e&&Ec(e.schedule)}function ES(e){return e[e.length-1]}function jS(e){return OS(ES(e))?e.pop():void 0}function AS(e,t){return void 0===t&&(t=0),_u((function(n,r){n.subscribe(new wu(r,(function(n){return wS(r,e,(function(){return r.next(n)}),t)}),(function(){return wS(r,e,(function(){return r.complete()}),t)}),(function(n){return wS(r,e,(function(){return r.error(n)}),t)})))}))}function IS(e,t){return void 0===t&&(t=0),_u((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function RS(e,t){return fS(e).pipe(IS(t),AS(t))}function CS(e,t){return fS(e).pipe(IS(t),AS(t))}function NS(e,t){return new tu((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}function PS(e,t){return new tu((function(n){var r;return wS(n,t,(function(){r=e[uS](),wS(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return Ec(null==r?void 0:r.return)&&r.return()}}))}function MS(e,t){if(!e)throw new Error("Iterable cannot be null");return new tu((function(n){wS(n,t,(function(){var r=e[Symbol.asyncIterator]();wS(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function $S(e,t){return MS(pS(e),t)}function LS(e,t){if(null!=e){if(sS(e))return RS(e,t);if(rS(e))return NS(e,t);if(oS(e))return CS(e,t);if(iS(e))return MS(e,t);if(lS(e))return PS(e,t);if(dS(e))return $S(e,t)}throw aS(e)}function DS(e,t){return t?LS(e,t):fS(e)}function FS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TS()(DS(e,jS(e)))}function US(){return _u((function(e,t){e.subscribe(new wu(t,Dc))}))}function BS(e){return nS((function(){return e}))}function qS(e,t){return t?function(n){return FS(t.pipe(xu(1),US()),n.pipe(qS(e)))}:kS((function(t,n){return e(t,n).pipe(xu(1),BS(t))}))}var VS=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},HS=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class zS extends Vu{constructor(e,t){super(`${Qk}:${e.$id}`),this.store=e,this.options=t,this.id=C(),this.syncTime$=new yu(null),this.fnPatch$=new iu,this.connector.connected$.pipe(qS((()=>DS(Promise.all([Promise.resolve(e.$persistedState?.isReady),Promise.resolve(t.onBeforeFirstSync?.(e))]))))).subscribe((e=>{try{this.postMessage({action:eS,payload:this.getPayload()},e)}catch(e){}})),this.init()}onSync(e){this.shouldHandleSync(e)&&(delete e.state[tS],this.debugger.logger.info(`onSync ${this.store.$id}`,e),JSON.stringify(this.store.$state)!==JSON.stringify(e.state)&&(this.store.$patch(this.options.patch?t=>{this.options.patch(t,e.state,this.store),this.fnPatch$.next({initiatorId:e.initiatorId,payload:e.state,state:t})}:e.state),this.syncTime$.next((new Date).getTime())))}broadcast(e,t){this.debugger.logger.info(`broadcast: ${this.store.$id}`,e),this.broadcastMessage({action:eS,payload:this.getPayload(e,t)})}shouldHandleSync(e){return e.storeId===this.store.$id&&e.initiatorId!==this.id}getPayload(e,t){return{initiatorId:t||this.id,storeId:this.store.$id,state:e??this.store.$state}}}VS([gc(eS),HS("design:type",Function),HS("design:paramtypes",[Object]),HS("design:returntype",void 0)],zS.prototype,"onSync",null);var WS=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},ZS=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class GS extends Vu{constructor(e,t){super(`${Qk}:${e.$id}`),this.store=e,this.options=t,this.id=C(),this.syncTime$=new yu(null),this.fnPatch$=new iu,this.init()}onSync(e){if(!this.shouldHandleSync(e))return;const t=JSON.parse(JSON.stringify(this.store.$state));delete t[tS],delete e.state[tS];const n=JSON.stringify(t)!==JSON.stringify(e.state);if(n){const t={...e.state,[tS]:!0};this.store.$patch(this.options.patch?n=>{n[tS]=!0,this.options.patch(n,t,this.store),this.fnPatch$.next({initiatorId:e.initiatorId,payload:t,state:n})}:t)}(n||null===this.syncTime$.getValue())&&this.syncTime$.next((new Date).getTime())}broadcast(e,t){this.postMessage({action:eS,payload:this.getPayload(e,t)})}shouldHandleSync(e){return e.storeId===this.store.$id&&e.initiatorId!==this.id}getPayload(e,t){return{initiatorId:t||this.id,storeId:this.store.$id,state:e??this.store.$state}}}WS([gc(eS),ZS("design:type",Function),ZS("design:paramtypes",[Object]),ZS("design:returntype",void 0)],GS.prototype,"onSync",null);var KS=jc((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function YS(e){return _u((function(t,n){var r=!1;t.subscribe(new wu(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function JS(e){return void 0===e&&(e=XS),_u((function(t,n){var r=!1;t.subscribe(new wu(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function XS(){return new KS}function QS(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?qu((function(t,n){return e(t,n,r)})):Qc,xu(1),n?YS(t):JS((function(){return new KS})))}}function eT(e){const t=e||{};return function(e){const{options:{sync:n=t},store:r}=e;if(!1===n)return;const o="object"==typeof n?n:{sync:!0};r.sync$||(r.sync$=new iu),r.sync||(r.sync={isReady:Pt(!1)}),e.pinia.sync||(e.pinia.sync={anySync$:new iu,stores:Pt([]),allReady:Ut((()=>e.pinia.sync.stores.value.every((e=>e.sync.isReady.value))))}),e.pinia.sync.stores.value.push(r);const s=Nu()?new zS(r,o):new GS(r,o);function i(){s.fnPatch$.subscribe((({payload:e,state:t,initiatorId:n})=>{n===s.id||e?.[tS]||s.broadcast(t,n)})),r.$subscribe(((e,t)=>{const{payload:n,type:r}=e??{};r!==ip.patchFunction&&(n?.[tS]||s.broadcast(t))}))}o.debug&&s.debugger.toggle(!0),s instanceof zS?i():s.syncTime$.pipe(qu(Boolean),QS()).subscribe((()=>i())),s.syncTime$.pipe(qu(Boolean)).subscribe((()=>{r.sync$.next(r),e.pinia.sync.anySync$.next(r),r.sync.isReady.value=!0,o.onAfterSync?.(r)})),Pu()&&dr((()=>s.syncTime$.next((new Date).getTime())))}}function tT(e){const t=Kp();return Nu()&&t.use(Xk({storage:new Zu})),t.use(eT({debug:!1})),e(t),np(t),t}var nT,rT,oT,sT=c(3);function iT(){const e=new mw;Du.isDev,e.createOffscreen();const t=tT(np);async function n(){s().use(t),Ik({}),c_(Lg),await s_(t);const e=new P_,n=new aw,r=(new ev,new hb,new Uv,new Vv,new hw,new B_,new Ck,new wv);let i;const a={i18n:()=>uy(Ug.BACKGROUND).then((()=>e.refresh()))},c=cy();c.$persistedState?.isReady.then(a.i18n).then((()=>{c.sync$.subscribe(a.i18n),setTimeout((()=>c.init()),1e4)}));const u=dd();u.$persistedState?.isReady.then((()=>{u.init((()=>t.persist(null,[u.$id]))),u.refreshUserWithPermissions(),i||(i=new $k),Zt((()=>u.user?.id),(()=>{try{const e=encodeURIComponent(btoa(JSON.stringify({c:u.clientId,a:Du.appId,v:Du.version,b:Du.buildTarget,u:u.user?.id,t:wh().getTimezone()}))),t=new URL(`${o}/${e}`);chrome.runtime.setUninstallURL(t.toString())}catch(e){sT.warn("Failed to set uninstall URL",e)}}),{immediate:!0})}));const l=()=>r?.getActiveResourcesRules().then((e=>n.setRules(e))),p=Iy();p.$persistedState?.isReady.then((async()=>{if(!p.initialized){p.list=hv;try{const e=Object.values(p.list).map((async e=>{const t=yv(e.type);t&&await t(e)}));Promise.allSettled(e).then(l)}catch(e){sT.warn("Failed to setup sources",e)}p.initialized=Date.now()}Zt((()=>p.list),l,{immediate:!0})}));const d=t_();d.$persistedState?.isReady.then((()=>d.init(new Eb)));const f=o_();f.$persistedState?.isReady.then((()=>f.init(new jb)));const h=_h();h.$persistedState?.isReady.then((()=>setTimeout((()=>h.init()),1e4)));const m=my();m.$persistedState?.isReady.then((()=>setTimeout((()=>m.init()),1e4))),yd(),ly(),fy(),gy(),cm(),Ny()}return zh(),chrome.runtime.onInstalled.addListener(tm),{init:n}}class aT{constructor(){this.info={},this.meta={},this.display={},this.settings={},this.providerSettings={}}}class cT{constructor(){this.entries=[],this.globalEntry=new aT}}function uT(){jy({type:tv,role:wy.TEXT,options:new cT,display:{icon:y,name:(e=a_())=>e.t("shared.sources.items.ai.name"),desc:(e=a_())=>e.t("shared.sources.items.ai.desc"),links:["https://lumetrium.com/definer/wiki/sources/ai"],disableErrorsView:!0,disableEmptyView:!0,showEmpty:!0,showMoreBtn:!0,bodyPaddings:xy(0)},behavior:{prefetch:!1}})}!function(e){e.SELF="self",e.NEW_TAB="newTab",e.NEW_WINDOW="newWindow"}(nT||(nT={})),function(e){e.OFF="off",e.MODERATE="moderate",e.STRICT="strict"}(rT||(rT={}));class lT{constructor(){this.safeSearch=rT.MODERATE,this.openTarget=nT.SELF,this.activateNewTab=!0}}function pT(){jy({type:nv,role:wy.TEXT,options:new lT,display:{icon:v,name:(e=a_())=>e.t("shared.sources.items.bingImages.name"),desc:(e=a_())=>e.t("shared.sources.items.bingImages.desc"),links:["https://www.bing.com/images","https://lumetrium.com/definer/wiki/sources/bing-images"],showEmpty:!0,bodyPaddings:xy(4)}})}class dT{constructor(){this.url="",this.dnr=[]}}function fT(){jy({type:ov,role:wy.AUDIO,options:new dT,display:{links:["https://lumetrium.com/definer/wiki/sources/custom-audio"],name:(e=a_())=>e.t("shared.sources.items.customAudio.name"),desc:(e=a_())=>e.t("shared.sources.items.customAudio.desc")},behavior:{autoplay:!1,prefetch:!0}})}class hT{constructor(){this.url="https://lumetrium.com/definer/iframe?text={{str}}&lang={{lang}}",this.css="",this.dnr=[]}}function mT(){jy({type:sv,role:wy.TEXT,options:new hT,display:{icon:h,links:["https://lumetrium.com/definer/wiki/sources/custom"],name:(e=a_())=>e.t("shared.sources.items.custom.name"),desc:(e=a_())=>e.t("shared.sources.items.custom.desc"),bodyPaddings:xy(4)}})}class gT{}function yT(){jy({type:iv,role:wy.TEXT,options:new gT,display:{name:(e=a_())=>e.t("shared.sources.items.ddgIa.name"),desc:(e=a_())=>e.t("shared.sources.items.ddgIa.desc"),links:["https://duckduckgo.com","https://lumetrium.com/definer/wiki/sources/ddg-ia"],showMoreBtn:!0},behavior:{prefetch:!0,languages:["en","ar","es","de","fr","nl","pt","bg","ca","zh","hr","cs","da","et","fi","el","hu","id","he","it","ja","kr","lv","lt","ms","no","tl","pl","ro","ru","sk","sl","sv","th","uk","vi"]}})}class vT{}function bT(){jy({type:zy,role:wy.TEXT,options:new vT,display:{name:(e=a_())=>e.t("shared.sources.items.googleDictionary.name"),desc:(e=a_())=>e.t("shared.sources.items.googleDictionary.desc"),links:["https://www.google.com/search?q=google+dictionary","https://lumetrium.com/definer/wiki/sources/google-dictionary"],showMoreBtn:!1},behavior:{prefetch:!0,languages:["en","hi","es","fr","ja","ru","de","it","ko","pt","ar","tr"]}})}class _T{}function wT(){jy({type:av,role:wy.TEXT,options:new _T,display:{icon:m,name:(e=a_())=>e.t("shared.sources.items.googleSearch.name"),desc:(e=a_())=>e.t("shared.sources.items.googleSearch.desc"),links:["https://www.google.com","https://lumetrium.com/definer/wiki/sources/google-search"],showEmpty:!0,bodyPaddings:xy(4)},behavior:{prefetch:!1}})}!function(e){e.NORMAL="normal",e.COMPACT="compact"}(oT||(oT={}));class xT{constructor(){this.supplement=[{id:Xy.SIMILAR,enabled:!0}],this.autoplaySrc=!1,this.autoplayTarget=!1,this.layout=oT.NORMAL,this.srcLang="auto",this.targetLang=null}}function kT(){jy({type:Ky,role:wy.TEXT,options:new xT,display:{icon:g,name:(e=a_())=>e.t("shared.sources.items.googleTranslate.name"),desc:(e=a_())=>e.t("shared.sources.items.googleTranslate.desc"),links:["https://translate.google.com","https://lumetrium.com/definer/wiki/sources/google-translate"],disableErrorsView:!0,disableEmptyView:!0,showEmpty:!0,hideLanguageSelect:!0,showMoreBtn:!0,bodyPaddings:xy(0)},behavior:{prefetch:!1}})}class ST{}function TT(){jy({type:Qy,role:wy.AUDIO,options:new ST,display:{name:(e=a_())=>e.t("shared.sources.items.gspeech.name"),desc:(e=a_())=>e.t("shared.sources.items.gspeech.desc"),links:["https://lumetrium.com/definer/wiki/sources/gspeech"]},behavior:{autoplay:!1,prefetch:!0,languages:["en"]}})}class OT{constructor(){this.voices=[]}}function ET(){jy({type:cv,role:wy.AUDIO,options:new OT,display:{links:["https://lumetrium.com/definer/wiki/sources/web-speech"],icon:b,name:(e=a_())=>e.t("shared.sources.items.webSpeech.name"),desc:(e=a_())=>e.t("shared.sources.items.webSpeech.desc")},behavior:{autoplay:!1}})}class jT{}function AT(){jy({type:uv,role:wy.TEXT,options:new jT,behavior:{prefetch:!0},display:{icon:_,name:(e=a_())=>e.t("shared.sources.items.wikipedia.name"),desc:(e=a_())=>e.t("shared.sources.items.wikipedia.desc"),links:["https://www.wikipedia.org","https://lumetrium.com/definer/wiki/sources/wikipedia"],bodyPaddings:xy(4)}})}class IT{constructor(){this.lang=pv,this.dialect="",this.uiLang=dv,this.scenario=""}}function RT(){jy({type:lv,role:wy.TEXT,options:new IT,display:{links:["https://youglish.com","https://lumetrium.com/definer/wiki/sources/youglish"],name:(e=a_())=>e.t("shared.sources.items.youglish.name"),desc:(e=a_())=>e.t("shared.sources.items.youglish.desc"),showEmpty:!0,bodyPaddings:xy(4)},behavior:{prefetch:!1,autoplay:!1,languages:fv}})}function CT(){return{link:"https://lumetrium.com/definer/wiki/sources/ai/providers/anthropic",endpoint:{default:"https://api.anthropic.com"},temperature:{default:.7},topP:{default:1},maxTokensOutput:{default:2048},pricing:"paid",type:"cloud",apiKey:{link:"https://lumetrium.com/definer/wiki/sources/ai/api-keys/anthropic"},model:{default:"claude-3-7-sonnet-20250219",list:["claude-3-7-sonnet-20250219","claude-3-5-sonnet-latest","claude-3-5-sonnet-20241022","claude-3-5-sonnet-20240620","claude-3-5-haiku-latest","claude-3-5-haiku-20241022","claude-3-opus-latest","claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"]}}}function NT(){return{link:"https://lumetrium.com/definer/wiki/sources/ai/providers/google",endpoint:{default:"https://generativelanguage.googleapis.com"},temperature:{default:.7},topP:{default:1},maxTokensOutput:{default:2048},pricing:"part-free",type:"cloud",apiKey:{link:"https://lumetrium.com/definer/wiki/sources/ai/api-keys/google"},model:{default:"gemini-2.5-pro-exp-03-25",list:["gemini-2.5-pro-exp-03-25","gemini-2.5-pro-preview-05-06","gemini-2.5-flash-preview-04-17","gemini-2.0-flash","gemini-2.0-flash-001","gemini-2.0-flash-live-001","gemini-1.5-flash","gemini-1.5-flash-latest","gemini-1.5-flash-001","gemini-1.5-flash-002","gemini-1.5-flash-8b","gemini-1.5-flash-8b-latest","gemini-1.5-flash-8b-001","gemini-1.5-pro","gemini-1.5-pro-latest","gemini-1.5-pro-001","gemini-1.5-pro-002","gemini-2.0-flash-lite-preview-02-05","gemini-2.0-pro-exp-02-05","gemini-2.0-flash-thinking-exp-01-21","gemini-2.0-flash-exp","gemini-exp-1206","gemma-3-27b-it","learnlm-1.5-pro-experimental"]}}}function PT(){async function e(e){try{const t=new URL(e),n=await fetch(`${t.origin}/api/v0/models`),{data:r}=await n.json();return r.filter((({type:e})=>"llm"===e)).map((({id:e})=>e))}catch(e){return[]}}return{hint:(e=a_())=>e.t("sources.ai.providers.lmstudio.hint"),link:"https://lumetrium.com/definer/wiki/sources/ai/providers/lmstudio",endpoint:{default:"http://localhost:1234"},pricing:"free",type:"local",temperature:{default:.7},topP:{default:1},maxTokensOutput:{default:2048},apiKey:!1,model:{list:e}}}function MT(){async function e(e){try{const t=new URL(e),n=await fetch(`${t.origin}/api/tags`),{models:r}=await n.json();return r.map((({name:e})=>e))}catch(e){return[]}}return{hint:(e=a_())=>e.t("sources.ai.providers.ollama.hint"),link:"https://lumetrium.com/definer/wiki/sources/ai/providers/ollama",endpoint:{default:"http://127.0.0.1:11434"},pricing:"free",type:"local",temperature:{default:.7},topP:{default:1},maxTokensOutput:{default:2048},model:{list:e}}}function $T(){return{link:"https://lumetrium.com/definer/wiki/sources/ai/providers/openai",endpoint:{default:"https://api.openai.com"},temperature:{default:.7},topP:{default:1},maxTokensOutput:{default:2048},pricing:"paid",type:"cloud",apiKey:{link:"https://lumetrium.com/definer/wiki/sources/ai/api-keys/openai"},model:{default:"gpt-4o",list:["gpt-4.1","gpt-4.1-mini","gpt-4.1-nano","gpt-4","gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-3.5-turbo","gpt-4.5-preview","gpt-4o-search-preview","gpt-4o-mini-search-preview","gpt-4o-search-preview-2025-03-11","gpt-4o-mini-search-preview-2025-03-11","o4-mini","o3-mini","o1","o1-mini","o1-preview","chatgpt-4o-latest","gpt-4o-2024-05-13","gpt-4o-2024-08-06","gpt-4o-2024-11-20","gpt-4o-mini-2024-07-18","gpt-4.5-preview-2025-02-27","gpt-4-turbo-2024-04-09","gpt-4-turbo-preview","gpt-4-0125-preview","gpt-4-1106-preview","gpt-4-0613","gpt-4.1-2025-04-14","gpt-4.1-mini-2025-04-14","gpt-4.1-nano-2025-04-14","gpt-3.5-turbo-0125","gpt-3.5-turbo-1106","o1-2024-12-17","o1-mini-2024-09-12","o1-preview-2024-09-12","o1-mini-2024-09-12","o3-mini-2025-01-31","o4-mini-2025-04-16"]}}}function LT(){async function e(e){try{const t=new URL(e),n=await fetch(`${t.origin}/api/v1/models`),{data:r}=await n.json();return r.map((({id:e})=>e))}catch(e){return[]}}return{link:"https://lumetrium.com/definer/wiki/sources/ai/providers/openrouter",endpoint:{default:"https://openrouter.ai"},pricing:"part-free",type:"cloud",temperature:{default:.7},topP:{default:1},maxTokensOutput:{default:2048},apiKey:{link:"https://lumetrium.com/definer/wiki/sources/ai/api-keys/openrouter"},model:{list:e}}}function DT(){return{link:"https://lumetrium.com/definer/wiki/sources/ai/providers/xai",endpoint:{default:"https://api.x.ai"},temperature:{default:.7},topP:{default:1},maxTokensOutput:{default:2048},pricing:"paid",type:"cloud",apiKey:{link:"https://lumetrium.com/definer/wiki/sources/ai/api-keys/xai"},model:{default:"grok-3-latest",list:["grok-3-latest","grok-2-latest","grok-3-fast-latest","grok-3-mini-latest","grok-3-mini-fast","grok-3-mini-fast-latest","grok-3-fast","grok-3-mini","grok-3-fast-beta","grok-3-mini-beta","grok-3-mini-fast-beta","grok-2-1212","grok-3","grok-2","grok-beta"]}}}function FT(){const e={openai:$T(),ollama:MT(),google:NT(),anthropic:CT(),lmstudio:PT(),xai:DT(),openrouter:LT()};function t(t){return e[t]}function n(t){return Object.entries(e).find((([e,n])=>n===t))?.[0]}return{configs:e,getProviderConfig:t,getProviderId:n}}function UT(){function e(t,n){return Object.keys(n).forEach((r=>{const o=n[r];"object"!=typeof t[r]||null===t[r]||Array.isArray(t[r])||"object"!=typeof o||null===o||Array.isArray(o)?wt(t,r,o):e(t[r],o)})),t}function t(t,n,r){return{get(){const e=$t(t)[n];return void 0===e?"function"==typeof r?r():r:e},set(r){const o=e($t(t),{[n]:r});Nt(t)&&(t.value=o)}}}return{patch:e,getPatchableRef:t}}bT(),yT(),AT(),kT(),pT(),wT(),mT(),ET(),TT(),uT(),RT(),fT();var BT=c(393),qT=c.n(BT);function VT(e,t){const{getPatchableRef:n}=UT(),{getProviderConfig:r}=FT(),o=Ut(n(e,"info")),s=Ut(n(e,"settings")),i=Ut(n(e,"overrideSettings")),a=Ut(S("provider")),c=Ut((()=>r(a.value))),u=Ut(S("endpoint")),l=Ut(S("apiKey")),p=Ut(S("temperature")),d=Ut(S("temperatureEnabled")),f=Ut(S("topP")),h=Ut(S("topPEnabled")),m=Ut(S("maxTokensOutput")),g=Ut(S("maxTokensOutputEnabled")),y=Ut(S("model")),v=Pt(),b=Ut(n(o,"name")),_=Ut(n(e,"system")),w=Ut(n(e,"prompt"));function x(e){return c.value?.[e]?.default}function k(e,n){const r=t?.value?.settings;return()=>!i.value&&r?r[e]??("function"==typeof n?n():n):"function"==typeof n?n():n}function S(e,t){return n(s,e,k(e,t))}function T(){if(!t?.value?.settings)return null;const e=Object.values(s.value);return!!e.length&&(e.every((e=>null==e))||!qT()(t.value.settings,s.value))}async function O(){const e=c.value?.model?.list,t=u.value||k("endpoint")||x("endpoint");if("function"!=typeof e)return void(v.value=e);t||(v.value=[]);const n=a.value,r=await e(t);n===a.value&&(v.value=r)}return Zt(a,(async(e,t)=>{s.value.provider&&(u.value=x("endpoint"),void 0===p.value&&(p.value=x("temperature")),void 0===f.value&&(f.value=x("topP")),void 0===m.value&&(m.value=x("maxTokensOutput")),await O(),v.value?.length&&!v.value.includes(y.value)&&(y.value=x("model")||v.value[0]))})),O(),{entry:e,globalEntry:t,entrySettings:s,provider:a,providerConfig:c,model:y,modelsList:v,endpoint:u,apiKey:l,temperature:p,temperatureEnabled:d,topP:f,topPEnabled:h,maxTokensOutput:m,maxTokensOutputEnabled:g,name:b,prompt:w,system:_,override:i,getDefaultFromConfig:x,hasBeenOverridden:T}}var HT=c(392),zT=c.n(HT);function WT(e){const{getSource:t,updateSource:n}=Iy(),r=a_(),o=Ut({get:()=>t(e),set:e=>n(e)}),{patch:s}=UT(),i=Ut((()=>$t(e).id)),a=Ut((()=>$t(e).type)),c=Ut((()=>Oy(a.value))),u=Ut(b("role")),l=Ut(b("index")),p=Ut(b("disabled")),d=Ut(b("options")),f=Ut(b("behavior",!0)),h=Ut(b("display",!0)),m=Ut((()=>Ey(a.value))),g=Ut({get(){const e=c.value?.display?.name,t=o.value?.display?.name,n=t||e;return"function"==typeof n?n(r):n},set(e){o.value=s(o.value,{display:{name:e}})}}),y=Ut({get(){const e=c.value?.display?.desc,t=o.value?.display?.desc,n=t||e;return"function"==typeof n?n(r):n},set(e){o.value=s(o.value,{display:{desc:e}})}}),v=Ut({get(){const e=c.value?.display?.icon,t=o.value?.display?.icon;return t||e},set(e){o.value=s(o.value,{display:{icon:e}})}});function b(e,t=!1){return{get(){const n=c.value;return t?zT()(n?.[e]??{},o.value[e]??{}):void 0===o.value?.[e]?n?.[e]:o.value[e]},set(n){if(t&&"object"==typeof n){const t=Oy(o.value.type)[e],r=o.value[e],i=Object.keys(n).reduce(((e,o)=>void 0===r?.[o]&&qT()(n[o],t[o])?e:{...e,[o]:n[o]}),{});o.value=s(o.value,{[e]:i})}else o.value=s(o.value,{[e]:n})}}}return{id:i,type:a,role:u,index:l,disabled:p,behavior:f,options:d,display:h,name:g,desc:y,icon:v,defaults:c,isRecognizedType:m}}function ZT(e){const t=WT(e),{display:n,behavior:r,options:o,disabled:s}=t,{getPatchableRef:i}=UT();return{source:t,options:o,display:n,behavior:r,disabled:s,showMoreBtn:Ut(i(n,"showMoreBtn",!1)),autoplay:Ut(i(r,"autoplay",!1)),getPatchableRef:i}}function GT(e){const t=ZT(e),{options:n}=t,{getPatchableRef:r}=UT(),o=Ut(r(n,"globalEntry",new aT)),s=Ut(r(o,"settings")),i=Ut(r(n,"entries",[]));return{...t,entries:i,globalEntry:o,globalEntrySettings:s}}var KT=c(3);async function YT(e){const{globalEntry:t,disabled:n}=GT(e),{provider:r}=VT(t),{configs:o,getProviderId:s}=FT(),i=Object.values(o).filter((e=>"local"===e.type));for(const e of i){if("boolean"==typeof e.model)continue;if("function"!=typeof e.model?.list)continue;const t="boolean"!=typeof e.endpoint?e.endpoint?.default:null;if(t&&(await e.model.list(t)).length>0){r.value=s(e),n.value=!1;break}}}async function JT(e){const t=cy();await(t.$persistedState?.isReady);const{entries:n}=GT(e),r=t.ui,o=await XT(r);n.value=o.map(((e,t)=>{const n=new aT;return t||(n.favorite=!0),n.state=!0,n.id=`default:${e.id}:${C()}`,n.info.name=e.name,n.prompt=e.content,n.meta.created=(new Date).toISOString(),n.meta.modified=n.meta.created,n}))}async function XT(e){const{t,i18n:n}=a_();try{await ch((()=>n.availableLocales?.length>0),{timeout:5e3})}catch(e){KT.warn(e)}const r=[{id:"dictionary",name:t("prompts.dictionary")},{id:"translator",name:t("prompts.translator")},{id:"ipa",name:t("prompts.ipa")},{id:"grammar",name:t("prompts.grammar")}];return(await Promise.allSettled(r.map((async t=>({id:t.id,name:t.name,content:await QT(e,t.id)}))))).reduce(((e,t)=>("fulfilled"===t.status&&e.push(t.value),e)),[])}async function QT(e,t){try{return await eO(e,t)}catch(n){if("en"===e)throw n;try{return await eO("en",t)}catch(t){throw new Error(`Failed to load prompt in ${e} and fallback to English failed. Original error: ${n.message}, Fallback error: ${t.message}`)}}}async function eO(e,t){const n=chrome.runtime.getURL(`/assets/prompts/${e}/${t}.liquid`),r=await fetch(n);if(!r.ok)throw new Error(`Failed to load prompt: ${r.status} ${r.statusText}`);return r.text()}gv(tv,(async e=>{try{await YT(e)}catch(e){KT.warn(e)}try{await JT(e)}catch(e){KT.warn(e)}}));class tO{async hasResult(e){return!0}}var nO,rO="vercel.ai.error",oO=Symbol.for(rO),sO=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[nO]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,rO)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};nO=oO;var iO,aO=sO,cO="AI_APICallError",uO=`vercel.ai.error.${cO}`,lO=Symbol.for(uO),pO=class extends aO{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:o,responseBody:s,cause:i,isRetryable:a=null!=r&&(408===r||409===r||429===r||r>=500),data:c}){super({name:cO,message:e,cause:i}),this[iO]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=o,this.responseBody=s,this.isRetryable=a,this.data=c}static isInstance(e){return aO.hasMarker(e,uO)}};iO=lO;var dO,fO="AI_EmptyResponseBodyError",hO=`vercel.ai.error.${fO}`,mO=Symbol.for(hO),gO=class extends aO{constructor({message:e="Empty response body"}={}){super({name:fO,message:e}),this[dO]=!0}static isInstance(e){return aO.hasMarker(e,hO)}};function yO(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}dO=mO;var vO,bO="AI_InvalidArgumentError",_O=`vercel.ai.error.${bO}`,wO=Symbol.for(_O),xO=class extends aO{constructor({message:e,cause:t,argument:n}){super({name:bO,message:e,cause:t}),this[vO]=!0,this.argument=n}static isInstance(e){return aO.hasMarker(e,_O)}};vO=wO;var kO,SO="AI_InvalidPromptError",TO=`vercel.ai.error.${SO}`,OO=Symbol.for(TO),EO=class extends aO{constructor({prompt:e,message:t,cause:n}){super({name:SO,message:`Invalid prompt: ${t}`,cause:n}),this[kO]=!0,this.prompt=e}static isInstance(e){return aO.hasMarker(e,TO)}};kO=OO;var jO,AO="AI_InvalidResponseDataError",IO=`vercel.ai.error.${AO}`,RO=Symbol.for(IO),CO=class extends aO{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:AO,message:t}),this[jO]=!0,this.data=e}static isInstance(e){return aO.hasMarker(e,IO)}};jO=RO;var NO,PO="AI_JSONParseError",MO=`vercel.ai.error.${PO}`,$O=Symbol.for(MO),LO=class extends aO{constructor({text:e,cause:t}){super({name:PO,message:`JSON parsing failed: Text: ${e}.\nError message: ${yO(t)}`,cause:t}),this[NO]=!0,this.text=e}static isInstance(e){return aO.hasMarker(e,MO)}};NO=$O;var DO,FO="AI_LoadAPIKeyError",UO=`vercel.ai.error.${FO}`,BO=Symbol.for(UO),qO=class extends aO{constructor({message:e}){super({name:FO,message:e}),this[DO]=!0}static isInstance(e){return aO.hasMarker(e,UO)}};DO=BO;var VO,HO=`vercel.ai.error.${"AI_LoadSettingError"}`,zO=(Symbol.for(HO),`vercel.ai.error.${"AI_NoContentGeneratedError"}`),WO=(Symbol.for(zO),"AI_NoSuchModelError"),ZO=`vercel.ai.error.${WO}`,GO=Symbol.for(ZO),KO=class extends aO{constructor({errorName:e=WO,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[VO]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return aO.hasMarker(e,ZO)}};VO=GO;var YO,JO="AI_TooManyEmbeddingValuesForCallError",XO=`vercel.ai.error.${JO}`,QO=Symbol.for(XO),eE=class extends aO{constructor(e){super({name:JO,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[YO]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return aO.hasMarker(e,XO)}};YO=QO;var tE,nE="AI_TypeValidationError",rE=`vercel.ai.error.${nE}`,oE=Symbol.for(rE),sE=class e extends aO{constructor({value:e,cause:t}){super({name:nE,message:`Type validation failed: Value: ${JSON.stringify(e)}.\nError message: ${yO(t)}`,cause:t}),this[tE]=!0,this.value=e}static isInstance(e){return aO.hasMarker(e,rE)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};tE=oE;var iE,aE=sE,cE="AI_UnsupportedFunctionalityError",uE=`vercel.ai.error.${cE}`,lE=Symbol.for(uE),pE=class extends aO{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:cE,message:t}),this[iE]=!0,this.functionality=e}static isInstance(e){return aO.hasMarker(e,uE)}};iE=lE;let dE=(e,t=21)=>(n=t)=>{let r="",o=0|n;for(;o--;)r+=e[Math.random()*e.length|0];return r};var fE=c(391),hE=c(2);function mE(...e){return e.reduce(((e,t)=>({...e,...null!=t?t:{}})),{})}function gE(e){return new ReadableStream({async pull(t){try{const{value:n,done:r}=await e.next();r?t.close():t.enqueue(n)}catch(e){t.error(e)}},cancel(){}})}async function yE(e){return null==e?Promise.resolve():new Promise((t=>setTimeout(t,e)))}function vE(){let e,t,n,r="",o=[];function s(e,t){if(""===e)return void i(t);if(e.startsWith(":"))return;const n=e.indexOf(":");if(-1===n)return void a(e,"");const r=n+1;a(e.slice(0,n),r<e.length&&" "===e[r]?e.slice(r+1):e.slice(r))}function i(r){o.length>0&&(r.enqueue({event:e,data:o.join("\n"),id:t,retry:n}),o=[],e=void 0,n=void 0)}function a(r,s){switch(r){case"event":e=s;break;case"data":o.push(s);break;case"id":t=s;break;case"retry":const r=parseInt(s,10);isNaN(r)||(n=r)}}return new TransformStream({transform(e,t){const{lines:n,incompleteLine:o}=bE(r,e);r=o;for(let e=0;e<n.length;e++)s(n[e],t)},flush(e){s(r,e),i(e)}})}function bE(e,t){const n=[];let r=e;for(let e=0;e<t.length;){const o=t[e++];"\n"===o?(n.push(r),r=""):"\r"===o?(n.push(r),r="","\n"===t[e+1]&&e++):r+=o}return{lines:n,incompleteLine:r}}function _E(e){const t={};return e.headers.forEach(((e,n)=>{t[n]=e})),t}var wE=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const o=dE(n,t);if(null==e)return o;if(n.includes(r))throw new xO({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return t=>`${e}${r}${o(t)}`},xE=wE();function kE(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function SE(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>null!=t)))}function TE(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function OE({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if("string"==typeof e)return e;if(null!=e)throw new qO({message:`${r} API key must be a string.`});if(void 0===hE)throw new qO({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(null==(e={PACKAGE_VERSION:"1.10.7",IS_FIREFOX:!1,IS_CHROMIUM:!0}[t]))throw new qO({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new qO({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var EE=Symbol.for("vercel.ai.validator");function jE(e){return{[EE]:!0,validate:e}}function AE(e){return"object"==typeof e&&null!==e&&EE in e&&!0===e[EE]&&"validate"in e}function IE(e){return AE(e)?e:RE(e)}function RE(e){return jE((t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}))}function CE({value:e,schema:t}){const n=NE({value:e,schema:t});if(!n.success)throw aE.wrap({value:e,cause:n.error});return n.value}function NE({value:e,schema:t}){const n=IE(t);try{if(null==n.validate)return{success:!0,value:e};const t=n.validate(e);return t.success?t:{success:!1,error:aE.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:aE.wrap({value:e,cause:t})}}}function PE({text:e,schema:t}){try{const n=fE.parse(e);return null==t?n:CE({value:n,schema:t})}catch(t){if(LO.isInstance(t)||aE.isInstance(t))throw t;throw new LO({text:e,cause:t})}}function ME({text:e,schema:t}){try{const n=fE.parse(e);if(null==t)return{success:!0,value:n,rawValue:n};const r=NE({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(t){return{success:!1,error:LO.isInstance(t)?t:new LO({text:e,cause:t})}}}function $E(e){try{return fE.parse(e),!0}catch(e){return!1}}function LE({provider:e,providerOptions:t,schema:n}){if(null==(null==t?void 0:t[e]))return;const r=NE({value:t[e],schema:n});if(!r.success)throw new xO({argument:"providerOptions",message:`invalid ${e} provider options`,cause:r.error});return r.value}var DE=()=>globalThis.fetch,FE=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:o,abortSignal:s,fetch:i})=>BE({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:o,abortSignal:s,fetch:i}),UE=async({url:e,headers:t,formData:n,failedResponseHandler:r,successfulResponseHandler:o,abortSignal:s,fetch:i})=>BE({url:e,headers:t,body:{content:n,values:Object.fromEntries(n.entries())},failedResponseHandler:r,successfulResponseHandler:o,abortSignal:s,fetch:i}),BE=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:o,abortSignal:s,fetch:i=DE()})=>{try{const a=await i(e,{method:"POST",headers:SE(t),body:n.content,signal:s}),c=_E(a);if(!a.ok){let t;try{t=await o({response:a,url:e,requestBodyValues:n.values})}catch(t){if(TE(t)||pO.isInstance(t))throw t;throw new pO({message:"Failed to process error response",cause:t,statusCode:a.status,url:e,responseHeaders:c,requestBodyValues:n.values})}throw t.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(t){if(t instanceof Error&&(TE(t)||pO.isInstance(t)))throw t;throw new pO({message:"Failed to process successful response",cause:t,statusCode:a.status,url:e,responseHeaders:c,requestBodyValues:n.values})}}catch(t){if(TE(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){const r=t.cause;if(null!=r)throw new pO({message:`Cannot connect to API: ${r.message}`,cause:r,url:e,requestBodyValues:n.values,isRetryable:!0})}throw t}};async function qE(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var VE,HE,zE=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:o,requestBodyValues:s})=>{const i=await r.text(),a=_E(r);if(""===i.trim())return{responseHeaders:a,value:new pO({message:r.statusText,url:o,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:i,isRetryable:null==n?void 0:n(r)})};try{const c=PE({text:i,schema:e});return{responseHeaders:a,value:new pO({message:t(c),url:o,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:i,data:c,isRetryable:null==n?void 0:n(r,c)})}}catch(e){return{responseHeaders:a,value:new pO({message:r.statusText,url:o,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:i,isRetryable:null==n?void 0:n(r)})}}},WE=e=>async({response:t})=>{const n=_E(t);if(null==t.body)throw new gO({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(vE()).pipeThrough(new TransformStream({transform({data:t},n){"[DONE]"!==t&&n.enqueue(ME({text:t,schema:e}))}}))}},ZE=e=>async({response:t,url:n,requestBodyValues:r})=>{const o=await t.text(),s=ME({text:o,schema:e}),i=_E(t);if(!s.success)throw new pO({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:i,responseBody:o,url:n,requestBodyValues:r});return{responseHeaders:i,value:s.value,rawValue:s.rawValue}},GE=()=>async({response:e,url:t,requestBodyValues:n})=>{const r=_E(e);if(!e.body)throw new pO({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{const t=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(t)}}catch(o){throw new pO({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:o})}},{btoa:KE,atob:YE}=globalThis;function JE(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=YE(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))}function XE(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return KE(t)}function QE(e){return null==e?void 0:e.replace(/\/$/,"")}!function(e){function t(e){}function n(e){throw new Error}function r(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)}e.assertEqual=e=>e,e.assertIs=t,e.assertNever=n,e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=r,e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(VE||(VE={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(HE||(HE={}));const ej=VE.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tj=e=>{switch(typeof e){case"undefined":return ej.undefined;case"string":return ej.string;case"number":return isNaN(e)?ej.nan:ej.number;case"boolean":return ej.boolean;case"function":return ej.function;case"bigint":return ej.bigint;case"symbol":return ej.symbol;case"object":return Array.isArray(e)?ej.array:null===e?ej.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ej.promise:"undefined"!=typeof Map&&e instanceof Map?ej.map:"undefined"!=typeof Set&&e instanceof Set?ej.set:"undefined"!=typeof Date&&e instanceof Date?ej.date:ej.object;default:return ej.unknown}},nj=VE.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rj=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class oj extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof oj))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,VE.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}oj.create=e=>new oj(e);const sj=(e,t)=>{let n;switch(e.code){case nj.invalid_type:n=e.received===ej.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case nj.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,VE.jsonStringifyReplacer)}`;break;case nj.unrecognized_keys:n=`Unrecognized key(s) in object: ${VE.joinValues(e.keys,", ")}`;break;case nj.invalid_union:n="Invalid input";break;case nj.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${VE.joinValues(e.options)}`;break;case nj.invalid_enum_value:n=`Invalid enum value. Expected ${VE.joinValues(e.options)}, received '${e.received}'`;break;case nj.invalid_arguments:n="Invalid function arguments";break;case nj.invalid_return_type:n="Invalid function return type";break;case nj.invalid_date:n="Invalid date";break;case nj.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:VE.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case nj.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case nj.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case nj.custom:n="Invalid input";break;case nj.invalid_intersection_types:n="Intersection results could not be merged";break;case nj.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case nj.not_finite:n="Number must be finite";break;default:n=t.defaultError,VE.assertNever(e)}return{message:n}};let ij=sj;function aj(e){ij=e}function cj(){return ij}const uj=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,s=[...n,...o.path||[]],i={...o,path:s};if(void 0!==o.message)return{...o,path:s,message:o.message};let a="";const c=r.filter((e=>!!e)).slice().reverse();for(const e of c)a=e(i,{data:t,defaultError:a}).message;return{...o,path:s,message:a}},lj=[];function pj(e,t){const n=cj(),r=uj({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===sj?void 0:sj].filter((e=>!!e))});e.common.issues.push(r)}class dj{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return fj;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return dj.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return fj;if("aborted"===o.status)return fj;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||void 0===o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const fj=Object.freeze({status:"aborted"}),hj=e=>({status:"dirty",value:e}),mj=e=>({status:"valid",value:e}),gj=e=>"aborted"===e.status,yj=e=>"dirty"===e.status,vj=e=>"valid"===e.status,bj=e=>"undefined"!=typeof Promise&&e instanceof Promise;function _j(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function wj(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}var xj,kj,Sj;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(xj||(xj={}));class Tj{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oj=(e,t)=>{if(vj(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new oj(e.common.issues);return this._error=t,this._error}}};function Ej(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};const s=(t,o)=>{var s,i;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:o.defaultError}:void 0===o.data?{message:null!==(s=null!=a?a:r)&&void 0!==s?s:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(i=null!=a?a:n)&&void 0!==i?i:o.defaultError}};return{errorMap:s,description:o}}class jj{get description(){return this._def.description}_getType(e){return tj(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:tj(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new dj,ctx:{common:e.parent.common,data:e.data,parsedType:tj(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(bj(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tj(e)},o=this._parseSync({data:e,path:r.path,parent:r});return Oj(r,o)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tj(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return vj(t)?{value:t.value}:{issues:r.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>vj(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tj(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(bj(r)?r:Promise.resolve(r));return Oj(n,o)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),s=()=>r.addIssue({code:nj.custom,...n(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then((e=>!!e||(s(),!1))):!!o||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new RA({schema:this,typeName:HA.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return CA.create(this,this._def)}nullable(){return NA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dA.create(this)}promise(){return IA.create(this,this._def)}or(e){return mA.create([this,e],this._def)}and(e){return bA.create(this,e,this._def)}transform(e){return new RA({...Ej(this._def),schema:this,typeName:HA.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new PA({...Ej(this._def),innerType:this,defaultValue:t,typeName:HA.ZodDefault})}brand(){return new DA({typeName:HA.ZodBranded,type:this,...Ej(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new MA({...Ej(this._def),innerType:this,catchValue:t,typeName:HA.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return FA.create(this,e)}readonly(){return UA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Aj=/^c[^\s-]{8,}$/i,Ij=/^[0-9a-z]+$/,Rj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Cj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Nj=/^[a-z0-9_-]{21}$/i,Pj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$j=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dj;const Fj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Bj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Hj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wj=new RegExp(`^${zj}$`);function Zj(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Gj(e){return new RegExp(`^${Zj(e)}$`)}function Kj(e){let t=`${zj}T${Zj(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Yj(e,t){return!("v4"!==t&&t||!Fj.test(e))||!("v6"!==t&&t||!Bj.test(e))}function Jj(e,t){if(!Pj.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!("object"!=typeof o||null===o||!o.typ||!o.alg||t&&o.alg!==t)}catch(e){return!1}}function Xj(e,t){return!("v4"!==t&&t||!Uj.test(e))||!("v6"!==t&&t||!qj.test(e))}class Qj extends jj{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ej.string){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.string,received:t.parsedType}),fj}const t=new dj;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const o=e.data.length>r.value,s=e.data.length<r.value;(o||s)&&(n=this._getOrReturnCtx(e,n),o?pj(n,{code:nj.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&pj(n,{code:nj.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)$j.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"email",code:nj.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)Dj||(Dj=new RegExp(Lj,"u")),Dj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"emoji",code:nj.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)Cj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"uuid",code:nj.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)Nj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"nanoid",code:nj.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)Aj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"cuid",code:nj.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)Ij.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"cuid2",code:nj.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)Rj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"ulid",code:nj.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(o){n=this._getOrReturnCtx(e,n),pj(n,{validation:"url",code:nj.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"regex",code:nj.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?Kj(r).test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"date"===r.kind?Wj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.invalid_string,validation:"date",message:r.message}),t.dirty()):"time"===r.kind?Gj(r).test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.invalid_string,validation:"time",message:r.message}),t.dirty()):"duration"===r.kind?Mj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"duration",code:nj.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?Yj(e.data,r.version)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"ip",code:nj.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?Jj(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"jwt",code:nj.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?Xj(e.data,r.version)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"cidr",code:nj.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?Vj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"base64",code:nj.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?Hj.test(e.data)||(n=this._getOrReturnCtx(e,n),pj(n,{validation:"base64url",code:nj.invalid_string,message:r.message}),t.dirty()):VE.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:nj.invalid_string,...xj.errToObj(n)})}_addCheck(e){return new Qj({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xj.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xj.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xj.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xj.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xj.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xj.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xj.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xj.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xj.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xj.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xj.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xj.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xj.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...xj.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...xj.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xj.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...xj.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...xj.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...xj.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...xj.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...xj.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...xj.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...xj.errToObj(t)})}nonempty(e){return this.min(1,xj.errToObj(e))}trim(){return new Qj({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qj({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qj({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function eA(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}Qj.create=e=>{var t;return new Qj({checks:[],typeName:HA.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Ej(e)})};class tA extends jj{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ej.number){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.number,received:t.parsedType}),fj}let t;const n=new dj;for(const r of this._def.checks)"int"===r.kind?VE.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==eA(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.not_finite,message:r.message}),n.dirty()):VE.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,xj.toString(t))}gt(e,t){return this.setLimit("min",e,!1,xj.toString(t))}lte(e,t){return this.setLimit("max",e,!0,xj.toString(t))}lt(e,t){return this.setLimit("max",e,!1,xj.toString(t))}setLimit(e,t,n,r){return new tA({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:xj.toString(r)}]})}_addCheck(e){return new tA({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xj.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xj.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xj.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xj.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xj.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:xj.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:xj.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xj.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xj.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&VE.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}tA.create=e=>new tA({checks:[],typeName:HA.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Ej(e)});class nA extends jj{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==ej.bigint)return this._getInvalidInput(e);let t;const n=new dj;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),pj(t,{code:nj.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):VE.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.bigint,received:t.parsedType}),fj}gte(e,t){return this.setLimit("min",e,!0,xj.toString(t))}gt(e,t){return this.setLimit("min",e,!1,xj.toString(t))}lte(e,t){return this.setLimit("max",e,!0,xj.toString(t))}lt(e,t){return this.setLimit("max",e,!1,xj.toString(t))}setLimit(e,t,n,r){return new nA({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:xj.toString(r)}]})}_addCheck(e){return new nA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xj.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xj.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xj.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xj.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:xj.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}nA.create=e=>{var t;return new nA({checks:[],typeName:HA.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Ej(e)})};class rA extends jj{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ej.boolean){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.boolean,received:t.parsedType}),fj}return mj(e.data)}}rA.create=e=>new rA({typeName:HA.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Ej(e)});class oA extends jj{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ej.date){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.date,received:t.parsedType}),fj}if(isNaN(e.data.getTime()))return pj(this._getOrReturnCtx(e),{code:nj.invalid_date}),fj;const t=new dj;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),pj(n,{code:nj.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):VE.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oA({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:xj.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:xj.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}oA.create=e=>new oA({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:HA.ZodDate,...Ej(e)});class sA extends jj{_parse(e){if(this._getType(e)!==ej.symbol){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.symbol,received:t.parsedType}),fj}return mj(e.data)}}sA.create=e=>new sA({typeName:HA.ZodSymbol,...Ej(e)});class iA extends jj{_parse(e){if(this._getType(e)!==ej.undefined){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.undefined,received:t.parsedType}),fj}return mj(e.data)}}iA.create=e=>new iA({typeName:HA.ZodUndefined,...Ej(e)});class aA extends jj{_parse(e){if(this._getType(e)!==ej.null){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.null,received:t.parsedType}),fj}return mj(e.data)}}aA.create=e=>new aA({typeName:HA.ZodNull,...Ej(e)});class cA extends jj{constructor(){super(...arguments),this._any=!0}_parse(e){return mj(e.data)}}cA.create=e=>new cA({typeName:HA.ZodAny,...Ej(e)});class uA extends jj{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mj(e.data)}}uA.create=e=>new uA({typeName:HA.ZodUnknown,...Ej(e)});class lA extends jj{_parse(e){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.never,received:t.parsedType}),fj}}lA.create=e=>new lA({typeName:HA.ZodNever,...Ej(e)});class pA extends jj{_parse(e){if(this._getType(e)!==ej.undefined){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.void,received:t.parsedType}),fj}return mj(e.data)}}pA.create=e=>new pA({typeName:HA.ZodVoid,...Ej(e)});class dA extends jj{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ej.array)return pj(t,{code:nj.invalid_type,expected:ej.array,received:t.parsedType}),fj;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(pj(t,{code:e?nj.too_big:nj.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(pj(t,{code:nj.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(pj(t,{code:nj.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Tj(t,e,t.path,n))))).then((e=>dj.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new Tj(t,e,t.path,n))));return dj.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new dA({...this._def,minLength:{value:e,message:xj.toString(t)}})}max(e,t){return new dA({...this._def,maxLength:{value:e,message:xj.toString(t)}})}length(e,t){return new dA({...this._def,exactLength:{value:e,message:xj.toString(t)}})}nonempty(e){return this.min(1,e)}}function fA(e){if(e instanceof hA){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=CA.create(fA(r))}return new hA({...e._def,shape:()=>t})}return e instanceof dA?new dA({...e._def,type:fA(e.element)}):e instanceof CA?CA.create(fA(e.unwrap())):e instanceof NA?NA.create(fA(e.unwrap())):e instanceof _A?_A.create(e.items.map((e=>fA(e)))):e}dA.create=(e,t)=>new dA({type:e,minLength:null,maxLength:null,exactLength:null,typeName:HA.ZodArray,...Ej(t)});class hA extends jj{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=VE.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ej.object){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.object,received:t.parsedType}),fj}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof lA&&"strip"===this._def.unknownKeys))for(const e in n.data)o.includes(e)||s.push(e);const i=[];for(const e of o){const t=r[e],o=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new Tj(n,o,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof lA){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(pj(n,{code:nj.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Tj(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>dj.mergeObjectSync(t,e))):dj.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return xj.errToObj,new hA({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,o,s,i;const a=null!==(s=null===(o=(r=this._def).errorMap)||void 0===o?void 0:o.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=xj.errToObj(e).message)&&void 0!==i?i:a}:{message:a}}}:{}})}strip(){return new hA({...this._def,unknownKeys:"strip"})}passthrough(){return new hA({...this._def,unknownKeys:"passthrough"})}extend(e){return new hA({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new hA({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:HA.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new hA({...this._def,catchall:e})}pick(e){const t={};return VE.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new hA({...this._def,shape:()=>t})}omit(e){const t={};return VE.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new hA({...this._def,shape:()=>t})}deepPartial(){return fA(this)}partial(e){const t={};return VE.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new hA({...this._def,shape:()=>t})}required(e){const t={};return VE.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof CA;)e=e._def.innerType;t[n]=e}})),new hA({...this._def,shape:()=>t})}keyof(){return EA(VE.objectKeys(this.shape))}}hA.create=(e,t)=>new hA({shape:()=>e,unknownKeys:"strip",catchall:lA.create(),typeName:HA.ZodObject,...Ej(t)}),hA.strictCreate=(e,t)=>new hA({shape:()=>e,unknownKeys:"strict",catchall:lA.create(),typeName:HA.ZodObject,...Ej(t)}),hA.lazycreate=(e,t)=>new hA({shape:e,unknownKeys:"strip",catchall:lA.create(),typeName:HA.ZodObject,...Ej(t)});class mA extends jj{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function r(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new oj(e.ctx.common.issues)));return pj(t,{code:nj.invalid_union,unionErrors:n}),fj}if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then(r);{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new oj(e)));return pj(t,{code:nj.invalid_union,unionErrors:o}),fj}}get options(){return this._def.options}}mA.create=(e,t)=>new mA({options:e,typeName:HA.ZodUnion,...Ej(t)});const gA=e=>e instanceof TA?gA(e.schema):e instanceof RA?gA(e.innerType()):e instanceof OA?[e.value]:e instanceof jA?e.options:e instanceof AA?VE.objectValues(e.enum):e instanceof PA?gA(e._def.innerType):e instanceof iA?[void 0]:e instanceof aA?[null]:e instanceof CA?[void 0,...gA(e.unwrap())]:e instanceof NA?[null,...gA(e.unwrap())]:e instanceof DA||e instanceof UA?gA(e.unwrap()):e instanceof MA?gA(e._def.innerType):[];class yA extends jj{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ej.object)return pj(t,{code:nj.invalid_type,expected:ej.object,received:t.parsedType}),fj;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(pj(t,{code:nj.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),fj)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=gA(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of t){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new yA({typeName:HA.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Ej(n)})}}function vA(e,t){const n=tj(e),r=tj(t);if(e===t)return{valid:!0,data:e};if(n===ej.object&&r===ej.object){const n=VE.objectKeys(t),r=VE.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const n of r){const r=vA(e[n],t[n]);if(!r.valid)return{valid:!1};o[n]=r.data}return{valid:!0,data:o}}if(n===ej.array&&r===ej.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=vA(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===ej.date&&r===ej.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class bA extends jj{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(gj(e)||gj(r))return fj;const o=vA(e.value,r.value);return o.valid?((yj(e)||yj(r))&&t.dirty(),{status:t.value,value:o.data}):(pj(n,{code:nj.invalid_intersection_types}),fj)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}bA.create=(e,t,n)=>new bA({left:e,right:t,typeName:HA.ZodIntersection,...Ej(n)});class _A extends jj{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ej.array)return pj(n,{code:nj.invalid_type,expected:ej.array,received:n.parsedType}),fj;if(n.data.length<this._def.items.length)return pj(n,{code:nj.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fj;!this._def.rest&&n.data.length>this._def.items.length&&(pj(n,{code:nj.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Tj(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>dj.mergeArray(t,e))):dj.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new _A({...this._def,rest:e})}}_A.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _A({items:e,typeName:HA.ZodTuple,rest:null,...Ej(t)})};class wA extends jj{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ej.object)return pj(n,{code:nj.invalid_type,expected:ej.object,received:n.parsedType}),fj;const r=[],o=this._def.keyType,s=this._def.valueType;for(const e in n.data)r.push({key:o._parse(new Tj(n,e,n.path,e)),value:s._parse(new Tj(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?dj.mergeObjectAsync(t,r):dj.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new wA(t instanceof jj?{keyType:e,valueType:t,typeName:HA.ZodRecord,...Ej(n)}:{keyType:Qj.create(),valueType:e,typeName:HA.ZodRecord,...Ej(t)})}}class xA extends jj{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ej.map)return pj(n,{code:nj.invalid_type,expected:ej.map,received:n.parsedType}),fj;const r=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map((([e,t],s)=>({key:r._parse(new Tj(n,e,n.path,[s,"key"])),value:o._parse(new Tj(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return fj;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return fj;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}xA.create=(e,t,n)=>new xA({valueType:t,keyType:e,typeName:HA.ZodMap,...Ej(n)});class kA extends jj{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ej.set)return pj(n,{code:nj.invalid_type,expected:ej.set,received:n.parsedType}),fj;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(pj(n,{code:nj.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(pj(n,{code:nj.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return fj;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>o._parse(new Tj(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>s(e))):s(i)}min(e,t){return new kA({...this._def,minSize:{value:e,message:xj.toString(t)}})}max(e,t){return new kA({...this._def,maxSize:{value:e,message:xj.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}kA.create=(e,t)=>new kA({valueType:e,minSize:null,maxSize:null,typeName:HA.ZodSet,...Ej(t)});class SA extends jj{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ej.function)return pj(t,{code:nj.invalid_type,expected:ej.function,received:t.parsedType}),fj;function n(e,n){return uj({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cj(),sj].filter((e=>!!e)),issueData:{code:nj.invalid_arguments,argumentsError:n}})}function r(e,n){return uj({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cj(),sj].filter((e=>!!e)),issueData:{code:nj.invalid_return_type,returnTypeError:n}})}const o={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof IA){const e=this;return mj((async function(...t){const i=new oj([]),a=await e._def.args.parseAsync(t,o).catch((e=>{throw i.addIssue(n(t,e)),i})),c=await Reflect.apply(s,this,a),u=await e._def.returns._def.type.parseAsync(c,o).catch((e=>{throw i.addIssue(r(c,e)),i}));return u}))}{const e=this;return mj((function(...t){const i=e._def.args.safeParse(t,o);if(!i.success)throw new oj([n(t,i.error)]);const a=Reflect.apply(s,this,i.data),c=e._def.returns.safeParse(a,o);if(!c.success)throw new oj([r(a,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new SA({...this._def,args:_A.create(e).rest(uA.create())})}returns(e){return new SA({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new SA({args:e||_A.create([]).rest(uA.create()),returns:t||uA.create(),typeName:HA.ZodFunction,...Ej(n)})}}class TA extends jj{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}TA.create=(e,t)=>new TA({getter:e,typeName:HA.ZodLazy,...Ej(t)});class OA extends jj{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return pj(t,{received:t.data,code:nj.invalid_literal,expected:this._def.value}),fj}return{status:"valid",value:e.data}}get value(){return this._def.value}}function EA(e,t){return new jA({values:e,typeName:HA.ZodEnum,...Ej(t)})}OA.create=(e,t)=>new OA({value:e,typeName:HA.ZodLiteral,...Ej(t)});class jA extends jj{constructor(){super(...arguments),kj.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return pj(t,{expected:VE.joinValues(n),received:t.parsedType,code:nj.invalid_type}),fj}if(_j(this,kj,"f")||wj(this,kj,new Set(this._def.values),"f"),!_j(this,kj,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return pj(t,{received:t.data,code:nj.invalid_enum_value,options:n}),fj}return mj(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return jA.create(e,{...this._def,...t})}exclude(e,t=this._def){return jA.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}kj=new WeakMap,jA.create=EA;class AA extends jj{constructor(){super(...arguments),Sj.set(this,void 0)}_parse(e){const t=VE.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ej.string&&n.parsedType!==ej.number){const e=VE.objectValues(t);return pj(n,{expected:VE.joinValues(e),received:n.parsedType,code:nj.invalid_type}),fj}if(_j(this,Sj,"f")||wj(this,Sj,new Set(VE.getValidEnumValues(this._def.values)),"f"),!_j(this,Sj,"f").has(e.data)){const e=VE.objectValues(t);return pj(n,{received:n.data,code:nj.invalid_enum_value,options:e}),fj}return mj(e.data)}get enum(){return this._def.values}}Sj=new WeakMap,AA.create=(e,t)=>new AA({values:e,typeName:HA.ZodNativeEnum,...Ej(t)});class IA extends jj{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ej.promise&&!1===t.common.async)return pj(t,{code:nj.invalid_type,expected:ej.promise,received:t.parsedType}),fj;const n=t.parsedType===ej.promise?t.data:Promise.resolve(t.data);return mj(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}IA.create=(e,t)=>new IA({type:e,typeName:HA.ZodPromise,...Ej(t)});class RA extends jj{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===HA.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{pj(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return fj;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?fj:"dirty"===r.status||"dirty"===t.value?hj(r.value):r}));{if("aborted"===t.value)return fj;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?fj:"dirty"===r.status||"dirty"===t.value?hj(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?fj:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?fj:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vj(e))return e;const s=r.transform(e.value,o);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>vj(e)?Promise.resolve(r.transform(e.value,o)).then((e=>({status:t.value,value:e}))):e))}VE.assertNever(r)}}RA.create=(e,t,n)=>new RA({schema:e,typeName:HA.ZodEffects,effect:t,...Ej(n)}),RA.createWithPreprocess=(e,t,n)=>new RA({schema:t,effect:{type:"preprocess",transform:e},typeName:HA.ZodEffects,...Ej(n)});class CA extends jj{_parse(e){return this._getType(e)===ej.undefined?mj(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}CA.create=(e,t)=>new CA({innerType:e,typeName:HA.ZodOptional,...Ej(t)});class NA extends jj{_parse(e){return this._getType(e)===ej.null?mj(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}NA.create=(e,t)=>new NA({innerType:e,typeName:HA.ZodNullable,...Ej(t)});class PA extends jj{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ej.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}PA.create=(e,t)=>new PA({innerType:e,typeName:HA.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Ej(t)});class MA extends jj{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bj(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new oj(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new oj(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}MA.create=(e,t)=>new MA({innerType:e,typeName:HA.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Ej(t)});class $A extends jj{_parse(e){if(this._getType(e)!==ej.nan){const t=this._getOrReturnCtx(e);return pj(t,{code:nj.invalid_type,expected:ej.nan,received:t.parsedType}),fj}return{status:"valid",value:e.data}}}$A.create=e=>new $A({typeName:HA.ZodNaN,...Ej(e)});const LA=Symbol("zod_brand");class DA extends jj{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class FA extends jj{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?fj:"dirty"===e.status?(t.dirty(),hj(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?fj:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new FA({in:e,out:t,typeName:HA.ZodPipeline})}}class UA extends jj{_parse(e){const t=this._def.innerType._parse(e),n=e=>(vj(e)&&(e.value=Object.freeze(e.value)),e);return bj(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function BA(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function qA(e,t={},n){return e?cA.create().superRefine(((r,o)=>{var s,i;const a=e(r);if(a instanceof Promise)return a.then((e=>{var s,i;if(!e){const e=BA(t,r),a=null===(i=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===i||i;o.addIssue({code:"custom",...e,fatal:a})}}));if(!a){const e=BA(t,r),a=null===(i=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===i||i;o.addIssue({code:"custom",...e,fatal:a})}})):cA.create()}UA.create=(e,t)=>new UA({innerType:e,typeName:HA.ZodReadonly,...Ej(t)});const VA={object:hA.lazycreate};var HA;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(HA||(HA={}));const zA=(e,t={message:`Input not instance of ${e.name}`})=>qA((t=>t instanceof e),t),WA=Qj.create,ZA=tA.create,GA=$A.create,KA=nA.create,YA=rA.create,JA=oA.create,XA=sA.create,QA=iA.create,eI=aA.create,tI=cA.create,nI=uA.create,rI=lA.create,oI=pA.create,sI=dA.create,iI=hA.create,aI=hA.strictCreate,cI=mA.create,uI=yA.create,lI=bA.create,pI=_A.create,dI=wA.create,fI=xA.create,hI=kA.create,mI=SA.create,gI=TA.create,yI=OA.create,vI=jA.create,bI=AA.create,_I=IA.create,wI=RA.create,xI=CA.create,kI=NA.create,SI=RA.createWithPreprocess,TI=FA.create,OI=()=>WA().optional(),EI=()=>ZA().optional(),jI=()=>YA().optional(),AI={string:e=>Qj.create({...e,coerce:!0}),number:e=>tA.create({...e,coerce:!0}),boolean:e=>rA.create({...e,coerce:!0}),bigint:e=>nA.create({...e,coerce:!0}),date:e=>oA.create({...e,coerce:!0})},II=fj;var RI=Object.freeze({__proto__:null,defaultErrorMap:sj,setErrorMap:aj,getErrorMap:cj,makeIssue:uj,EMPTY_PATH:lj,addIssueToContext:pj,ParseStatus:dj,INVALID:fj,DIRTY:hj,OK:mj,isAborted:gj,isDirty:yj,isValid:vj,isAsync:bj,get util(){return VE},get objectUtil(){return HE},ZodParsedType:ej,getParsedType:tj,ZodType:jj,datetimeRegex:Kj,ZodString:Qj,ZodNumber:tA,ZodBigInt:nA,ZodBoolean:rA,ZodDate:oA,ZodSymbol:sA,ZodUndefined:iA,ZodNull:aA,ZodAny:cA,ZodUnknown:uA,ZodNever:lA,ZodVoid:pA,ZodArray:dA,ZodObject:hA,ZodUnion:mA,ZodDiscriminatedUnion:yA,ZodIntersection:bA,ZodTuple:_A,ZodRecord:wA,ZodMap:xA,ZodSet:kA,ZodFunction:SA,ZodLazy:TA,ZodLiteral:OA,ZodEnum:jA,ZodNativeEnum:AA,ZodPromise:IA,ZodEffects:RA,ZodTransformer:RA,ZodOptional:CA,ZodNullable:NA,ZodDefault:PA,ZodCatch:MA,ZodNaN:$A,BRAND:LA,ZodBranded:DA,ZodPipeline:FA,ZodReadonly:UA,custom:qA,Schema:jj,ZodSchema:jj,late:VA,get ZodFirstPartyTypeKind(){return HA},coerce:AI,any:tI,array:sI,bigint:KA,boolean:YA,date:JA,discriminatedUnion:uI,effect:wI,enum:vI,function:mI,instanceof:zA,intersection:lI,lazy:gI,literal:yI,map:fI,nan:GA,nativeEnum:bI,never:rI,null:eI,nullable:kI,number:ZA,object:iI,oboolean:jI,onumber:EI,optional:xI,ostring:OI,pipeline:TI,preprocess:SI,promise:_I,record:dI,set:hI,strictObject:aI,string:WA,symbol:XA,transformer:wI,tuple:pI,undefined:QA,union:cI,unknown:nI,void:oI,NEVER:II,ZodIssueCode:nj,quotelessJson:rj,ZodError:oj}),CI=RI.object({type:RI.literal("error"),error:RI.object({type:RI.string(),message:RI.string()})}),NI=zE({errorSchema:CI,errorToMessage:e=>e.error.message});function PI(e){var t;const n=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0,r=[],o=new Set;if(null==n)return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:o};const s=[];for(const e of n)switch(e.type){case"function":s.push({name:e.name,description:e.description,input_schema:e.parameters});break;case"provider-defined":switch(e.id){case"anthropic.computer_20250124":o.add("computer-use-2025-01-24"),s.push({name:e.name,type:"computer_20250124",display_width_px:e.args.displayWidthPx,display_height_px:e.args.displayHeightPx,display_number:e.args.displayNumber});break;case"anthropic.computer_20241022":o.add("computer-use-2024-10-22"),s.push({name:e.name,type:"computer_20241022",display_width_px:e.args.displayWidthPx,display_height_px:e.args.displayHeightPx,display_number:e.args.displayNumber});break;case"anthropic.text_editor_20250124":o.add("computer-use-2025-01-24"),s.push({name:e.name,type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":o.add("computer-use-2024-10-22"),s.push({name:e.name,type:"text_editor_20241022"});break;case"anthropic.bash_20250124":o.add("computer-use-2025-01-24"),s.push({name:e.name,type:"bash_20250124"});break;case"anthropic.bash_20241022":o.add("computer-use-2024-10-22"),s.push({name:e.name,type:"bash_20241022"});break;default:r.push({type:"unsupported-tool",tool:e})}break;default:r.push({type:"unsupported-tool",tool:e})}const i=e.toolChoice;if(null==i)return{tools:s,tool_choice:void 0,toolWarnings:r,betas:o};const a=i.type;switch(a){case"auto":return{tools:s,tool_choice:{type:"auto"},toolWarnings:r,betas:o};case"required":return{tools:s,tool_choice:{type:"any"},toolWarnings:r,betas:o};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:o};case"tool":return{tools:s,tool_choice:{type:"tool",name:i.toolName},toolWarnings:r,betas:o};default:throw new pE({functionality:`Unsupported tool choice type: ${a}`})}}function MI({prompt:e,sendReasoning:t,warnings:n}){var r,o,s,i;const a=new Set,c=$I(e);let u;const l=[];function p(e){var t;const n=null==e?void 0:e.anthropic;return null!=(t=null==n?void 0:n.cacheControl)?t:null==n?void 0:n.cache_control}for(let e=0;e<c.length;e++){const d=c[e],f=e===c.length-1,h=d.type;switch(h){case"system":if(null!=u)throw new pE({functionality:"Multiple system messages that are separated by user/assistant messages"});u=d.messages.map((({content:e,providerMetadata:t})=>({type:"text",text:e,cache_control:p(t)})));break;case"user":{const e=[];for(const t of d.messages){const{role:n,content:i}=t;switch(n){case"user":for(let n=0;n<i.length;n++){const s=i[n],c=n===i.length-1,u=null!=(r=p(s.providerMetadata))?r:c?p(t.providerMetadata):void 0;switch(s.type){case"text":e.push({type:"text",text:s.text,cache_control:u});break;case"image":e.push({type:"image",source:s.image instanceof URL?{type:"url",url:s.image.toString()}:{type:"base64",media_type:null!=(o=s.mimeType)?o:"image/jpeg",data:XE(s.image)},cache_control:u});break;case"file":if("application/pdf"!==s.mimeType)throw new pE({functionality:"Non-PDF files in user messages"});a.add("pdfs-2024-09-25"),e.push({type:"document",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"base64",media_type:"application/pdf",data:s.data},cache_control:u})}}break;case"tool":for(let n=0;n<i.length;n++){const r=i[n],o=n===i.length-1,a=null!=(s=p(r.providerMetadata))?s:o?p(t.providerMetadata):void 0,c=null!=r.content?r.content.map((e=>{var t;switch(e.type){case"text":return{type:"text",text:e.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:null!=(t=e.mimeType)?t:"image/jpeg",data:e.data},cache_control:void 0}}})):JSON.stringify(r.result);e.push({type:"tool_result",tool_use_id:r.toolCallId,content:c,is_error:r.isError,cache_control:a})}break;default:throw new Error(`Unsupported role: ${n}`)}}l.push({role:"user",content:e});break}case"assistant":{const e=[];for(let r=0;r<d.messages.length;r++){const o=d.messages[r],s=r===d.messages.length-1,{content:a}=o;for(let r=0;r<a.length;r++){const c=a[r],u=r===a.length-1,l=null!=(i=p(c.providerMetadata))?i:u?p(o.providerMetadata):void 0;switch(c.type){case"text":e.push({type:"text",text:f&&s&&u?c.text.trim():c.text,cache_control:l});break;case"reasoning":t?e.push({type:"thinking",thinking:c.text,signature:c.signature,cache_control:l}):n.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"redacted-reasoning":e.push({type:"redacted_thinking",data:c.data,cache_control:l});break;case"tool-call":e.push({type:"tool_use",id:c.toolCallId,name:c.toolName,input:c.args,cache_control:l})}}}l.push({role:"assistant",content:e});break}default:throw new Error(`Unsupported type: ${h}`)}}return{prompt:{system:u,messages:l},betas:a}}function $I(e){const t=[];let n;for(const r of e){const{role:e}=r;switch(e){case"system":"system"!==(null==n?void 0:n.type)&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(r);break;case"assistant":"assistant"!==(null==n?void 0:n.type)&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(r);break;case"user":case"tool":"user"!==(null==n?void 0:n.type)&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break;default:throw new Error(`Unsupported role: ${e}`)}}return t}function LI(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}var DI=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.modelId=e,this.settings=t,this.config=n}supportsUrl(e){return"https:"===e.protocol}get provider(){return this.config.provider}get supportsImageUrls(){return this.config.supportsImageUrls}async getArgs({mode:e,prompt:t,maxTokens:n=4096,temperature:r,topP:o,topK:s,frequencyPenalty:i,presencePenalty:a,stopSequences:c,responseFormat:u,seed:l,providerMetadata:p}){var d,f,h;const m=e.type,g=[];null!=i&&g.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=a&&g.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=l&&g.push({type:"unsupported-setting",setting:"seed"}),null!=u&&"text"!==u.type&&g.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:y,betas:v}=MI({prompt:t,sendReasoning:null==(d=this.settings.sendReasoning)||d,warnings:g}),b=LE({provider:"anthropic",providerOptions:p,schema:BI}),_="enabled"===(null==(f=null==b?void 0:b.thinking)?void 0:f.type),w=null==(h=null==b?void 0:b.thinking)?void 0:h.budgetTokens,x={model:this.modelId,max_tokens:n,temperature:r,top_k:s,top_p:o,stop_sequences:c,..._&&{thinking:{type:"enabled",budget_tokens:w}},system:y.system,messages:y.messages};if(_){if(null==w)throw new pE({functionality:"thinking requires a budget"});null!=x.temperature&&(x.temperature=void 0,g.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),null!=s&&(x.top_k=void 0,g.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),null!=o&&(x.top_p=void 0,g.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),x.max_tokens=n+w}switch(m){case"regular":{const{tools:t,tool_choice:n,toolWarnings:r,betas:o}=PI(e);return{args:{...x,tools:t,tool_choice:n},warnings:[...g,...r],betas:new Set([...v,...o])}}case"object-json":throw new pE({functionality:"json-mode object generation"});case"object-tool":{const{name:t,description:n,parameters:r}=e.tool;return{args:{...x,tools:[{name:t,description:n,input_schema:r}],tool_choice:{type:"tool",name:t}},warnings:g,betas:v}}default:throw new Error(`Unsupported type: ${m}`)}}async getHeaders({betas:e,headers:t}){return mE(await qE(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,n,r;return null!=(r=null==(n=(t=this.config).buildRequestUrl)?void 0:n.call(t,this.config.baseURL,e))?r:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,n,r;return null!=(r=null==(n=(t=this.config).transformRequestBody)?void 0:n.call(t,e))?r:e}async doGenerate(e){var t,n,r,o;const{args:s,warnings:i,betas:a}=await this.getArgs(e),{responseHeaders:c,value:u,rawValue:l}=await FE({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:a,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:NI,successfulResponseHandler:ZE(FI),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:p,...d}=s;let f,h="";for(const e of u.content)"text"===e.type&&(h+=e.text);if(u.content.some((e=>"tool_use"===e.type))){f=[];for(const e of u.content)"tool_use"===e.type&&f.push({toolCallType:"function",toolCallId:e.id,toolName:e.name,args:JSON.stringify(e.input)})}const m=u.content.filter((e=>"redacted_thinking"===e.type||"thinking"===e.type)).map((e=>"thinking"===e.type?{type:"text",text:e.thinking,signature:e.signature}:{type:"redacted",data:e.data}));return{text:h,reasoning:m.length>0?m:void 0,toolCalls:f,finishReason:LI(u.stop_reason),usage:{promptTokens:u.usage.input_tokens,completionTokens:u.usage.output_tokens},rawCall:{rawPrompt:p,rawSettings:d},rawResponse:{headers:c,body:l},response:{id:null!=(t=u.id)?t:void 0,modelId:null!=(n=u.model)?n:void 0},warnings:i,providerMetadata:{anthropic:{cacheCreationInputTokens:null!=(r=u.usage.cache_creation_input_tokens)?r:null,cacheReadInputTokens:null!=(o=u.usage.cache_read_input_tokens)?o:null}},request:{body:JSON.stringify(s)}}}async doStream(e){const{args:t,warnings:n,betas:r}=await this.getArgs(e),o={...t,stream:!0},{responseHeaders:s,value:i}=await FE({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:r,headers:e.headers}),body:this.transformRequestBody(o),failedResponseHandler:NI,successfulResponseHandler:WE(UI),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:a,...c}=t;let u="unknown";const l={promptTokens:Number.NaN,completionTokens:Number.NaN},p={};let d,f;return{stream:i.pipeThrough(new TransformStream({transform(e,t){var n,r,o,s;if(!e.success)return void t.enqueue({type:"error",error:e.error});const i=e.value;switch(i.type){case"ping":return;case"content_block_start":{const e=i.content_block.type;switch(f=e,e){case"text":case"thinking":return;case"redacted_thinking":return void t.enqueue({type:"redacted-reasoning",data:i.content_block.data});case"tool_use":return void(p[i.index]={toolCallId:i.content_block.id,toolName:i.content_block.name,jsonText:""});default:throw new Error(`Unsupported content block type: ${e}`)}}case"content_block_stop":if(null!=p[i.index]){const e=p[i.index];t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,args:e.jsonText}),delete p[i.index]}return void(f=void 0);case"content_block_delta":{const e=i.delta.type;switch(e){case"text_delta":return void t.enqueue({type:"text-delta",textDelta:i.delta.text});case"thinking_delta":return void t.enqueue({type:"reasoning",textDelta:i.delta.thinking});case"signature_delta":return void("thinking"===f&&t.enqueue({type:"reasoning-signature",signature:i.delta.signature}));case"input_json_delta":{const e=p[i.index];return t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:i.delta.partial_json}),void(e.jsonText+=i.delta.partial_json)}default:throw new Error(`Unsupported delta type: ${e}`)}}case"message_start":return l.promptTokens=i.message.usage.input_tokens,l.completionTokens=i.message.usage.output_tokens,d={anthropic:{cacheCreationInputTokens:null!=(n=i.message.usage.cache_creation_input_tokens)?n:null,cacheReadInputTokens:null!=(r=i.message.usage.cache_read_input_tokens)?r:null}},void t.enqueue({type:"response-metadata",id:null!=(o=i.message.id)?o:void 0,modelId:null!=(s=i.message.model)?s:void 0});case"message_delta":return l.completionTokens=i.usage.output_tokens,void(u=LI(i.delta.stop_reason));case"message_stop":return void t.enqueue({type:"finish",finishReason:u,usage:l,providerMetadata:d});case"error":return void t.enqueue({type:"error",error:i.error});default:throw new Error(`Unsupported chunk type: ${i}`)}}})),rawCall:{rawPrompt:a,rawSettings:c},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(o)}}}},FI=RI.object({type:RI.literal("message"),id:RI.string().nullish(),model:RI.string().nullish(),content:RI.array(RI.discriminatedUnion("type",[RI.object({type:RI.literal("text"),text:RI.string()}),RI.object({type:RI.literal("thinking"),thinking:RI.string(),signature:RI.string()}),RI.object({type:RI.literal("redacted_thinking"),data:RI.string()}),RI.object({type:RI.literal("tool_use"),id:RI.string(),name:RI.string(),input:RI.unknown()})])),stop_reason:RI.string().nullish(),usage:RI.object({input_tokens:RI.number(),output_tokens:RI.number(),cache_creation_input_tokens:RI.number().nullish(),cache_read_input_tokens:RI.number().nullish()})}),UI=RI.discriminatedUnion("type",[RI.object({type:RI.literal("message_start"),message:RI.object({id:RI.string().nullish(),model:RI.string().nullish(),usage:RI.object({input_tokens:RI.number(),output_tokens:RI.number(),cache_creation_input_tokens:RI.number().nullish(),cache_read_input_tokens:RI.number().nullish()})})}),RI.object({type:RI.literal("content_block_start"),index:RI.number(),content_block:RI.discriminatedUnion("type",[RI.object({type:RI.literal("text"),text:RI.string()}),RI.object({type:RI.literal("thinking"),thinking:RI.string()}),RI.object({type:RI.literal("tool_use"),id:RI.string(),name:RI.string()}),RI.object({type:RI.literal("redacted_thinking"),data:RI.string()})])}),RI.object({type:RI.literal("content_block_delta"),index:RI.number(),delta:RI.discriminatedUnion("type",[RI.object({type:RI.literal("input_json_delta"),partial_json:RI.string()}),RI.object({type:RI.literal("text_delta"),text:RI.string()}),RI.object({type:RI.literal("thinking_delta"),thinking:RI.string()}),RI.object({type:RI.literal("signature_delta"),signature:RI.string()})])}),RI.object({type:RI.literal("content_block_stop"),index:RI.number()}),RI.object({type:RI.literal("error"),error:RI.object({type:RI.string(),message:RI.string()})}),RI.object({type:RI.literal("message_delta"),delta:RI.object({stop_reason:RI.string().nullish()}),usage:RI.object({output_tokens:RI.number()})}),RI.object({type:RI.literal("message_stop")}),RI.object({type:RI.literal("ping")})]),BI=RI.object({thinking:RI.object({type:RI.union([RI.literal("enabled"),RI.literal("disabled")]),budgetTokens:RI.number().optional()}).optional()}),qI=RI.object({command:RI.string(),restart:RI.boolean().optional()});function VI(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:qI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var HI=RI.object({command:RI.string(),restart:RI.boolean().optional()});function zI(e={}){return{type:"provider-defined",id:"anthropic.bash_20250124",args:{},parameters:HI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var WI=RI.object({command:RI.enum(["view","create","str_replace","insert","undo_edit"]),path:RI.string(),file_text:RI.string().optional(),insert_line:RI.number().int().optional(),new_str:RI.string().optional(),old_str:RI.string().optional(),view_range:RI.array(RI.number().int()).optional()});function ZI(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:WI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var GI=RI.object({command:RI.enum(["view","create","str_replace","insert","undo_edit"]),path:RI.string(),file_text:RI.string().optional(),insert_line:RI.number().int().optional(),new_str:RI.string().optional(),old_str:RI.string().optional(),view_range:RI.array(RI.number().int()).optional()});function KI(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20250124",args:{},parameters:GI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var YI=RI.object({action:RI.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:RI.array(RI.number().int()).optional(),text:RI.string().optional()});function JI(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:YI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var XI=RI.object({action:RI.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:RI.tuple([RI.number().int(),RI.number().int()]).optional(),duration:RI.number().optional(),scroll_amount:RI.number().optional(),scroll_direction:RI.enum(["up","down","left","right"]).optional(),start_coordinate:RI.tuple([RI.number().int(),RI.number().int()]).optional(),text:RI.string().optional()});function QI(e){return{type:"provider-defined",id:"anthropic.computer_20250124",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:XI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var eR={bash_20241022:VI,bash_20250124:zI,textEditor_20241022:ZI,textEditor_20250124:KI,computer_20241022:JI,computer_20250124:QI};function tR(e={}){var t;const n=null!=(t=QE(e.baseURL))?t:"https://api.anthropic.com/v1",r=()=>({"anthropic-version":"2023-06-01","x-api-key":OE({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),o=(t,o={})=>new DI(t,o,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:e.fetch,supportsImageUrls:!0}),s=function(e,t){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return o(e,t)};return s.languageModel=o,s.chat=o,s.messages=o,s.textEmbeddingModel=e=>{throw new KO({modelId:e,modelType:"textEmbeddingModel"})},s.tools=eR,s}function nR(e){if(rR(e))return;if("boolean"==typeof e)return{type:"boolean",properties:{}};const{type:t,description:n,required:r,properties:o,items:s,allOf:i,anyOf:a,oneOf:c,format:u,const:l,minLength:p,enum:d}=e,f={};if(n&&(f.description=n),r&&(f.required=r),u&&(f.format=u),void 0!==l&&(f.enum=[l]),t&&(Array.isArray(t)?t.includes("null")?(f.type=t.filter((e=>"null"!==e))[0],f.nullable=!0):f.type=t:f.type="null"===t?"null":t),void 0!==d&&(f.enum=d),null!=o&&(f.properties=Object.entries(o).reduce(((e,[t,n])=>(e[t]=nR(n),e)),{})),s&&(f.items=Array.isArray(s)?s.map(nR):nR(s)),i&&(f.allOf=i.map(nR)),a)if(a.some((e=>"object"==typeof e&&"null"===(null==e?void 0:e.type)))){const e=a.filter((e=>!("object"==typeof e&&"null"===(null==e?void 0:e.type))));if(1===e.length){const t=nR(e[0]);"object"==typeof t&&(f.nullable=!0,Object.assign(f,t))}else f.anyOf=e.map(nR),f.nullable=!0}else f.anyOf=a.map(nR);return c&&(f.oneOf=c.map(nR)),void 0!==p&&(f.minLength=p),f}function rR(e){return null!=e&&"object"==typeof e&&"object"===e.type&&(null==e.properties||0===Object.keys(e.properties).length)}function oR(e){var t,n;const r=[],o=[];let s=!0;for(const{role:i,content:a}of e)switch(i){case"system":if(!s)throw new pE({functionality:"system messages are only supported at the beginning of the conversation"});r.push({text:a});break;case"user":{s=!1;const e=[];for(const r of a)switch(r.type){case"text":e.push({text:r.text});break;case"image":e.push(r.image instanceof URL?{fileData:{mimeType:null!=(t=r.mimeType)?t:"image/jpeg",fileUri:r.image.toString()}}:{inlineData:{mimeType:null!=(n=r.mimeType)?n:"image/jpeg",data:XE(r.image)}});break;case"file":e.push(r.data instanceof URL?{fileData:{mimeType:r.mimeType,fileUri:r.data.toString()}}:{inlineData:{mimeType:r.mimeType,data:r.data}})}o.push({role:"user",parts:e});break}case"assistant":s=!1,o.push({role:"model",parts:a.map((e=>{switch(e.type){case"text":return 0===e.text.length?void 0:{text:e.text};case"file":if("image/png"!==e.mimeType)throw new pE({functionality:"Only PNG images are supported in assistant messages"});if(e.data instanceof URL)throw new pE({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:e.mimeType,data:e.data}};case"tool-call":return{functionCall:{name:e.toolName,args:e.args}}}})).filter((e=>void 0!==e))});break;case"tool":s=!1,o.push({role:"user",parts:a.map((e=>({functionResponse:{name:e.toolName,response:{name:e.toolName,content:e.result}}})))})}return{systemInstruction:r.length>0?{parts:r}:void 0,contents:o}}function sR(e){return e.includes("/")?e:`models/${e}`}tR();var iR=RI.object({error:RI.object({code:RI.number().nullable(),message:RI.string(),status:RI.string()})}),aR=zE({errorSchema:iR,errorToMessage:e=>e.error.message});function cR(e,t,n,r){var o,s;const i=(null==(o=e.tools)?void 0:o.length)?e.tools:void 0,a=[],c=r.includes("gemini-2"),u=r.includes("gemini-1.5-flash")&&!r.includes("-8b");if(t)return{tools:c?{googleSearch:{}}:{googleSearchRetrieval:u&&n?{dynamicRetrievalConfig:n}:{}},toolConfig:void 0,toolWarnings:a};if(null==i)return{tools:void 0,toolConfig:void 0,toolWarnings:a};const l=[];for(const e of i)"provider-defined"===e.type?a.push({type:"unsupported-tool",tool:e}):l.push({name:e.name,description:null!=(s=e.description)?s:"",parameters:nR(e.parameters)});const p=e.toolChoice;if(null==p)return{tools:{functionDeclarations:l},toolConfig:void 0,toolWarnings:a};const d=p.type;switch(d){case"auto":return{tools:{functionDeclarations:l},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:a};case"none":return{tools:{functionDeclarations:l},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:a};case"required":return{tools:{functionDeclarations:l},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:a};case"tool":return{tools:{functionDeclarations:l},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[p.toolName]}},toolWarnings:a};default:throw new pE({functionality:`Unsupported tool choice type: ${d}`})}}function uR({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}var lR=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return null==(e=this.settings.structuredOutputs)||e}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:o,topK:s,frequencyPenalty:i,presencePenalty:a,stopSequences:c,responseFormat:u,seed:l,providerMetadata:p}){var d,f;const h=e.type,m=[],g=LE({provider:"google",providerOptions:p,schema:wR}),y={maxOutputTokens:n,temperature:r,topK:s,topP:o,frequencyPenalty:i,presencePenalty:a,stopSequences:c,seed:l,responseMimeType:"json"===(null==u?void 0:u.type)?"application/json":void 0,responseSchema:"json"===(null==u?void 0:u.type)&&null!=u.schema&&this.supportsStructuredOutputs?nR(u.schema):void 0,...this.settings.audioTimestamp&&{audioTimestamp:this.settings.audioTimestamp},responseModalities:null==g?void 0:g.responseModalities,thinkingConfig:null==g?void 0:g.thinkingConfig},{contents:v,systemInstruction:b}=oR(t);switch(h){case"regular":{const{tools:t,toolConfig:n,toolWarnings:r}=cR(e,null!=(d=this.settings.useSearchGrounding)&&d,this.settings.dynamicRetrievalConfig,this.modelId);return{args:{generationConfig:y,contents:v,systemInstruction:b,safetySettings:this.settings.safetySettings,tools:t,toolConfig:n,cachedContent:this.settings.cachedContent},warnings:[...m,...r]}}case"object-json":return{args:{generationConfig:{...y,responseMimeType:"application/json",responseSchema:null!=e.schema&&this.supportsStructuredOutputs?nR(e.schema):void 0},contents:v,systemInstruction:b,safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:m};case"object-tool":return{args:{generationConfig:y,contents:v,tools:{functionDeclarations:[{name:e.tool.name,description:null!=(f=e.tool.description)?f:"",parameters:nR(e.tool.parameters)}]},toolConfig:{functionCallingConfig:{mode:"ANY"}},safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:m};default:throw new Error(`Unsupported type: ${h}`)}}supportsUrl(e){return this.config.isSupportedUrl(e)}async doGenerate(e){var t,n,r,o,s;const{args:i,warnings:a}=await this.getArgs(e),c=JSON.stringify(i),u=mE(await qE(this.config.headers),e.headers),{responseHeaders:l,value:p,rawValue:d}=await FE({url:`${this.config.baseURL}/${sR(this.modelId)}:generateContent`,headers:u,body:i,failedResponseHandler:aR,successfulResponseHandler:ZE(bR),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:f,...h}=i,m=p.candidates[0],g=null!=m.content&&"object"==typeof m.content&&"parts"in m.content?m.content.parts:[],y=pR({parts:g,generateId:this.config.generateId}),v=p.usageMetadata;return{text:dR(g),files:null==(t=fR(g))?void 0:t.map((e=>({data:e.inlineData.data,mimeType:e.inlineData.mimeType}))),toolCalls:y,finishReason:uR({finishReason:m.finishReason,hasToolCalls:null!=y&&y.length>0}),usage:{promptTokens:null!=(n=null==v?void 0:v.promptTokenCount)?n:NaN,completionTokens:null!=(r=null==v?void 0:v.candidatesTokenCount)?r:NaN},rawCall:{rawPrompt:f,rawSettings:h},rawResponse:{headers:l,body:d},warnings:a,providerMetadata:{google:{groundingMetadata:null!=(o=m.groundingMetadata)?o:null,safetyRatings:null!=(s=m.safetyRatings)?s:null}},sources:hR({groundingMetadata:m.groundingMetadata,generateId:this.config.generateId}),request:{body:c}}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=JSON.stringify(t),o=mE(await qE(this.config.headers),e.headers),{responseHeaders:s,value:i}=await FE({url:`${this.config.baseURL}/${sR(this.modelId)}:streamGenerateContent?alt=sse`,headers:o,body:t,failedResponseHandler:aR,successfulResponseHandler:WE(_R),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:a,...c}=t;let u,l="unknown",p={promptTokens:Number.NaN,completionTokens:Number.NaN};const d=this.config.generateId;let f=!1;return{stream:i.pipeThrough(new TransformStream({transform(e,t){var n,r,o,s,i,a;if(!e.success)return void t.enqueue({type:"error",error:e.error});const c=e.value,h=c.usageMetadata;null!=h&&(p={promptTokens:null!=(n=h.promptTokenCount)?n:NaN,completionTokens:null!=(r=h.candidatesTokenCount)?r:NaN});const m=null==(o=c.candidates)?void 0:o[0];if(null==m)return;const g=m.content;if(null!=g){const e=dR(g.parts);null!=e&&t.enqueue({type:"text-delta",textDelta:e});const n=fR(g.parts);if(null!=n)for(const e of n)t.enqueue({type:"file",mimeType:e.inlineData.mimeType,data:e.inlineData.data});const r=pR({parts:g.parts,generateId:d});if(null!=r)for(const e of r)t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:e.args}),t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,args:e.args}),f=!0}if(null!=m.finishReason){l=uR({finishReason:m.finishReason,hasToolCalls:f});const e=null!=(s=hR({groundingMetadata:m.groundingMetadata,generateId:d}))?s:[];for(const n of e)t.enqueue({type:"source",source:n});u={google:{groundingMetadata:null!=(i=m.groundingMetadata)?i:null,safetyRatings:null!=(a=m.safetyRatings)?a:null}}}},flush(e){e.enqueue({type:"finish",finishReason:l,usage:p,providerMetadata:u})}})),rawCall:{rawPrompt:a,rawSettings:c},rawResponse:{headers:s},warnings:n,request:{body:r}}}};function pR({parts:e,generateId:t}){const n=null==e?void 0:e.filter((e=>"functionCall"in e));return null==n||0===n.length?void 0:n.map((e=>({toolCallType:"function",toolCallId:t(),toolName:e.functionCall.name,args:JSON.stringify(e.functionCall.args)})))}function dR(e){const t=null==e?void 0:e.filter((e=>"text"in e));return null==t||0===t.length?void 0:t.map((e=>e.text)).join("")}function fR(e){return null==e?void 0:e.filter((e=>"inlineData"in e))}function hR({groundingMetadata:e,generateId:t}){var n;return null==(n=null==e?void 0:e.groundingChunks)?void 0:n.filter((e=>null!=e.web)).map((e=>({sourceType:"url",id:t(),url:e.web.uri,title:e.web.title})))}var mR=RI.object({role:RI.string(),parts:RI.array(RI.union([RI.object({text:RI.string()}),RI.object({functionCall:RI.object({name:RI.string(),args:RI.unknown()})}),RI.object({inlineData:RI.object({mimeType:RI.string(),data:RI.string()})})])).nullish()}),gR=RI.object({web:RI.object({uri:RI.string(),title:RI.string()}).nullish(),retrievedContext:RI.object({uri:RI.string(),title:RI.string()}).nullish()}),yR=RI.object({webSearchQueries:RI.array(RI.string()).nullish(),retrievalQueries:RI.array(RI.string()).nullish(),searchEntryPoint:RI.object({renderedContent:RI.string()}).nullish(),groundingChunks:RI.array(gR).nullish(),groundingSupports:RI.array(RI.object({segment:RI.object({startIndex:RI.number().nullish(),endIndex:RI.number().nullish(),text:RI.string().nullish()}),segment_text:RI.string().nullish(),groundingChunkIndices:RI.array(RI.number()).nullish(),supportChunkIndices:RI.array(RI.number()).nullish(),confidenceScores:RI.array(RI.number()).nullish(),confidenceScore:RI.array(RI.number()).nullish()})).nullish(),retrievalMetadata:RI.union([RI.object({webDynamicRetrievalScore:RI.number()}),RI.object({})]).nullish()}),vR=RI.object({category:RI.string().nullish(),probability:RI.string().nullish(),probabilityScore:RI.number().nullish(),severity:RI.string().nullish(),severityScore:RI.number().nullish(),blocked:RI.boolean().nullish()}),bR=RI.object({candidates:RI.array(RI.object({content:mR.nullish().or(RI.object({}).strict()),finishReason:RI.string().nullish(),safetyRatings:RI.array(vR).nullish(),groundingMetadata:yR.nullish()})),usageMetadata:RI.object({promptTokenCount:RI.number().nullish(),candidatesTokenCount:RI.number().nullish(),totalTokenCount:RI.number().nullish()}).nullish()}),_R=RI.object({candidates:RI.array(RI.object({content:mR.nullish(),finishReason:RI.string().nullish(),safetyRatings:RI.array(vR).nullish(),groundingMetadata:yR.nullish()})).nullish(),usageMetadata:RI.object({promptTokenCount:RI.number().nullish(),candidatesTokenCount:RI.number().nullish(),totalTokenCount:RI.number().nullish()}).nullish()}),wR=RI.object({responseModalities:RI.array(RI.enum(["TEXT","IMAGE"])).nullish(),thinkingConfig:RI.object({thinkingBudget:RI.number().nullish()}).nullish()}),xR=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){return 2048}get supportsParallelCalls(){return!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new eE({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const r=mE(await qE(this.config.headers),t),{responseHeaders:o,value:s}=await FE({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:r,body:{requests:e.map((e=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:e}]},outputDimensionality:this.settings.outputDimensionality,taskType:this.settings.taskType})))},failedResponseHandler:aR,successfulResponseHandler:ZE(kR),abortSignal:n,fetch:this.config.fetch});return{embeddings:s.embeddings.map((e=>e.values)),usage:void 0,rawResponse:{headers:o}}}},kR=RI.object({embeddings:RI.array(RI.object({values:RI.array(RI.number())}))});function SR(e){return e.toString().startsWith("https://generativelanguage.googleapis.com/v1beta/files/")}function TR(e={}){var t;const n=null!=(t=QE(e.baseURL))?t:"https://generativelanguage.googleapis.com/v1beta",r=()=>({"x-goog-api-key":OE({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers}),o=(t,o={})=>{var s;return new lR(t,o,{provider:"google.generative-ai",baseURL:n,headers:r,generateId:null!=(s=e.generateId)?s:xE,isSupportedUrl:SR,fetch:e.fetch})},s=(t,o={})=>new xR(t,o,{provider:"google.generative-ai",baseURL:n,headers:r,fetch:e.fetch}),i=function(e,t){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return o(e,t)};return i.languageModel=o,i.chat=o,i.generativeAI=o,i.embedding=s,i.textEmbedding=s,i.textEmbeddingModel=s,i}function OR({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:n="system"}){const r=[],o=[];for(const{role:s,content:i}of e)switch(s){case"system":switch(n){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":o.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error(`Unsupported system message mode: ${n}`)}break;case"user":if(1===i.length&&"text"===i[0].type){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(((e,t)=>{var n,r,o,s;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(n=e.mimeType)?n:"image/jpeg"};base64,${XE(e.image)}`,detail:null==(o=null==(r=e.providerMetadata)?void 0:r.openai)?void 0:o.imageDetail}};case"file":if(e.data instanceof URL)throw new pE({functionality:"'File content parts with URL data' functionality not supported."});switch(e.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:e.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:e.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:null!=(s=e.filename)?s:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`}};default:throw new pE({functionality:`File content part type ${e.mimeType} in user messages`})}}}))});break;case"assistant":{let e="";const n=[];for(const t of i)switch(t.type){case"text":e+=t.text;break;case"tool-call":n.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}})}if(t){if(n.length>1)throw new pE({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:e,function_call:n.length>0?n[0].function:void 0})}else r.push({role:"assistant",content:e,tool_calls:n.length>0?n:void 0});break}case"tool":for(const e of i)t?r.push({role:"function",name:e.toolName,content:JSON.stringify(e.result)}):r.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:throw new Error(`Unsupported role: ${s}`)}return{messages:r,warnings:o}}function ER(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.content)?void 0:t.map((({token:e,logprob:t,top_logprobs:n})=>({token:e,logprob:t,topLogprobs:n?n.map((({token:e,logprob:t})=>({token:e,logprob:t}))):[]}))))?n:void 0}function jR(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}TR();var AR=RI.object({error:RI.object({message:RI.string(),type:RI.string().nullish(),param:RI.any().nullish(),code:RI.union([RI.string(),RI.number()]).nullish()})}),IR=zE({errorSchema:AR,errorToMessage:e=>e.error.message});function RR({id:e,model:t,created:n}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=n?new Date(1e3*n):void 0}}function CR({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n}){var r;const o=(null==(r=e.tools)?void 0:r.length)?e.tools:void 0,s=[];if(null==o)return{tools:void 0,tool_choice:void 0,toolWarnings:s};const i=e.toolChoice;if(t){const e=[];for(const t of o)"provider-defined"===t.type?s.push({type:"unsupported-tool",tool:t}):e.push({name:t.name,description:t.description,parameters:t.parameters});if(null==i)return{functions:e,function_call:void 0,toolWarnings:s};switch(i.type){case"auto":case"none":case void 0:return{functions:e,function_call:void 0,toolWarnings:s};case"required":throw new pE({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:e,function_call:{name:i.toolName},toolWarnings:s}}}const a=[];for(const e of o)"provider-defined"===e.type?s.push({type:"unsupported-tool",tool:e}):a.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters,strict:!!n||void 0}});if(null==i)return{tools:a,tool_choice:void 0,toolWarnings:s};const c=i.type;switch(c){case"auto":case"none":case"required":return{tools:a,tool_choice:c,toolWarnings:s};case"tool":return{tools:a,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:s};default:throw new pE({functionality:`Unsupported tool choice type: ${c}`})}}var NR=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return null!=(e=this.settings.structuredOutputs)?e:LR(this.modelId)}get defaultObjectGenerationMode(){return DR(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:o,topK:s,frequencyPenalty:i,presencePenalty:a,stopSequences:c,responseFormat:u,seed:l,providerMetadata:p}){var d,f,h,m,g,y,v,b;const _=e.type,w=[];null!=s&&w.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==u?void 0:u.type)||null==u.schema||this.supportsStructuredOutputs||w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const x=this.settings.useLegacyFunctionCalling;if(x&&!0===this.settings.parallelToolCalls)throw new pE({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(x&&this.supportsStructuredOutputs)throw new pE({functionality:"structuredOutputs with useLegacyFunctionCalling"});const{messages:k,warnings:S}=OR({prompt:t,useLegacyFunctionCalling:x,systemMessageMode:FR(this.modelId)});w.push(...S);const T={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:o,frequency_penalty:i,presence_penalty:a,response_format:"json"===(null==u?void 0:u.type)?this.supportsStructuredOutputs&&null!=u.schema?{type:"json_schema",json_schema:{schema:u.schema,strict:!0,name:null!=(d=u.name)?d:"response",description:u.description}}:{type:"json_object"}:void 0,stop:c,seed:l,max_completion_tokens:null==(f=null==p?void 0:p.openai)?void 0:f.maxCompletionTokens,store:null==(h=null==p?void 0:p.openai)?void 0:h.store,metadata:null==(m=null==p?void 0:p.openai)?void 0:m.metadata,prediction:null==(g=null==p?void 0:p.openai)?void 0:g.prediction,reasoning_effort:null!=(v=null==(y=null==p?void 0:p.openai)?void 0:y.reasoningEffort)?v:this.settings.reasoningEffort,messages:k};switch(LR(this.modelId)?(null!=T.temperature&&(T.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=T.top_p&&(T.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=T.frequency_penalty&&(T.frequency_penalty=void 0,w.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=T.presence_penalty&&(T.presence_penalty=void 0,w.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=T.logit_bias&&(T.logit_bias=void 0,w.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=T.logprobs&&(T.logprobs=void 0,w.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=T.top_logprobs&&(T.top_logprobs=void 0,w.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=T.max_tokens&&(null==T.max_completion_tokens&&(T.max_completion_tokens=T.max_tokens),T.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=T.temperature&&(T.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),_){case"regular":{const{tools:t,tool_choice:n,functions:r,function_call:o,toolWarnings:s}=CR({mode:e,useLegacyFunctionCalling:x,structuredOutputs:this.supportsStructuredOutputs});return{args:{...T,tools:t,tool_choice:n,functions:r,function_call:o},warnings:[...w,...s]}}case"object-json":return{args:{...T,response_format:this.supportsStructuredOutputs&&null!=e.schema?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:null!=(b=e.name)?b:"response",description:e.description}}:{type:"json_object"}},warnings:w};case"object-tool":return{args:x?{...T,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...T,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:!!this.supportsStructuredOutputs||void 0}}]},warnings:w};default:throw new Error(`Unsupported type: ${_}`)}}async doGenerate(e){var t,n,r,o,s,i,a,c;const{args:u,warnings:l}=this.getArgs(e),{responseHeaders:p,value:d,rawValue:f}=await FE({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:u,failedResponseHandler:IR,successfulResponseHandler:ZE(MR),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...m}=u,g=d.choices[0],y=null==(t=d.usage)?void 0:t.completion_tokens_details,v=null==(n=d.usage)?void 0:n.prompt_tokens_details,b={openai:{}};return null!=(null==y?void 0:y.reasoning_tokens)&&(b.openai.reasoningTokens=null==y?void 0:y.reasoning_tokens),null!=(null==y?void 0:y.accepted_prediction_tokens)&&(b.openai.acceptedPredictionTokens=null==y?void 0:y.accepted_prediction_tokens),null!=(null==y?void 0:y.rejected_prediction_tokens)&&(b.openai.rejectedPredictionTokens=null==y?void 0:y.rejected_prediction_tokens),null!=(null==v?void 0:v.cached_tokens)&&(b.openai.cachedPromptTokens=null==v?void 0:v.cached_tokens),{text:null!=(r=g.message.content)?r:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&g.message.function_call?[{toolCallType:"function",toolCallId:xE(),toolName:g.message.function_call.name,args:g.message.function_call.arguments}]:null==(o=g.message.tool_calls)?void 0:o.map((e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:xE(),toolName:e.function.name,args:e.function.arguments}})),finishReason:jR(g.finish_reason),usage:{promptTokens:null!=(i=null==(s=d.usage)?void 0:s.prompt_tokens)?i:NaN,completionTokens:null!=(c=null==(a=d.usage)?void 0:a.completion_tokens)?c:NaN},rawCall:{rawPrompt:h,rawSettings:m},rawResponse:{headers:p,body:f},request:{body:JSON.stringify(u)},response:RR(d),warnings:l,logprobs:ER(g.logprobs),providerMetadata:b}}async doStream(e){if(this.settings.simulateStreaming){const t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(const n of t.toolCalls)e.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:n.toolCallId,toolName:n.toolName,argsTextDelta:n.args}),e.enqueue({type:"tool-call",...n});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:o,value:s}=await FE({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:r,failedResponseHandler:IR,successfulResponseHandler:WE($R),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:i,...a}=t,c=[];let u,l="unknown",p={promptTokens:void 0,completionTokens:void 0},d=!0;const{useLegacyFunctionCalling:f}=this.settings,h={openai:{}};return{stream:s.pipeThrough(new TransformStream({transform(e,t){var n,r,o,s,i,a,m,g,y,v,b,_;if(!e.success)return l="error",void t.enqueue({type:"error",error:e.error});const w=e.value;if("error"in w)return l="error",void t.enqueue({type:"error",error:w.error});if(d&&(d=!1,t.enqueue({type:"response-metadata",...RR(w)})),null!=w.usage){const{prompt_tokens:e,completion_tokens:t,prompt_tokens_details:n,completion_tokens_details:r}=w.usage;p={promptTokens:null!=e?e:void 0,completionTokens:null!=t?t:void 0},null!=(null==r?void 0:r.reasoning_tokens)&&(h.openai.reasoningTokens=null==r?void 0:r.reasoning_tokens),null!=(null==r?void 0:r.accepted_prediction_tokens)&&(h.openai.acceptedPredictionTokens=null==r?void 0:r.accepted_prediction_tokens),null!=(null==r?void 0:r.rejected_prediction_tokens)&&(h.openai.rejectedPredictionTokens=null==r?void 0:r.rejected_prediction_tokens),null!=(null==n?void 0:n.cached_tokens)&&(h.openai.cachedPromptTokens=null==n?void 0:n.cached_tokens)}const x=w.choices[0];if(null!=(null==x?void 0:x.finish_reason)&&(l=jR(x.finish_reason)),null==(null==x?void 0:x.delta))return;const k=x.delta;null!=k.content&&t.enqueue({type:"text-delta",textDelta:k.content});const S=ER(null==x?void 0:x.logprobs);(null==S?void 0:S.length)&&(void 0===u&&(u=[]),u.push(...S));const T=f&&null!=k.function_call?[{type:"function",id:xE(),function:k.function_call,index:0}]:k.tool_calls;if(null!=T)for(const e of T){const u=e.index;if(null==c[u]){if("function"!==e.type)throw new CO({data:e,message:"Expected 'function' type."});if(null==e.id)throw new CO({data:e,message:"Expected 'id' to be a string."});if(null==(null==(n=e.function)?void 0:n.name))throw new CO({data:e,message:"Expected 'function.name' to be a string."});c[u]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(r=e.function.arguments)?r:""},hasFinished:!1};const a=c[u];null!=(null==(o=a.function)?void 0:o.name)&&null!=(null==(s=a.function)?void 0:s.arguments)&&(a.function.arguments.length>0&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:a.id,toolName:a.function.name,argsTextDelta:a.function.arguments}),$E(a.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(i=a.id)?i:xE(),toolName:a.function.name,args:a.function.arguments}),a.hasFinished=!0));continue}const l=c[u];l.hasFinished||(null!=(null==(a=e.function)?void 0:a.arguments)&&(l.function.arguments+=null!=(g=null==(m=e.function)?void 0:m.arguments)?g:""),t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:l.id,toolName:l.function.name,argsTextDelta:null!=(y=e.function.arguments)?y:""}),null!=(null==(v=l.function)?void 0:v.name)&&null!=(null==(b=l.function)?void 0:b.arguments)&&$E(l.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(_=l.id)?_:xE(),toolName:l.function.name,args:l.function.arguments}),l.hasFinished=!0))}},flush(e){var t,n;e.enqueue({type:"finish",finishReason:l,logprobs:u,usage:{promptTokens:null!=(t=p.promptTokens)?t:NaN,completionTokens:null!=(n=p.completionTokens)?n:NaN},...null!=h?{providerMetadata:h}:{}})}})),rawCall:{rawPrompt:i,rawSettings:a},rawResponse:{headers:o},request:{body:JSON.stringify(r)},warnings:n}}},PR=RI.object({prompt_tokens:RI.number().nullish(),completion_tokens:RI.number().nullish(),prompt_tokens_details:RI.object({cached_tokens:RI.number().nullish()}).nullish(),completion_tokens_details:RI.object({reasoning_tokens:RI.number().nullish(),accepted_prediction_tokens:RI.number().nullish(),rejected_prediction_tokens:RI.number().nullish()}).nullish()}).nullish(),MR=RI.object({id:RI.string().nullish(),created:RI.number().nullish(),model:RI.string().nullish(),choices:RI.array(RI.object({message:RI.object({role:RI.literal("assistant").nullish(),content:RI.string().nullish(),function_call:RI.object({arguments:RI.string(),name:RI.string()}).nullish(),tool_calls:RI.array(RI.object({id:RI.string().nullish(),type:RI.literal("function"),function:RI.object({name:RI.string(),arguments:RI.string()})})).nullish()}),index:RI.number(),logprobs:RI.object({content:RI.array(RI.object({token:RI.string(),logprob:RI.number(),top_logprobs:RI.array(RI.object({token:RI.string(),logprob:RI.number()}))})).nullable()}).nullish(),finish_reason:RI.string().nullish()})),usage:PR}),$R=RI.union([RI.object({id:RI.string().nullish(),created:RI.number().nullish(),model:RI.string().nullish(),choices:RI.array(RI.object({delta:RI.object({role:RI.enum(["assistant"]).nullish(),content:RI.string().nullish(),function_call:RI.object({name:RI.string().optional(),arguments:RI.string().optional()}).nullish(),tool_calls:RI.array(RI.object({index:RI.number(),id:RI.string().nullish(),type:RI.literal("function").nullish(),function:RI.object({name:RI.string().nullish(),arguments:RI.string().nullish()})})).nullish()}).nullish(),logprobs:RI.object({content:RI.array(RI.object({token:RI.string(),logprob:RI.number(),top_logprobs:RI.array(RI.object({token:RI.string(),logprob:RI.number()}))})).nullable()}).nullish(),finish_reason:RI.string().nullish(),index:RI.number()})),usage:PR}),AR]);function LR(e){return e.startsWith("o")}function DR(e){return e.startsWith("gpt-4o-audio-preview")}function FR(e){var t,n;return LR(e)?null!=(n=null==(t=UR[e])?void 0:t.systemMessageMode)?n:"developer":"system"}var UR={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function BR({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if("prompt"===t&&1===e.length&&"user"===e[0].role&&1===e[0].content.length&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let o="";"system"===e[0].role&&(o+=`${e[0].content}\n\n`,e=e.slice(1));for(const{role:t,content:s}of e)switch(t){case"system":throw new EO({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":o+=`${n}:\n${s.map((e=>{switch(e.type){case"text":return e.text;case"image":throw new pE({functionality:"images"})}})).join("")}\n\n`;break;case"assistant":o+=`${r}:\n${s.map((e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new pE({functionality:"tool-call messages"})}})).join("")}\n\n`;break;case"tool":throw new pE({functionality:"tool messages"});default:throw new Error(`Unsupported role: ${t}`)}return o+=`${r}:\n`,{prompt:o,stopSequences:[`\n${n}:`]}}function qR(e){return null==e?void 0:e.tokens.map(((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map((([e,t])=>({token:e,logprob:t}))):[]})))}var VR=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:o,topP:s,topK:i,frequencyPenalty:a,presencePenalty:c,stopSequences:u,responseFormat:l,seed:p}){var d;const f=e.type,h=[];null!=i&&h.push({type:"unsupported-setting",setting:"topK"}),null!=l&&"text"!==l.type&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:m,stopSequences:g}=BR({prompt:n,inputFormat:t}),y=[...null!=g?g:[],...null!=u?u:[]],v={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:o,top_p:s,frequency_penalty:a,presence_penalty:c,seed:p,prompt:m,stop:y.length>0?y:void 0};switch(f){case"regular":if(null==(d=e.tools)?void 0:d.length)throw new pE({functionality:"tools"});if(e.toolChoice)throw new pE({functionality:"toolChoice"});return{args:v,warnings:h};case"object-json":throw new pE({functionality:"object-json mode"});case"object-tool":throw new pE({functionality:"object-tool mode"});default:throw new Error(`Unsupported type: ${f}`)}}async doGenerate(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:o,rawValue:s}=await FE({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:t,failedResponseHandler:IR,successfulResponseHandler:ZE(HR),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:i,...a}=t,c=o.choices[0];return{text:c.text,usage:{promptTokens:o.usage.prompt_tokens,completionTokens:o.usage.completion_tokens},finishReason:jR(c.finish_reason),logprobs:qR(c.logprobs),rawCall:{rawPrompt:i,rawSettings:a},rawResponse:{headers:r,body:s},response:RR(o),warnings:n,request:{body:JSON.stringify(t)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:o,value:s}=await FE({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:r,failedResponseHandler:IR,successfulResponseHandler:WE(zR),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:i,...a}=t;let c,u="unknown",l={promptTokens:Number.NaN,completionTokens:Number.NaN},p=!0;return{stream:s.pipeThrough(new TransformStream({transform(e,t){if(!e.success)return u="error",void t.enqueue({type:"error",error:e.error});const n=e.value;if("error"in n)return u="error",void t.enqueue({type:"error",error:n.error});p&&(p=!1,t.enqueue({type:"response-metadata",...RR(n)})),null!=n.usage&&(l={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});const r=n.choices[0];null!=(null==r?void 0:r.finish_reason)&&(u=jR(r.finish_reason)),null!=(null==r?void 0:r.text)&&t.enqueue({type:"text-delta",textDelta:r.text});const o=qR(null==r?void 0:r.logprobs);(null==o?void 0:o.length)&&(void 0===c&&(c=[]),c.push(...o))},flush(e){e.enqueue({type:"finish",finishReason:u,logprobs:c,usage:l})}})),rawCall:{rawPrompt:i,rawSettings:a},rawResponse:{headers:o},warnings:n,request:{body:JSON.stringify(r)}}}},HR=RI.object({id:RI.string().nullish(),created:RI.number().nullish(),model:RI.string().nullish(),choices:RI.array(RI.object({text:RI.string(),finish_reason:RI.string(),logprobs:RI.object({tokens:RI.array(RI.string()),token_logprobs:RI.array(RI.number()),top_logprobs:RI.array(RI.record(RI.string(),RI.number())).nullable()}).nullish()})),usage:RI.object({prompt_tokens:RI.number(),completion_tokens:RI.number()})}),zR=RI.union([RI.object({id:RI.string().nullish(),created:RI.number().nullish(),model:RI.string().nullish(),choices:RI.array(RI.object({text:RI.string(),finish_reason:RI.string().nullish(),index:RI.number(),logprobs:RI.object({tokens:RI.array(RI.string()),token_logprobs:RI.array(RI.number()),top_logprobs:RI.array(RI.record(RI.string(),RI.number())).nullable()}).nullish()})),usage:RI.object({prompt_tokens:RI.number(),completion_tokens:RI.number()}).nullish()}),AR]),WR=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.settings.supportsParallelCalls)||e}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new eE({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:o}=await FE({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:mE(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:IR,successfulResponseHandler:ZE(ZR),abortSignal:n,fetch:this.config.fetch});return{embeddings:o.data.map((e=>e.embedding)),usage:o.usage?{tokens:o.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},ZR=RI.object({data:RI.array(RI.object({embedding:RI.array(RI.number())})),usage:RI.object({prompt_tokens:RI.number()}).nullish()}),GR={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},KR=new Set(["gpt-image-1"]),YR=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return null!=(t=null!=(e=this.settings.maxImagesPerCall)?e:GR[this.modelId])?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:o,providerOptions:s,headers:i,abortSignal:a}){var c,u,l,p;const d=[];null!=r&&d.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=o&&d.push({type:"unsupported-setting",setting:"seed"});const f=null!=(l=null==(u=null==(c=this.config._internal)?void 0:c.currentDate)?void 0:u.call(c))?l:new Date,{value:h,responseHeaders:m}=await FE({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:mE(this.config.headers(),i),body:{model:this.modelId,prompt:e,n:t,size:n,...null!=(p=s.openai)?p:{},...KR.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:IR,successfulResponseHandler:ZE(JR),abortSignal:a,fetch:this.config.fetch});return{images:h.data.map((e=>e.b64_json)),warnings:d,response:{timestamp:f,modelId:this.modelId,headers:m}}}},JR=RI.object({data:RI.array(RI.object({b64_json:RI.string()}))}),XR=RI.object({include:RI.array(RI.string()).nullish(),language:RI.string().nullish(),prompt:RI.string().nullish(),temperature:RI.number().min(0).max(1).nullish().default(0),timestampGranularities:RI.array(RI.enum(["word","segment"])).nullish().default(["segment"])}),QR={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},eC=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:n}){var r,o,s,i,a;const c=[],u=LE({provider:"openai",providerOptions:n,schema:XR}),l=new FormData,p=e instanceof Uint8Array?new Blob([e]):new Blob([JE(e)]);if(l.append("model",this.modelId),l.append("file",new File([p],"audio",{type:t})),u){const e={include:null!=(r=u.include)?r:void 0,language:null!=(o=u.language)?o:void 0,prompt:null!=(s=u.prompt)?s:void 0,temperature:null!=(i=u.temperature)?i:void 0,timestamp_granularities:null!=(a=u.timestampGranularities)?a:void 0};for(const t in e){const n=e[t];void 0!==n&&l.append(t,String(n))}}return{formData:l,warnings:c}}async doGenerate(e){var t,n,r,o,s,i;const a=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{formData:c,warnings:u}=this.getArgs(e),{value:l,responseHeaders:p,rawValue:d}=await UE({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),formData:c,failedResponseHandler:IR,successfulResponseHandler:ZE(tC),abortSignal:e.abortSignal,fetch:this.config.fetch}),f=null!=l.language&&l.language in QR?QR[l.language]:void 0;return{text:l.text,segments:null!=(s=null==(o=l.words)?void 0:o.map((e=>({text:e.word,startSecond:e.start,endSecond:e.end}))))?s:[],language:f,durationInSeconds:null!=(i=l.duration)?i:void 0,warnings:u,response:{timestamp:a,modelId:this.modelId,headers:p,body:d}}}},tC=RI.object({text:RI.string(),language:RI.string().nullish(),duration:RI.number().nullish(),words:RI.array(RI.object({word:RI.string(),start:RI.number(),end:RI.number()})).nullish()});function nC({prompt:e,systemMessageMode:t}){const n=[],r=[];for(const{role:o,content:s}of e)switch(o){case"system":switch(t){case"system":n.push({role:"system",content:s});break;case"developer":n.push({role:"developer",content:s});break;case"remove":r.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error(`Unsupported system message mode: ${t}`)}break;case"user":n.push({role:"user",content:s.map(((e,t)=>{var n,r,o,s;switch(e.type){case"text":return{type:"input_text",text:e.text};case"image":return{type:"input_image",image_url:e.image instanceof URL?e.image.toString():`data:${null!=(n=e.mimeType)?n:"image/jpeg"};base64,${XE(e.image)}`,detail:null==(o=null==(r=e.providerMetadata)?void 0:r.openai)?void 0:o.imageDetail};case"file":if(e.data instanceof URL)throw new pE({functionality:"File URLs in user messages"});if("application/pdf"===e.mimeType)return{type:"input_file",filename:null!=(s=e.filename)?s:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`};throw new pE({functionality:"Only PDF files are supported in user messages"})}}))});break;case"assistant":for(const e of s)switch(e.type){case"text":n.push({role:"assistant",content:[{type:"output_text",text:e.text}]});break;case"tool-call":n.push({type:"function_call",call_id:e.toolCallId,name:e.toolName,arguments:JSON.stringify(e.args)})}break;case"tool":for(const e of s)n.push({type:"function_call_output",call_id:e.toolCallId,output:JSON.stringify(e.result)});break;default:throw new Error(`Unsupported role: ${o}`)}return{messages:n,warnings:r}}function rC({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}function oC({mode:e,strict:t}){var n;const r=(null==(n=e.tools)?void 0:n.length)?e.tools:void 0,o=[];if(null==r)return{tools:void 0,tool_choice:void 0,toolWarnings:o};const s=e.toolChoice,i=[];for(const e of r)switch(e.type){case"function":i.push({type:"function",name:e.name,description:e.description,parameters:e.parameters,strict:!!t||void 0});break;case"provider-defined":"openai.web_search_preview"===e.id?i.push({type:"web_search_preview",search_context_size:e.args.searchContextSize,user_location:e.args.userLocation}):o.push({type:"unsupported-tool",tool:e});break;default:o.push({type:"unsupported-tool",tool:e})}if(null==s)return{tools:i,tool_choice:void 0,toolWarnings:o};const a=s.type;switch(a){case"auto":case"none":case"required":return{tools:i,tool_choice:a,toolWarnings:o};case"tool":return"web_search_preview"===s.toolName?{tools:i,tool_choice:{type:"web_search_preview"},toolWarnings:o}:{tools:i,tool_choice:{type:"function",name:s.toolName},toolWarnings:o};default:throw new pE({functionality:`Unsupported tool choice type: ${a}`})}}var sC=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:t,temperature:n,stopSequences:r,topP:o,topK:s,presencePenalty:i,frequencyPenalty:a,seed:c,prompt:u,providerMetadata:l,responseFormat:p}){var d,f,h;const m=[],g=SC(this.modelId),y=e.type;null!=s&&m.push({type:"unsupported-setting",setting:"topK"}),null!=c&&m.push({type:"unsupported-setting",setting:"seed"}),null!=i&&m.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=a&&m.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&m.push({type:"unsupported-setting",setting:"stopSequences"});const{messages:v,warnings:b}=nC({prompt:u,systemMessageMode:g.systemMessageMode});m.push(...b);const _=LE({provider:"openai",providerOptions:l,schema:TC}),w=null==(d=null==_?void 0:_.strictSchemas)||d,x={model:this.modelId,input:v,temperature:n,top_p:o,max_output_tokens:t,..."json"===(null==p?void 0:p.type)&&{text:{format:null!=p.schema?{type:"json_schema",strict:w,name:null!=(f=p.name)?f:"response",description:p.description,schema:p.schema}:{type:"json_object"}}},metadata:null==_?void 0:_.metadata,parallel_tool_calls:null==_?void 0:_.parallelToolCalls,previous_response_id:null==_?void 0:_.previousResponseId,store:null==_?void 0:_.store,user:null==_?void 0:_.user,instructions:null==_?void 0:_.instructions,...g.isReasoningModel&&(null!=(null==_?void 0:_.reasoningEffort)||null!=(null==_?void 0:_.reasoningSummary))&&{reasoning:{...null!=(null==_?void 0:_.reasoningEffort)&&{effort:_.reasoningEffort},...null!=(null==_?void 0:_.reasoningSummary)&&{summary:_.reasoningSummary}}},...g.requiredAutoTruncation&&{truncation:"auto"}};switch(g.isReasoningModel&&(null!=x.temperature&&(x.temperature=void 0,m.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=x.top_p&&(x.top_p=void 0,m.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),y){case"regular":{const{tools:t,tool_choice:n,toolWarnings:r}=oC({mode:e,strict:w});return{args:{...x,tools:t,tool_choice:n},warnings:[...m,...r]}}case"object-json":return{args:{...x,text:{format:null!=e.schema?{type:"json_schema",strict:w,name:null!=(h=e.name)?h:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:m};case"object-tool":return{args:{...x,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:w}]},warnings:m};default:throw new Error(`Unsupported type: ${y}`)}}async doGenerate(e){var t,n,r,o,s,i,a;const{args:c,warnings:u}=this.getArgs(e),{responseHeaders:l,value:p,rawValue:d}=await FE({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:c,failedResponseHandler:IR,successfulResponseHandler:ZE(RI.object({id:RI.string(),created_at:RI.number(),model:RI.string(),output:RI.array(RI.discriminatedUnion("type",[RI.object({type:RI.literal("message"),role:RI.literal("assistant"),content:RI.array(RI.object({type:RI.literal("output_text"),text:RI.string(),annotations:RI.array(RI.object({type:RI.literal("url_citation"),start_index:RI.number(),end_index:RI.number(),url:RI.string(),title:RI.string()}))}))}),RI.object({type:RI.literal("function_call"),call_id:RI.string(),name:RI.string(),arguments:RI.string()}),RI.object({type:RI.literal("web_search_call")}),RI.object({type:RI.literal("computer_call")}),RI.object({type:RI.literal("reasoning"),summary:RI.array(RI.object({type:RI.literal("summary_text"),text:RI.string()}))})])),incomplete_details:RI.object({reason:RI.string()}).nullable(),usage:iC})),abortSignal:e.abortSignal,fetch:this.config.fetch}),f=p.output.filter((e=>"message"===e.type)).flatMap((e=>e.content)).filter((e=>"output_text"===e.type)),h=p.output.filter((e=>"function_call"===e.type)).map((e=>({toolCallType:"function",toolCallId:e.call_id,toolName:e.name,args:e.arguments}))),m=null!=(n=null==(t=p.output.find((e=>"reasoning"===e.type)))?void 0:t.summary)?n:null;return{text:f.map((e=>e.text)).join("\n"),sources:f.flatMap((e=>e.annotations.map((e=>{var t,n,r;return{sourceType:"url",id:null!=(r=null==(n=(t=this.config).generateId)?void 0:n.call(t))?r:xE(),url:e.url,title:e.title}})))),finishReason:rC({finishReason:null==(r=p.incomplete_details)?void 0:r.reason,hasToolCalls:h.length>0}),toolCalls:h.length>0?h:void 0,reasoning:m?m.map((e=>({type:"text",text:e.text}))):void 0,usage:{promptTokens:p.usage.input_tokens,completionTokens:p.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:l,body:d},request:{body:JSON.stringify(c)},response:{id:p.id,timestamp:new Date(1e3*p.created_at),modelId:p.model},providerMetadata:{openai:{responseId:p.id,cachedPromptTokens:null!=(s=null==(o=p.usage.input_tokens_details)?void 0:o.cached_tokens)?s:null,reasoningTokens:null!=(a=null==(i=p.usage.output_tokens_details)?void 0:i.reasoning_tokens)?a:null}},warnings:u}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:o}=await FE({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:IR,successfulResponseHandler:WE(mC),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=this;let i="unknown",a=NaN,c=NaN,u=null,l=null,p=null;const d={};let f=!1;return{stream:o.pipeThrough(new TransformStream({transform(e,t){var n,r,o,h,m,g,y,v;if(!e.success)return i="error",void t.enqueue({type:"error",error:e.error});const b=e.value;if(wC(b))"function_call"===b.item.type&&(d[b.output_index]={toolName:b.item.name,toolCallId:b.item.call_id},t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,argsTextDelta:b.item.arguments}));else if(_C(b)){const e=d[b.output_index];null!=e&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:b.delta})}else bC(b)?(p=b.response.id,t.enqueue({type:"response-metadata",id:b.response.id,timestamp:new Date(1e3*b.response.created_at),modelId:b.response.model})):gC(b)?t.enqueue({type:"text-delta",textDelta:b.delta}):kC(b)?t.enqueue({type:"reasoning",textDelta:b.delta}):yC(b)&&"function_call"===b.item.type?(d[b.output_index]=void 0,f=!0,t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,args:b.item.arguments})):vC(b)?(i=rC({finishReason:null==(n=b.response.incomplete_details)?void 0:n.reason,hasToolCalls:f}),a=b.response.usage.input_tokens,c=b.response.usage.output_tokens,u=null!=(o=null==(r=b.response.usage.input_tokens_details)?void 0:r.cached_tokens)?o:u,l=null!=(m=null==(h=b.response.usage.output_tokens_details)?void 0:h.reasoning_tokens)?m:l):xC(b)&&t.enqueue({type:"source",source:{sourceType:"url",id:null!=(v=null==(y=(g=s.config).generateId)?void 0:y.call(g))?v:xE(),url:b.annotation.url,title:b.annotation.title}})},flush(e){e.enqueue({type:"finish",finishReason:i,usage:{promptTokens:a,completionTokens:c},...(null!=u||null!=l)&&{providerMetadata:{openai:{responseId:p,cachedPromptTokens:u,reasoningTokens:l}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:r},request:{body:JSON.stringify(t)},warnings:n}}},iC=RI.object({input_tokens:RI.number(),input_tokens_details:RI.object({cached_tokens:RI.number().nullish()}).nullish(),output_tokens:RI.number(),output_tokens_details:RI.object({reasoning_tokens:RI.number().nullish()}).nullish()}),aC=RI.object({type:RI.literal("response.output_text.delta"),delta:RI.string()}),cC=RI.object({type:RI.enum(["response.completed","response.incomplete"]),response:RI.object({incomplete_details:RI.object({reason:RI.string()}).nullish(),usage:iC})}),uC=RI.object({type:RI.literal("response.created"),response:RI.object({id:RI.string(),created_at:RI.number(),model:RI.string()})}),lC=RI.object({type:RI.literal("response.output_item.done"),output_index:RI.number(),item:RI.discriminatedUnion("type",[RI.object({type:RI.literal("message")}),RI.object({type:RI.literal("function_call"),id:RI.string(),call_id:RI.string(),name:RI.string(),arguments:RI.string(),status:RI.literal("completed")})])}),pC=RI.object({type:RI.literal("response.function_call_arguments.delta"),item_id:RI.string(),output_index:RI.number(),delta:RI.string()}),dC=RI.object({type:RI.literal("response.output_item.added"),output_index:RI.number(),item:RI.discriminatedUnion("type",[RI.object({type:RI.literal("message")}),RI.object({type:RI.literal("function_call"),id:RI.string(),call_id:RI.string(),name:RI.string(),arguments:RI.string()})])}),fC=RI.object({type:RI.literal("response.output_text.annotation.added"),annotation:RI.object({type:RI.literal("url_citation"),url:RI.string(),title:RI.string()})}),hC=RI.object({type:RI.literal("response.reasoning_summary_text.delta"),item_id:RI.string(),output_index:RI.number(),summary_index:RI.number(),delta:RI.string()}),mC=RI.union([aC,cC,uC,lC,pC,dC,fC,hC,RI.object({type:RI.string()}).passthrough()]);function gC(e){return"response.output_text.delta"===e.type}function yC(e){return"response.output_item.done"===e.type}function vC(e){return"response.completed"===e.type||"response.incomplete"===e.type}function bC(e){return"response.created"===e.type}function _C(e){return"response.function_call_arguments.delta"===e.type}function wC(e){return"response.output_item.added"===e.type}function xC(e){return"response.output_text.annotation.added"===e.type}function kC(e){return"response.reasoning_summary_text.delta"===e.type}function SC(e){return e.startsWith("o")?e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1}:{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}var TC=RI.object({metadata:RI.any().nullish(),parallelToolCalls:RI.boolean().nullish(),previousResponseId:RI.string().nullish(),store:RI.boolean().nullish(),user:RI.string().nullish(),reasoningEffort:RI.string().nullish(),strictSchemas:RI.boolean().nullish(),instructions:RI.string().nullish(),reasoningSummary:RI.string().nullish()}),OC=RI.object({});function EC({searchContextSize:e,userLocation:t}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:t},parameters:OC}}var jC={webSearchPreview:EC},AC=RI.object({instructions:RI.string().nullish(),speed:RI.number().min(.25).max(4).default(1).nullish()}),IC=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:t="alloy",outputFormat:n="mp3",speed:r,instructions:o,providerOptions:s}){const i=[],a=LE({provider:"openai",providerOptions:s,schema:AC}),c={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:r,instructions:o};if(n&&(["mp3","opus","aac","flac","wav","pcm"].includes(n)?c.response_format=n:i.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${n}. Using mp3 instead.`})),a){const e={};for(const t in e){const n=e[t];void 0!==n&&(c[t]=n)}}return{requestBody:c,warnings:i}}async doGenerate(e){var t,n,r;const o=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{requestBody:s,warnings:i}=this.getArgs(e),{value:a,responseHeaders:c,rawValue:u}=await FE({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:s,failedResponseHandler:IR,successfulResponseHandler:GE(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:a,warnings:i,request:{body:JSON.stringify(s)},response:{timestamp:o,modelId:this.modelId,headers:c,body:u}}}};function RC(e={}){var t,n,r;const o=null!=(t=QE(e.baseURL))?t:"https://api.openai.com/v1",s=null!=(n=e.compatibility)?n:"compatible",i=null!=(r=e.name)?r:"openai",a=()=>({Authorization:`Bearer ${OE({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),c=(t,n={})=>new NR(t,n,{provider:`${i}.chat`,url:({path:e})=>`${o}${e}`,headers:a,compatibility:s,fetch:e.fetch}),u=(t,n={})=>new VR(t,n,{provider:`${i}.completion`,url:({path:e})=>`${o}${e}`,headers:a,compatibility:s,fetch:e.fetch}),l=(t,n={})=>new WR(t,n,{provider:`${i}.embedding`,url:({path:e})=>`${o}${e}`,headers:a,fetch:e.fetch}),p=(t,n={})=>new YR(t,n,{provider:`${i}.image`,url:({path:e})=>`${o}${e}`,headers:a,fetch:e.fetch}),d=t=>new eC(t,{provider:`${i}.transcription`,url:({path:e})=>`${o}${e}`,headers:a,fetch:e.fetch}),f=t=>new IC(t,{provider:`${i}.speech`,url:({path:e})=>`${o}${e}`,headers:a,fetch:e.fetch}),h=(e,t)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return"gpt-3.5-turbo-instruct"===e?u(e,t):c(e,t)},m=t=>new sC(t,{provider:`${i}.responses`,url:({path:e})=>`${o}${e}`,headers:a,fetch:e.fetch}),g=function(e,t){return h(e,t)};return g.languageModel=h,g.chat=c,g.completion=u,g.responses=m,g.embedding=l,g.textEmbedding=l,g.textEmbeddingModel=l,g.image=p,g.imageModel=p,g.transcription=d,g.transcriptionModel=d,g.speech=f,g.speechModel=f,g.tools=jC,g}function CC(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.providerMetadata)?void 0:t.openaiCompatible)?n:{}}function NC(e){const t=[];for(const{role:n,content:r,...o}of e){const e=CC({...o});switch(n){case"system":t.push({role:"system",content:r,...e});break;case"user":if(1===r.length&&"text"===r[0].type){t.push({role:"user",content:r[0].text,...CC(r[0])});break}t.push({role:"user",content:r.map((e=>{var t;const n=CC(e);switch(e.type){case"text":return{type:"text",text:e.text,...n};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${XE(e.image)}`},...n};case"file":throw new pE({functionality:"File content parts in user messages"})}})),...e});break;case"assistant":{let n="";const o=[];for(const e of r){const t=CC(e);switch(e.type){case"text":n+=e.text;break;case"tool-call":o.push({id:e.toolCallId,type:"function",function:{name:e.toolName,arguments:JSON.stringify(e.args)},...t})}}t.push({role:"assistant",content:n,tool_calls:o.length>0?o:void 0,...e});break}case"tool":for(const e of r){const n=CC(e);t.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result),...n})}break;default:throw new Error(`Unsupported role: ${n}`)}}return t}function PC({id:e,model:t,created:n}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=n?new Date(1e3*n):void 0}}function MC(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}RC({compatibility:"strict"});var $C={errorSchema:RI.object({error:RI.object({message:RI.string(),type:RI.string().nullish(),param:RI.any().nullish(),code:RI.union([RI.string(),RI.number()]).nullish()})}),errorToMessage:e=>e.error.message};function LC({mode:e,structuredOutputs:t}){var n;const r=(null==(n=e.tools)?void 0:n.length)?e.tools:void 0,o=[];if(null==r)return{tools:void 0,tool_choice:void 0,toolWarnings:o};const s=e.toolChoice,i=[];for(const e of r)"provider-defined"===e.type?o.push({type:"unsupported-tool",tool:e}):i.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters}});if(null==s)return{tools:i,tool_choice:void 0,toolWarnings:o};const a=s.type;switch(a){case"auto":case"none":case"required":return{tools:i,tool_choice:a,toolWarnings:o};case"tool":return{tools:i,tool_choice:{type:"function",function:{name:s.toolName}},toolWarnings:o};default:throw new pE({functionality:`Unsupported tool choice type: ${a}`})}}var DC=class{constructor(e,t,n){var r,o;this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n;const s=null!=(r=n.errorStructure)?r:$C;this.chunkSchema=BC(s.errorSchema),this.failedResponseHandler=zE(s),this.supportsStructuredOutputs=null!=(o=n.supportsStructuredOutputs)&&o}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:o,topK:s,frequencyPenalty:i,presencePenalty:a,providerMetadata:c,stopSequences:u,responseFormat:l,seed:p}){var d,f,h,m,g;const y=e.type,v=[];null!=s&&v.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==l?void 0:l.type)||null==l.schema||this.supportsStructuredOutputs||v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const b={model:this.modelId,user:this.settings.user,max_tokens:n,temperature:r,top_p:o,frequency_penalty:i,presence_penalty:a,response_format:"json"===(null==l?void 0:l.type)?!0===this.supportsStructuredOutputs&&null!=l.schema?{type:"json_schema",json_schema:{schema:l.schema,name:null!=(d=l.name)?d:"response",description:l.description}}:{type:"json_object"}:void 0,stop:u,seed:p,...null==c?void 0:c[this.providerOptionsName],reasoning_effort:null!=(m=null==(f=null==c?void 0:c[this.providerOptionsName])?void 0:f.reasoningEffort)?m:null==(h=null==c?void 0:c["openai-compatible"])?void 0:h.reasoningEffort,messages:NC(t)};switch(y){case"regular":{const{tools:t,tool_choice:n,toolWarnings:r}=LC({mode:e,structuredOutputs:this.supportsStructuredOutputs});return{args:{...b,tools:t,tool_choice:n},warnings:[...v,...r]}}case"object-json":return{args:{...b,response_format:!0===this.supportsStructuredOutputs&&null!=e.schema?{type:"json_schema",json_schema:{schema:e.schema,name:null!=(g=e.name)?g:"response",description:e.description}}:{type:"json_object"}},warnings:v};case"object-tool":return{args:{...b,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:v};default:throw new Error(`Unsupported type: ${y}`)}}async doGenerate(e){var t,n,r,o,s,i,a,c,u,l,p;const{args:d,warnings:f}=this.getArgs({...e}),h=JSON.stringify(d),{responseHeaders:m,value:g,rawValue:y}=await FE({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:d,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:ZE(UC),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:v,...b}=d,_=g.choices[0],w={[this.providerOptionsName]:{},...null==(n=null==(t=this.config.metadataExtractor)?void 0:t.extractMetadata)?void 0:n.call(t,{parsedBody:y})},x=null==(r=g.usage)?void 0:r.completion_tokens_details,k=null==(o=g.usage)?void 0:o.prompt_tokens_details;return null!=(null==x?void 0:x.reasoning_tokens)&&(w[this.providerOptionsName].reasoningTokens=null==x?void 0:x.reasoning_tokens),null!=(null==x?void 0:x.accepted_prediction_tokens)&&(w[this.providerOptionsName].acceptedPredictionTokens=null==x?void 0:x.accepted_prediction_tokens),null!=(null==x?void 0:x.rejected_prediction_tokens)&&(w[this.providerOptionsName].rejectedPredictionTokens=null==x?void 0:x.rejected_prediction_tokens),null!=(null==k?void 0:k.cached_tokens)&&(w[this.providerOptionsName].cachedPromptTokens=null==k?void 0:k.cached_tokens),{text:null!=(s=_.message.content)?s:void 0,reasoning:null!=(i=_.message.reasoning_content)?i:void 0,toolCalls:null==(a=_.message.tool_calls)?void 0:a.map((e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:xE(),toolName:e.function.name,args:e.function.arguments}})),finishReason:MC(_.finish_reason),usage:{promptTokens:null!=(u=null==(c=g.usage)?void 0:c.prompt_tokens)?u:NaN,completionTokens:null!=(p=null==(l=g.usage)?void 0:l.completion_tokens)?p:NaN},providerMetadata:w,rawCall:{rawPrompt:v,rawSettings:b},rawResponse:{headers:m,body:y},response:PC(g),warnings:f,request:{body:h}}}async doStream(e){var t;if(this.settings.simulateStreaming){const t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.reasoning)if(Array.isArray(t.reasoning))for(const n of t.reasoning)"text"===n.type&&e.enqueue({type:"reasoning",textDelta:n.text});else e.enqueue({type:"reasoning",textDelta:t.reasoning});if(t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(const n of t.toolCalls)e.enqueue({type:"tool-call",...n});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}const{args:n,warnings:r}=this.getArgs({...e}),o={...n,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},s=null==(t=this.config.metadataExtractor)?void 0:t.createStreamExtractor(),{responseHeaders:i,value:a}=await FE({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mE(this.config.headers(),e.headers),body:o,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:WE(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:c,...u}=n,l=[];let p="unknown",d={completionTokens:void 0,completionTokensDetails:{reasoningTokens:void 0,acceptedPredictionTokens:void 0,rejectedPredictionTokens:void 0},promptTokens:void 0,promptTokensDetails:{cachedTokens:void 0}},f=!0,h=this.providerOptionsName;return{stream:a.pipeThrough(new TransformStream({transform(e,t){var n,r,o,i,a,c,u,h,m,g,y,v;if(!e.success)return p="error",void t.enqueue({type:"error",error:e.error});const b=e.value;if(null==s||s.processChunk(e.rawValue),"error"in b)return p="error",void t.enqueue({type:"error",error:b.error.message});if(f&&(f=!1,t.enqueue({type:"response-metadata",...PC(b)})),null!=b.usage){const{prompt_tokens:e,completion_tokens:t,prompt_tokens_details:n,completion_tokens_details:r}=b.usage;d.promptTokens=null!=e?e:void 0,d.completionTokens=null!=t?t:void 0,null!=(null==r?void 0:r.reasoning_tokens)&&(d.completionTokensDetails.reasoningTokens=null==r?void 0:r.reasoning_tokens),null!=(null==r?void 0:r.accepted_prediction_tokens)&&(d.completionTokensDetails.acceptedPredictionTokens=null==r?void 0:r.accepted_prediction_tokens),null!=(null==r?void 0:r.rejected_prediction_tokens)&&(d.completionTokensDetails.rejectedPredictionTokens=null==r?void 0:r.rejected_prediction_tokens),null!=(null==n?void 0:n.cached_tokens)&&(d.promptTokensDetails.cachedTokens=null==n?void 0:n.cached_tokens)}const _=b.choices[0];if(null!=(null==_?void 0:_.finish_reason)&&(p=MC(_.finish_reason)),null==(null==_?void 0:_.delta))return;const w=_.delta;if(null!=w.reasoning_content&&t.enqueue({type:"reasoning",textDelta:w.reasoning_content}),null!=w.content&&t.enqueue({type:"text-delta",textDelta:w.content}),null!=w.tool_calls)for(const e of w.tool_calls){const s=e.index;if(null==l[s]){if("function"!==e.type)throw new CO({data:e,message:"Expected 'function' type."});if(null==e.id)throw new CO({data:e,message:"Expected 'id' to be a string."});if(null==(null==(n=e.function)?void 0:n.name))throw new CO({data:e,message:"Expected 'function.name' to be a string."});l[s]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(r=e.function.arguments)?r:""},hasFinished:!1};const c=l[s];null!=(null==(o=c.function)?void 0:o.name)&&null!=(null==(i=c.function)?void 0:i.arguments)&&(c.function.arguments.length>0&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:c.id,toolName:c.function.name,argsTextDelta:c.function.arguments}),$E(c.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(a=c.id)?a:xE(),toolName:c.function.name,args:c.function.arguments}),c.hasFinished=!0));continue}const p=l[s];p.hasFinished||(null!=(null==(c=e.function)?void 0:c.arguments)&&(p.function.arguments+=null!=(h=null==(u=e.function)?void 0:u.arguments)?h:""),t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:p.id,toolName:p.function.name,argsTextDelta:null!=(m=e.function.arguments)?m:""}),null!=(null==(g=p.function)?void 0:g.name)&&null!=(null==(y=p.function)?void 0:y.arguments)&&$E(p.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(v=p.id)?v:xE(),toolName:p.function.name,args:p.function.arguments}),p.hasFinished=!0))}},flush(e){var t,n;const r={[h]:{},...null==s?void 0:s.buildMetadata()};null!=d.completionTokensDetails.reasoningTokens&&(r[h].reasoningTokens=d.completionTokensDetails.reasoningTokens),null!=d.completionTokensDetails.acceptedPredictionTokens&&(r[h].acceptedPredictionTokens=d.completionTokensDetails.acceptedPredictionTokens),null!=d.completionTokensDetails.rejectedPredictionTokens&&(r[h].rejectedPredictionTokens=d.completionTokensDetails.rejectedPredictionTokens),null!=d.promptTokensDetails.cachedTokens&&(r[h].cachedPromptTokens=d.promptTokensDetails.cachedTokens),e.enqueue({type:"finish",finishReason:p,usage:{promptTokens:null!=(t=d.promptTokens)?t:NaN,completionTokens:null!=(n=d.completionTokens)?n:NaN},providerMetadata:r})}})),rawCall:{rawPrompt:c,rawSettings:u},rawResponse:{headers:i},warnings:r,request:{body:JSON.stringify(o)}}}},FC=RI.object({prompt_tokens:RI.number().nullish(),completion_tokens:RI.number().nullish(),prompt_tokens_details:RI.object({cached_tokens:RI.number().nullish()}).nullish(),completion_tokens_details:RI.object({reasoning_tokens:RI.number().nullish(),accepted_prediction_tokens:RI.number().nullish(),rejected_prediction_tokens:RI.number().nullish()}).nullish()}).nullish(),UC=RI.object({id:RI.string().nullish(),created:RI.number().nullish(),model:RI.string().nullish(),choices:RI.array(RI.object({message:RI.object({role:RI.literal("assistant").nullish(),content:RI.string().nullish(),reasoning_content:RI.string().nullish(),tool_calls:RI.array(RI.object({id:RI.string().nullish(),type:RI.literal("function"),function:RI.object({name:RI.string(),arguments:RI.string()})})).nullish()}),finish_reason:RI.string().nullish()})),usage:FC}),BC=e=>RI.union([RI.object({id:RI.string().nullish(),created:RI.number().nullish(),model:RI.string().nullish(),choices:RI.array(RI.object({delta:RI.object({role:RI.enum(["assistant"]).nullish(),content:RI.string().nullish(),reasoning_content:RI.string().nullish(),tool_calls:RI.array(RI.object({index:RI.number(),id:RI.string().nullish(),type:RI.literal("function").nullish(),function:RI.object({name:RI.string().nullish(),arguments:RI.string().nullish()})})).nullish()}).nullish(),finish_reason:RI.string().nullish()})),usage:FC}),e]);RI.object({id:RI.string().nullish(),created:RI.number().nullish(),model:RI.string().nullish(),choices:RI.array(RI.object({text:RI.string(),finish_reason:RI.string()})),usage:RI.object({prompt_tokens:RI.number(),completion_tokens:RI.number()}).nullish()}),RI.object({data:RI.array(RI.object({embedding:RI.array(RI.number())})),usage:RI.object({prompt_tokens:RI.number()}).nullish()});var qC=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e;return null!=(e=this.settings.maxImagesPerCall)?e:10}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:o,providerOptions:s,headers:i,abortSignal:a}){var c,u,l,p,d;const f=[];null!=r&&f.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=o&&f.push({type:"unsupported-setting",setting:"seed"});const h=null!=(l=null==(u=null==(c=this.config._internal)?void 0:c.currentDate)?void 0:u.call(c))?l:new Date,{value:m,responseHeaders:g}=await FE({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:mE(this.config.headers(),i),body:{model:this.modelId,prompt:e,n:t,size:n,...null!=(p=s.openai)?p:{},response_format:"b64_json",...this.settings.user?{user:this.settings.user}:{}},failedResponseHandler:zE(null!=(d=this.config.errorStructure)?d:$C),successfulResponseHandler:ZE(VC),abortSignal:a,fetch:this.config.fetch});return{images:m.data.map((e=>e.b64_json)),warnings:f,response:{timestamp:h,modelId:this.modelId,headers:g}}}},VC=RI.object({data:RI.array(RI.object({b64_json:RI.string()}))});function HC(e){return["grok-3","grok-3-beta","grok-3-latest","grok-3-fast","grok-3-fast-beta","grok-3-fast-latest","grok-3-mini","grok-3-mini-beta","grok-3-mini-latest","grok-3-mini-fast","grok-3-mini-fast-beta","grok-3-mini-fast-latest","grok-2-1212","grok-2-vision-1212"].includes(e)}var zC={errorSchema:RI.object({code:RI.string(),error:RI.string()}),errorToMessage:e=>e.error};function WC(e={}){var t;const n=QE(null!=(t=e.baseURL)?t:"https://api.x.ai/v1"),r=()=>({Authorization:`Bearer ${OE({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"})}`,...e.headers}),o=(t,o={})=>{const s=HC(t);return new DC(t,o,{provider:"xai.chat",url:({path:e})=>`${n}${e}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:s?"json":"tool",errorStructure:zC,supportsStructuredOutputs:s,includeUsage:!0})},s=(t,o={})=>new qC(t,o,{provider:"xai.image",url:({path:e})=>`${n}${e}`,headers:r,fetch:e.fetch,errorStructure:zC}),i=(e,t)=>o(e,t);return i.languageModel=o,i.chat=o,i.textEmbeddingModel=e=>{throw new KO({modelId:e,modelType:"textEmbeddingModel"})},i.imageModel=s,i.image=s,i}WC();var ZC,GC="vercel.ai.error",KC=Symbol.for(GC),YC=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[ZC]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,GC)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};ZC=KC;var JC,XC=YC,QC="AI_APICallError",eN=`vercel.ai.error.${QC}`,tN=Symbol.for(eN),nN=class extends XC{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:o,responseBody:s,cause:i,isRetryable:a=null!=r&&(408===r||409===r||429===r||r>=500),data:c}){super({name:QC,message:e,cause:i}),this[JC]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=o,this.responseBody=s,this.isRetryable=a,this.data=c}static isInstance(e){return XC.hasMarker(e,eN)}};JC=tN;var rN,oN="AI_EmptyResponseBodyError",sN=`vercel.ai.error.${oN}`,iN=Symbol.for(sN),aN=class extends XC{constructor({message:e="Empty response body"}={}){super({name:oN,message:e}),this[rN]=!0}static isInstance(e){return XC.hasMarker(e,sN)}};function cN(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}rN=iN;var uN,lN="AI_InvalidArgumentError",pN=`vercel.ai.error.${lN}`,dN=Symbol.for(pN),fN=class extends XC{constructor({message:e,cause:t,argument:n}){super({name:lN,message:e,cause:t}),this[uN]=!0,this.argument=n}static isInstance(e){return XC.hasMarker(e,pN)}};uN=dN;var hN,mN="AI_InvalidPromptError",gN=`vercel.ai.error.${mN}`,yN=Symbol.for(gN),vN=class extends XC{constructor({prompt:e,message:t,cause:n}){super({name:mN,message:`Invalid prompt: ${t}`,cause:n}),this[hN]=!0,this.prompt=e}static isInstance(e){return XC.hasMarker(e,gN)}};hN=yN;var bN,_N="AI_InvalidResponseDataError",wN=`vercel.ai.error.${_N}`,xN=Symbol.for(wN),kN=class extends XC{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:_N,message:t}),this[bN]=!0,this.data=e}static isInstance(e){return XC.hasMarker(e,wN)}};bN=xN;var SN,TN="AI_JSONParseError",ON=`vercel.ai.error.${TN}`,EN=Symbol.for(ON),jN=class extends XC{constructor({text:e,cause:t}){super({name:TN,message:`JSON parsing failed: Text: ${e}.\nError message: ${cN(t)}`,cause:t}),this[SN]=!0,this.text=e}static isInstance(e){return XC.hasMarker(e,ON)}};SN=EN;var AN,IN="AI_LoadAPIKeyError",RN=`vercel.ai.error.${IN}`,CN=Symbol.for(RN),NN=class extends XC{constructor({message:e}){super({name:IN,message:e}),this[AN]=!0}static isInstance(e){return XC.hasMarker(e,RN)}};AN=CN;var PN,MN=`vercel.ai.error.${"AI_LoadSettingError"}`,$N=(Symbol.for(MN),`vercel.ai.error.${"AI_NoContentGeneratedError"}`),LN=(Symbol.for($N),`vercel.ai.error.${"AI_NoSuchModelError"}`),DN=(Symbol.for(LN),`vercel.ai.error.${"AI_TooManyEmbeddingValuesForCallError"}`),FN=(Symbol.for(DN),"AI_TypeValidationError"),UN=`vercel.ai.error.${FN}`,BN=Symbol.for(UN),qN=class e extends XC{constructor({value:e,cause:t}){super({name:FN,message:`Type validation failed: Value: ${JSON.stringify(e)}.\nError message: ${cN(t)}`,cause:t}),this[PN]=!0,this.value=e}static isInstance(e){return XC.hasMarker(e,UN)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};PN=BN;var VN,HN=qN,zN="AI_UnsupportedFunctionalityError",WN=`vercel.ai.error.${zN}`,ZN=Symbol.for(WN),GN=class extends XC{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:zN,message:t}),this[VN]=!0,this.functionality=e}static isInstance(e){return XC.hasMarker(e,WN)}};VN=ZN;var KN=Object.defineProperty,YN=(e,t,n)=>t in e?KN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JN=(e,t,n)=>YN(e,"symbol"!=typeof t?t+"":t,n);class XN extends Error{constructor(e,t){super(e),JN(this,"type"),JN(this,"field"),JN(this,"value"),JN(this,"line"),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function QN(e){}function eP(e){const{onEvent:t=QN,onError:n=QN,onRetry:r=QN,onComment:o}=e;let s,i="",a=!0,c="",u="";function l(e){const t=a?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=tP(`${i}${t}`);for(const e of n)p(e);i=r,a=!1}function p(e){if(""===e)return void f();if(e.startsWith(":"))return void(o&&o(e.slice(e.startsWith(": ")?2:1)));const t=e.indexOf(":");if(-1===t)d(e,"",e);else{const n=e.slice(0,t),r=" "===e[t+1]?2:1;d(n,e.slice(t+r),e)}}function d(e,t,o){switch(e){case"event":u=t;break;case"data":c=`${c}${t}\n`;break;case"id":s=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new XN(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:o}));break;default:n(new XN(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:o}))}}function f(){c.length>0&&t({id:s,event:u||void 0,data:c.endsWith("\n")?c.slice(0,-1):c}),s=void 0,c="",u=""}function h(e={}){i&&e.consume&&p(i),s=void 0,c="",u="",i=""}return{feed:l,reset:h}}function tP(e){const t=[];let n="";const r=e.length;for(let o=0;o<r;o++){const r=e[o];"\r"===r&&"\n"===e[o+1]?(t.push(n),n="",o++):"\r"===r||"\n"===r?(t.push(n),n=""):n+=r}return[t,n]}class nP extends TransformStream{constructor({onError:e,onRetry:t,onComment:n}={}){let r;super({start(o){r=eP({onEvent:e=>{o.enqueue(e)},onError(t){"terminate"===e?o.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:n})},transform(e){r.feed(e)}})}}var rP=c(2);function oP(...e){return e.reduce(((e,t)=>({...e,...null!=t?t:{}})),{})}function sP(e){const t={};return e.headers.forEach(((e,n)=>{t[n]=e})),t}var iP=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const o=dE(n,t);if(null==e)return o;if(n.includes(r))throw new fN({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return t=>`${e}${r}${o(t)}`},aP=iP();function cP(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>null!=t)))}function uP(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function lP({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if("string"==typeof e)return e;if(null!=e)throw new NN({message:`${r} API key must be a string.`});if(void 0===rP)throw new NN({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(null==(e={PACKAGE_VERSION:"1.10.7",IS_FIREFOX:!1,IS_CHROMIUM:!0}[t]))throw new NN({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new NN({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var pP=Symbol.for("vercel.ai.validator");function dP(e){return{[pP]:!0,validate:e}}function fP(e){return"object"==typeof e&&null!==e&&pP in e&&!0===e[pP]&&"validate"in e}function hP(e){return fP(e)?e:mP(e)}function mP(e){return dP((t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}))}function gP({value:e,schema:t}){const n=yP({value:e,schema:t});if(!n.success)throw HN.wrap({value:e,cause:n.error});return n.value}function yP({value:e,schema:t}){const n=hP(t);try{if(null==n.validate)return{success:!0,value:e};const t=n.validate(e);return t.success?t:{success:!1,error:HN.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:HN.wrap({value:e,cause:t})}}}function vP({text:e,schema:t}){try{const n=fE.parse(e);return null==t?n:gP({value:n,schema:t})}catch(t){if(jN.isInstance(t)||HN.isInstance(t))throw t;throw new jN({text:e,cause:t})}}function bP({text:e,schema:t}){try{const n=fE.parse(e);if(null==t)return{success:!0,value:n,rawValue:n};const r=yP({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(t){return{success:!1,error:jN.isInstance(t)?t:new jN({text:e,cause:t})}}}function _P(e){try{return fE.parse(e),!0}catch(e){return!1}}var wP=()=>globalThis.fetch,xP=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:o,abortSignal:s,fetch:i})=>kP({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:o,abortSignal:s,fetch:i}),kP=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:o,abortSignal:s,fetch:i=wP()})=>{try{const a=await i(e,{method:"POST",headers:cP(t),body:n.content,signal:s}),c=sP(a);if(!a.ok){let t;try{t=await o({response:a,url:e,requestBodyValues:n.values})}catch(t){if(uP(t)||nN.isInstance(t))throw t;throw new nN({message:"Failed to process error response",cause:t,statusCode:a.status,url:e,responseHeaders:c,requestBodyValues:n.values})}throw t.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(t){if(t instanceof Error&&(uP(t)||nN.isInstance(t)))throw t;throw new nN({message:"Failed to process successful response",cause:t,statusCode:a.status,url:e,responseHeaders:c,requestBodyValues:n.values})}}catch(t){if(uP(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){const r=t.cause;if(null!=r)throw new nN({message:`Cannot connect to API: ${r.message}`,cause:r,url:e,requestBodyValues:n.values,isRetryable:!0})}throw t}},SP=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:o,requestBodyValues:s})=>{const i=await r.text(),a=sP(r);if(""===i.trim())return{responseHeaders:a,value:new nN({message:r.statusText,url:o,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:i,isRetryable:null==n?void 0:n(r)})};try{const c=vP({text:i,schema:e});return{responseHeaders:a,value:new nN({message:t(c),url:o,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:i,data:c,isRetryable:null==n?void 0:n(r,c)})}}catch(e){return{responseHeaders:a,value:new nN({message:r.statusText,url:o,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:i,isRetryable:null==n?void 0:n(r)})}}},TP=e=>async({response:t})=>{const n=sP(t);if(null==t.body)throw new aN({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new nP).pipeThrough(new TransformStream({transform({data:t},n){"[DONE]"!==t&&n.enqueue(bP({text:t,schema:e}))}}))}},OP=e=>async({response:t,url:n,requestBodyValues:r})=>{const o=await t.text(),s=bP({text:o,schema:e}),i=sP(t);if(!s.success)throw new nN({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:i,responseBody:o,url:n,requestBodyValues:r});return{responseHeaders:i,value:s.value,rawValue:s.rawValue}},{btoa:EP,atob:jP}=globalThis;function AP(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return EP(t)}function IP(e){return null==e?void 0:e.replace(/\/$/,"")}var RP=Object.defineProperty,CP=Object.defineProperties,NP=Object.getOwnPropertyDescriptors,PP=Object.getOwnPropertySymbols,MP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable,LP=(e,t,n)=>t in e?RP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DP=(e,t)=>{for(var n in t||(t={}))MP.call(t,n)&&LP(e,n,t[n]);if(PP)for(var n of PP(t))$P.call(t,n)&&LP(e,n,t[n]);return e},FP=(e,t)=>CP(e,NP(t)),UP=(e,t)=>{var n={};for(var r in e)MP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&PP)for(var r of PP(e))t.indexOf(r)<0&&$P.call(e,r)&&(n[r]=e[r]);return n};function BP(e){var t,n,r;const o=null==e?void 0:e.anthropic,s=null==e?void 0:e.openrouter;return null!=(r=null!=(n=null!=(t=null==s?void 0:s.cacheControl)?t:null==s?void 0:s.cache_control)?n:null==o?void 0:o.cacheControl)?r:null==o?void 0:o.cache_control}function qP(e){var t,n,r;const o=[];for(const{role:s,content:i,providerMetadata:a}of e)switch(s){case"system":o.push({role:"system",content:i,cache_control:BP(a)});break;case"user":{if(1===i.length&&"text"===(null==(t=i[0])?void 0:t.type)){o.push({role:"user",content:i[0].text,cache_control:null!=(n=BP(a))?n:BP(i[0].providerMetadata)});break}const e=BP(a),r=i.map((t=>{var n,r,o,s;switch(t.type){case"text":return{type:"text",text:t.text,cache_control:null!=(n=BP(t.providerMetadata))?n:e};case"image":return{type:"image_url",image_url:{url:t.image instanceof URL?t.image.toString():`data:${null!=(r=t.mimeType)?r:"image/jpeg"};base64,${AP(t.image)}`},cache_control:null!=(o=BP(t.providerMetadata))?o:e};case"file":return{type:"text",text:t.data instanceof URL?t.data.toString():t.data,cache_control:null!=(s=BP(t.providerMetadata))?s:e};default:throw new Error(`Unsupported content part type: ${t}`)}}));o.push({role:"user",content:r});break}case"assistant":{let e="";const t=[];for(const n of i)switch(n.type){case"text":e+=n.text;break;case"tool-call":t.push({id:n.toolCallId,type:"function",function:{name:n.toolName,arguments:JSON.stringify(n.args)}});break;case"reasoning":case"redacted-reasoning":break;default:throw new Error(`Unsupported part: ${n}`)}o.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0,cache_control:BP(a)});break}case"tool":for(const e of i)o.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result),cache_control:null!=(r=BP(a))?r:BP(e.providerMetadata)});break;default:throw new Error(`Unsupported role: ${s}`)}return o}function VP(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.content)?void 0:t.map((({token:e,logprob:t,top_logprobs:n})=>({token:e,logprob:t,topLogprobs:n?n.map((({token:e,logprob:t})=>({token:e,logprob:t}))):[]}))))?n:void 0}function HP(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var zP=RI.object({error:RI.object({message:RI.string(),type:RI.string(),param:RI.any().nullable(),code:RI.string().nullable()})}),WP=SP({errorSchema:zP,errorToMessage:e=>e.error.message});function ZP(e){return"parameters"in e}var GP=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:o,frequencyPenalty:s,presencePenalty:i,seed:a,stopSequences:c,responseFormat:u,topK:l,providerMetadata:p}){var d;const f=e.type,h=null!=(d=null==p?void 0:p.openrouter)?d:{},m=DP(DP(DP({model:this.modelId,models:this.settings.models,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:o,frequency_penalty:s,presence_penalty:i,seed:a,stop:c,response_format:u,top_k:l,messages:qP(t),include_reasoning:this.settings.includeReasoning,reasoning:this.settings.reasoning},this.config.extraBody),this.settings.extraBody),h);switch(f){case"regular":return DP(DP({},m),XP(e));case"object-json":return FP(DP({},m),{response_format:{type:"json_object"}});case"object-tool":return FP(DP({},m),{tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]});default:throw new GN({functionality:`${f} mode`})}}async doGenerate(e){var t,n,r,o,s,i,a;const c=this.getArgs(e),{responseHeaders:u,value:l}=await xP({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:oP(this.config.headers(),e.headers),body:c,failedResponseHandler:WP,successfulResponseHandler:OP(YP),abortSignal:e.abortSignal,fetch:this.config.fetch}),p=c,{messages:d}=p,f=UP(p,["messages"]),h=l.choices[0];if(!h)throw new Error("No choice in response");return{response:{id:l.id,modelId:l.model},text:null!=(t=h.message.content)?t:void 0,reasoning:null!=(n=h.message.reasoning)?n:void 0,toolCalls:null==(r=h.message.tool_calls)?void 0:r.map((e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:aP(),toolName:e.function.name,args:e.function.arguments}})),finishReason:HP(h.finish_reason),usage:{promptTokens:null!=(s=null==(o=l.usage)?void 0:o.prompt_tokens)?s:0,completionTokens:null!=(a=null==(i=l.usage)?void 0:i.completion_tokens)?a:0},rawCall:{rawPrompt:d,rawSettings:f},rawResponse:{headers:u},warnings:[],logprobs:VP(h.logprobs)}}async doStream(e){const t=this.getArgs(e),{responseHeaders:n,value:r}=await xP({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:oP(this.config.headers(),e.headers),body:FP(DP({},t),{stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0}),failedResponseHandler:WP,successfulResponseHandler:TP(JP),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=t,{messages:s}=o,i=UP(o,["messages"]),a=[];let c,u="other",l={promptTokens:Number.NaN,completionTokens:Number.NaN};return{stream:r.pipeThrough(new TransformStream({transform(e,t){var n,r,o,s,i,p,d,f,h,m,g,y;if(!e.success)return u="error",void t.enqueue({type:"error",error:e.error});const v=e.value;if("error"in v)return u="error",void t.enqueue({type:"error",error:v.error});v.id&&t.enqueue({type:"response-metadata",id:v.id}),v.model&&t.enqueue({type:"response-metadata",modelId:v.model}),null!=v.usage&&(l={promptTokens:v.usage.prompt_tokens,completionTokens:v.usage.completion_tokens});const b=v.choices[0];if(null!=(null==b?void 0:b.finish_reason)&&(u=HP(b.finish_reason)),null==(null==b?void 0:b.delta))return;const _=b.delta;null!=_.content&&t.enqueue({type:"text-delta",textDelta:_.content}),null!=_.reasoning&&t.enqueue({type:"reasoning",textDelta:_.reasoning});const w=VP(null==b?void 0:b.logprobs);if((null==w?void 0:w.length)&&(void 0===c&&(c=[]),c.push(...w)),null!=_.tool_calls)for(const e of _.tool_calls){const c=e.index;if(null==a[c]){if("function"!==e.type)throw new kN({data:e,message:"Expected 'function' type."});if(null==e.id)throw new kN({data:e,message:"Expected 'id' to be a string."});if(null==(null==(n=e.function)?void 0:n.name))throw new kN({data:e,message:"Expected 'function.name' to be a string."});a[c]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(r=e.function.arguments)?r:""},sent:!1};const u=a[c];if(null==u)throw new Error("Tool call is missing");null!=(null==(o=u.function)?void 0:o.name)&&null!=(null==(s=u.function)?void 0:s.arguments)&&_P(u.function.arguments)&&(t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:u.id,toolName:u.function.name,argsTextDelta:u.function.arguments}),t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(i=u.id)?i:aP(),toolName:u.function.name,args:u.function.arguments}),u.sent=!0);continue}const u=a[c];if(null==u)throw new Error("Tool call is missing");null!=(null==(p=e.function)?void 0:p.arguments)&&(u.function.arguments+=null!=(f=null==(d=e.function)?void 0:d.arguments)?f:""),t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:u.id,toolName:u.function.name,argsTextDelta:null!=(h=e.function.arguments)?h:""}),null!=(null==(m=u.function)?void 0:m.name)&&null!=(null==(g=u.function)?void 0:g.arguments)&&_P(u.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(y=u.id)?y:aP(),toolName:u.function.name,args:u.function.arguments}),u.sent=!0)}},flush(e){var t;if("tool-calls"===u)for(const n of a)n.sent||(e.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(t=n.id)?t:aP(),toolName:n.function.name,args:_P(n.function.arguments)?n.function.arguments:"{}"}),n.sent=!0);e.enqueue({type:"finish",finishReason:u,logprobs:c,usage:l})}})),rawCall:{rawPrompt:s,rawSettings:i},rawResponse:{headers:n},warnings:[]}}},KP=RI.object({id:RI.string().optional(),model:RI.string().optional(),usage:RI.object({prompt_tokens:RI.number(),completion_tokens:RI.number(),total_tokens:RI.number()}).nullish()}),YP=KP.extend({choices:RI.array(RI.object({message:RI.object({role:RI.literal("assistant"),content:RI.string().nullable().optional(),reasoning:RI.string().nullable().optional(),tool_calls:RI.array(RI.object({id:RI.string().optional().nullable(),type:RI.literal("function"),function:RI.object({name:RI.string(),arguments:RI.string()})})).optional()}),index:RI.number(),logprobs:RI.object({content:RI.array(RI.object({token:RI.string(),logprob:RI.number(),top_logprobs:RI.array(RI.object({token:RI.string(),logprob:RI.number()}))})).nullable()}).nullable().optional(),finish_reason:RI.string().optional().nullable()}))}),JP=RI.union([KP.extend({choices:RI.array(RI.object({delta:RI.object({role:RI.enum(["assistant"]).optional(),content:RI.string().nullish(),reasoning:RI.string().nullish().optional(),tool_calls:RI.array(RI.object({index:RI.number(),id:RI.string().nullish(),type:RI.literal("function").optional(),function:RI.object({name:RI.string().nullish(),arguments:RI.string().nullish()})})).nullish()}).nullish(),logprobs:RI.object({content:RI.array(RI.object({token:RI.string(),logprob:RI.number(),top_logprobs:RI.array(RI.object({token:RI.string(),logprob:RI.number()}))})).nullable()}).nullish(),finish_reason:RI.string().nullable().optional(),index:RI.number()}))}),zP]);function XP(e){var t;const n=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0;if(null==n)return{tools:void 0,tool_choice:void 0};const r=n.map((e=>ZP(e)?{type:"function",function:{name:e.name,description:e.description,parameters:e.parameters}}:{type:"function",function:{name:e.name}})),o=e.toolChoice;if(null==o)return{tools:r,tool_choice:void 0};const s=o.type;switch(s){case"auto":case"none":case"required":return{tools:r,tool_choice:s};case"tool":return{tools:r,tool_choice:{type:"function",function:{name:o.toolName}}};default:throw new Error(`Unsupported tool choice type: ${s}`)}}function QP({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if("prompt"===t&&1===e.length&&e[0]&&"user"===e[0].role&&1===e[0].content.length&&e[0].content[0]&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let o="";e[0]&&"system"===e[0].role&&(o+=`${e[0].content}\n\n`,e=e.slice(1));for(const{role:t,content:s}of e)switch(t){case"system":throw new vN({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":o+=`${n}:\n${s.map((e=>{switch(e.type){case"text":return e.text;case"image":throw new GN({functionality:"images"});case"file":throw new GN({functionality:"file attachments"});default:throw new Error(`Unsupported content type: ${e}`)}})).join("")}\n\n`;break;case"assistant":o+=`${r}:\n${s.map((e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new GN({functionality:"tool-call messages"});case"reasoning":throw new GN({functionality:"reasoning messages"});case"redacted-reasoning":throw new GN({functionality:"redacted reasoning messages"});default:throw new Error(`Unsupported content type: ${e}`)}})).join("")}\n\n`;break;case"tool":throw new GN({functionality:"tool messages"});default:throw new Error(`Unsupported role: ${t}`)}return o+=`${r}:\n`,{prompt:o}}function eM(e){return null==e?void 0:e.tokens.map(((t,n)=>{var r,o;return{token:t,logprob:null!=(r=e.token_logprobs[n])?r:0,topLogprobs:e.top_logprobs?Object.entries(null!=(o=e.top_logprobs[n])?o:{}).map((([e,t])=>({token:e,logprob:t}))):[]}}))}var tM=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:o,topP:s,frequencyPenalty:i,presencePenalty:a,seed:c,responseFormat:u,topK:l,stopSequences:p,providerMetadata:d}){var f,h;const m=e.type,g=null!=(f=null==d?void 0:d.openrouter)?f:{},{prompt:y}=QP({prompt:n,inputFormat:t}),v=DP(DP(DP({model:this.modelId,models:this.settings.models,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:o,top_p:s,frequency_penalty:i,presence_penalty:a,seed:c,stop:p,response_format:u,top_k:l,prompt:y,include_reasoning:this.settings.includeReasoning,reasoning:this.settings.reasoning},this.config.extraBody),this.settings.extraBody),g);switch(m){case"regular":if(null==(h=e.tools)?void 0:h.length)throw new GN({functionality:"tools"});if(e.toolChoice)throw new GN({functionality:"toolChoice"});return v;case"object-json":throw new GN({functionality:"object-json mode"});case"object-tool":throw new GN({functionality:"object-tool mode"});default:throw new GN({functionality:`${m} mode`})}}async doGenerate(e){var t,n,r,o,s;const i=this.getArgs(e),{responseHeaders:a,value:c}=await xP({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:oP(this.config.headers(),e.headers),body:i,failedResponseHandler:WP,successfulResponseHandler:OP(nM),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=i,{prompt:l}=u,p=UP(u,["prompt"]);if("error"in c)throw new Error(`${c.error.message}`);const d=c.choices[0];if(!d)throw new Error("No choice in OpenRouter completion response");return{response:{id:c.id,modelId:c.model},text:null!=(t=d.text)?t:"",reasoning:d.reasoning||void 0,usage:{promptTokens:null!=(r=null==(n=c.usage)?void 0:n.prompt_tokens)?r:0,completionTokens:null!=(s=null==(o=c.usage)?void 0:o.completion_tokens)?s:0},finishReason:HP(d.finish_reason),logprobs:eM(d.logprobs),rawCall:{rawPrompt:l,rawSettings:p},rawResponse:{headers:a},warnings:[]}}async doStream(e){const t=this.getArgs(e),{responseHeaders:n,value:r}=await xP({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:oP(this.config.headers(),e.headers),body:FP(DP({},this.getArgs(e)),{stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0}),failedResponseHandler:WP,successfulResponseHandler:TP(nM),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=t,{prompt:s}=o,i=UP(o,["prompt"]);let a,c="other",u={promptTokens:Number.NaN,completionTokens:Number.NaN};return{stream:r.pipeThrough(new TransformStream({transform(e,t){if(!e.success)return c="error",void t.enqueue({type:"error",error:e.error});const n=e.value;if("error"in n)return c="error",void t.enqueue({type:"error",error:n.error});null!=n.usage&&(u={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});const r=n.choices[0];null!=(null==r?void 0:r.finish_reason)&&(c=HP(r.finish_reason)),null!=(null==r?void 0:r.text)&&t.enqueue({type:"text-delta",textDelta:r.text});const o=eM(null==r?void 0:r.logprobs);(null==o?void 0:o.length)&&(void 0===a&&(a=[]),a.push(...o))},flush(e){e.enqueue({type:"finish",finishReason:c,logprobs:a,usage:u})}})),rawCall:{rawPrompt:s,rawSettings:i},rawResponse:{headers:n},warnings:[]}}},nM=RI.union([RI.object({id:RI.string().optional(),model:RI.string().optional(),choices:RI.array(RI.object({text:RI.string(),reasoning:RI.string().nullish().optional(),finish_reason:RI.string().nullish(),index:RI.number(),logprobs:RI.object({tokens:RI.array(RI.string()),token_logprobs:RI.array(RI.number()),top_logprobs:RI.array(RI.record(RI.string(),RI.number())).nullable()}).nullable().optional()})),usage:RI.object({prompt_tokens:RI.number(),completion_tokens:RI.number()}).optional().nullable()}),zP]);function rM(e={}){var t,n,r;const o=null!=(n=IP(null!=(t=e.baseURL)?t:e.baseUrl))?n:"https://openrouter.ai/api/v1",s=null!=(r=e.compatibility)?r:"compatible",i=()=>DP({Authorization:`Bearer ${lP({apiKey:e.apiKey,environmentVariableName:"OPENROUTER_API_KEY",description:"OpenRouter"})}`},e.headers),a=(t,n={})=>new GP(t,n,{provider:"openrouter.chat",url:({path:e})=>`${o}${e}`,headers:i,compatibility:s,fetch:e.fetch,extraBody:e.extraBody}),c=(t,n={})=>new tM(t,n,{provider:"openrouter.completion",url:({path:e})=>`${o}${e}`,headers:i,compatibility:s,fetch:e.fetch,extraBody:e.extraBody}),u=(e,t)=>{if(new.target)throw new Error("The OpenRouter model function cannot be called with the new keyword.");return"openai/gpt-3.5-turbo-instruct"===e?c(e,t):a(e,t)},l=function(e,t){return u(e,t)};return l.languageModel=u,l.chat=a,l.completion=c,l}rM({compatibility:"strict"});var oM="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof c.g?c.g:{},sM="1.9.0",iM=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function aM(e){var t=new Set([e]),n=new Set,r=e.match(iM);if(!r)return function(){return!1};var o={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=o.prerelease)return function(t){return t===e};function s(e){return n.add(e),!1}function i(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(iM);if(!r)return s(e);var a={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};return null!=a.prerelease||o.major!==a.major?s(e):0===o.major?o.minor===a.minor&&o.patch<=a.patch?i(e):s(e):o.minor<=a.minor?i(e):s(e)}}var cM=aM(sM),uM=sM.split(".")[0],lM=Symbol.for("opentelemetry.js.api."+uM),pM=oM;function dM(e,t,n,r){var o;void 0===r&&(r=!1);var s=pM[lM]=null!==(o=pM[lM])&&void 0!==o?o:{version:sM};if(!r&&s[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}return s.version!==sM?(i=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+sM),n.error(i.stack||i.message),!1):(s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+sM+"."),!0)}function fM(e){var t,n,r=null===(t=pM[lM])||void 0===t?void 0:t.version;if(r&&cM(r))return null===(n=pM[lM])||void 0===n?void 0:n[e]}function hM(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+sM+".");var n=pM[lM];n&&delete n[e]}function mM(e){return Symbol.for(e)}var gM,yM=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var o=new e(n._currentContext);return o._currentContext.set(t,r),o},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}return e}(),vM=new yM,bM=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},_M=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},wM=function(){function e(){}return e.prototype.active=function(){return vM},e.prototype.with=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return t.call.apply(t,_M([n],bM(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),xM=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},kM=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},SM=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TM("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TM("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TM("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TM("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TM("verbose",this._namespace,e)},e}();function TM(e,t,n){var r=fM("diag");if(r)return n.unshift(t),r[e].apply(r,kM([],xM(n),!1))}function OM(e,t){function n(n,r){var o=t[n];return"function"==typeof o&&e>=r?o.bind(t):function(){}}return e<gM.NONE?e=gM.NONE:e>gM.ALL&&(e=gM.ALL),t=t||{},{error:n("error",gM.ERROR),warn:n("warn",gM.WARN),info:n("info",gM.INFO),debug:n("debug",gM.DEBUG),verbose:n("verbose",gM.VERBOSE)}}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(gM||(gM={}));var EM,jM=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},AM=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},IM="diag",RM=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=fM("diag");if(r)return r[e].apply(r,AM([],jM(t),!1))}}var t=this,n=function(e,n){var r,o,s;if(void 0===n&&(n={logLevel:gM.INFO}),e===t){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=i.stack)&&void 0!==r?r:i.message),!1}"number"==typeof n&&(n={logLevel:n});var a=fM("diag"),c=OM(null!==(o=n.logLevel)&&void 0!==o?o:gM.INFO,e);if(a&&!n.suppressOverrideMessage){var u=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";a.warn("Current logger will be overwritten from "+u),c.warn("Current logger will overwrite one already registered from "+u)}return dM("diag",c,t,!0)};t.setLogger=n,t.disable=function(){hM(IM,t)},t.createComponentLogger=function(e){return new SM(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),CM=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},NM=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},PM="context",MM=new wM,$M=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return dM(PM,e,RM.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(r=this._getContextManager()).with.apply(r,NM([e,t,n],CM(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return fM(PM)||MM},e.prototype.disable=function(){this._getContextManager().disable(),hM(PM,RM.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(EM||(EM={}));var LM="0000000000000000",DM="00000000000000000000000000000000",FM={traceId:DM,spanId:LM,traceFlags:EM.NONE},UM=function(){function e(e){void 0===e&&(e=FM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),BM=mM("OpenTelemetry Context Key SPAN");function qM(e){return e.getValue(BM)||void 0}function VM(){return qM($M.getInstance().active())}function HM(e,t){return e.setValue(BM,t)}function zM(e){return e.deleteValue(BM)}function WM(e,t){return HM(e,new UM(t))}function ZM(e){var t;return null===(t=qM(e))||void 0===t?void 0:t.spanContext()}var GM=/^([0-9a-f]{32})$/i,KM=/^[0-9a-f]{16}$/i;function YM(e){return GM.test(e)&&e!==DM}function JM(e){return KM.test(e)&&e!==LM}function XM(e){return YM(e.traceId)&&JM(e.spanId)}function QM(e){return new UM(e)}var e$=$M.getInstance(),t$=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=e$.active()),Boolean(null==t?void 0:t.root))return new UM;var r=n&&ZM(n);return n$(r)&&XM(r)?new UM(r):new UM},e.prototype.startActiveSpan=function(e,t,n,r){var o,s,i;if(!(arguments.length<2)){2===arguments.length?i=t:3===arguments.length?(o=t,i=n):(o=t,s=n,i=r);var a=null!=s?s:e$.active(),c=this.startSpan(e,o,a),u=HM(a,c);return e$.with(u,i,void 0,c)}},e}();function n$(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}var r$,o$=new t$,s$=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):o$},e}(),i$=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new t$},e}()),a$=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new s$(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i$},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}(),c$="trace",u$=function(){function e(){this._proxyTracerProvider=new a$,this.wrapSpanContext=QM,this.isSpanContextValid=XM,this.deleteSpan=zM,this.getSpan=qM,this.getActiveSpan=VM,this.getSpanContext=ZM,this.setSpan=HM,this.setSpanContext=WM}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=dM(c$,this._proxyTracerProvider,RM.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return fM(c$)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){hM(c$,RM.instance()),this._proxyTracerProvider=new a$},e}(),l$=u$.getInstance();!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(r$||(r$={}));const p$=Symbol("Let zodToJsonSchema decide on which parser to use"),d$={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},f$=e=>"string"==typeof e?{...d$,name:e}:{...d$,...e},h$=e=>{const t=f$(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}])))}};function m$(){return{}}function g$(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function y$(e,t,n,r,o){e[t]=n,g$(e,t,r,o)}function v$(e,t){const n={type:"array"};return e.type?._def&&e.type?._def?.typeName!==HA.ZodAny&&(n.items=uL(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&y$(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&y$(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(y$(n,"minItems",e.exactLength.value,e.exactLength.message,t),y$(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function b$(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?y$(n,"minimum",r.value,r.message,t):y$(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),y$(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?y$(n,"maximum",r.value,r.message,t):y$(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),y$(n,"maximum",r.value,r.message,t));break;case"multipleOf":y$(n,"multipleOf",r.value,r.message,t)}return n}function _$(){return{type:"boolean"}}function w$(e,t){return uL(e.type._def,t)}const x$=(e,t)=>uL(e.innerType._def,t);function k$(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>k$(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return S$(e,t)}}const S$=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":y$(n,"minimum",r.value,r.message,t);break;case"max":y$(n,"maximum",r.value,r.message,t)}return n};function T$(e,t){return{...uL(e.innerType._def,t),default:e.defaultValue()}}function O$(e,t){return"input"===t.effectStrategy?uL(e.schema._def,t):{}}function E$(e){return{type:"string",enum:Array.from(e.values)}}const j$=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e;function A$(e,t){const n=[uL(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),uL(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter((e=>!!e));let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const o=[];return n.forEach((e=>{if(j$(e))o.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else r=void 0;o.push(t)}})),o.length?{allOf:o,...r}:void 0}function I$(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}var R$=c(3);let C$;const N$={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===C$&&(C$=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),C$),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function P$(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":y$(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":y$(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":D$(n,"email",r.message,t);break;case"format:idn-email":D$(n,"idn-email",r.message,t);break;case"pattern:zod":F$(n,N$.email,r.message,t)}break;case"url":D$(n,"uri",r.message,t);break;case"uuid":D$(n,"uuid",r.message,t);break;case"regex":F$(n,r.regex,r.message,t);break;case"cuid":F$(n,N$.cuid,r.message,t);break;case"cuid2":F$(n,N$.cuid2,r.message,t);break;case"startsWith":F$(n,RegExp(`^${M$(r.value,t)}`),r.message,t);break;case"endsWith":F$(n,RegExp(`${M$(r.value,t)}$`),r.message,t);break;case"datetime":D$(n,"date-time",r.message,t);break;case"date":D$(n,"date",r.message,t);break;case"time":D$(n,"time",r.message,t);break;case"duration":D$(n,"duration",r.message,t);break;case"length":y$(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t),y$(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":F$(n,RegExp(M$(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&D$(n,"ipv4",r.message,t),"v4"!==r.version&&D$(n,"ipv6",r.message,t);break;case"base64url":F$(n,N$.base64url,r.message,t);break;case"jwt":F$(n,N$.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&F$(n,N$.ipv4Cidr,r.message,t),"v4"!==r.version&&F$(n,N$.ipv6Cidr,r.message,t);break;case"emoji":F$(n,N$.emoji(),r.message,t);break;case"ulid":F$(n,N$.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":D$(n,"binary",r.message,t);break;case"contentEncoding:base64":y$(n,"contentEncoding","base64",r.message,t);break;case"pattern:zod":F$(n,N$.base64,r.message,t)}break;case"nanoid":F$(n,N$.nanoid,r.message,t)}return n}function M$(e,t){return"escape"===t.patternStrategy?L$(e):e}const $$=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function L$(e){let t="";for(let n=0;n<e.length;n++)$$.has(e[n])||(t+="\\"),t+=e[n];return t}function D$(e,t,n,r){e.format||e.anyOf?.some((e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):y$(e,"format",t,n,r)}function F$(e,t,n,r){e.pattern||e.allOf?.some((e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:U$(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):y$(e,"pattern",U$(t,r),n,r)}function U$(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let o="",s=!1,i=!1,a=!1;for(let e=0;e<r.length;e++)if(s)o+=r[e],s=!1;else{if(n.i)if(i){if(r[e].match(/[a-z]/)){a?(o+=r[e],o+=`${r[e-2]}-${r[e]}`.toUpperCase(),a=!1):"-"===r[e+1]&&r[e+2]?.match(/[a-z]/)?(o+=r[e],a=!0):o+=`${r[e]}${r[e].toUpperCase()}`;continue}}else if(r[e].match(/[a-z]/)){o+=`[${r[e]}${r[e].toUpperCase()}]`;continue}if(n.m){if("^"===r[e]){o+="(^|(?<=[\r\n]))";continue}if("$"===r[e]){o+="($|(?=[\r\n]))";continue}}n.s&&"."===r[e]?o+=i?`${r[e]}\r\n`:`[${r[e]}\r\n]`:(o+=r[e],"\\"===r[e]?s=!0:i&&"]"===r[e]?i=!1:i||"["!==r[e]||(i=!0))}try{new RegExp(o)}catch{return R$.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}var B$=c(3);function q$(e,t){if("openAi"===t.target&&B$.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===HA.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce(((n,r)=>({...n,[r]:uL(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}})),{}),additionalProperties:!1};const n={type:"object",additionalProperties:uL(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===HA.ZodString&&e.keyType._def.checks?.length){const{type:r,...o}=P$(e.keyType._def,t);return{...n,propertyNames:o}}if(e.keyType?._def.typeName===HA.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===HA.ZodBranded&&e.keyType._def.type._def.typeName===HA.ZodString&&e.keyType._def.type._def.checks?.length){const{type:r,...o}=w$(e.keyType._def,t);return{...n,propertyNames:o}}return n}function V$(e,t){return"record"===t.mapStrategy?q$(e,t):{type:"array",maxItems:125,items:{type:"array",items:[uL(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},uL(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}function H$(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!=typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}function z$(){return{not:{}}}function W$(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}const Z$={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function G$(e,t){if("openApi3"===t.target)return K$(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in Z$&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=Z$[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return K$(e,t)}const K$=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>uL(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]}))).filter((e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function Y$(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:Z$[e.innerType._def.typeName],nullable:!0}:{type:[Z$[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=uL(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=uL(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function J$(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",g$(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?y$(n,"minimum",r.value,r.message,t):y$(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),y$(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?y$(n,"maximum",r.value,r.message,t):y$(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),y$(n,"maximum",r.value,r.message,t));break;case"multipleOf":y$(n,"multipleOf",r.value,r.message,t)}return n}function X$(e,t){return"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:uL(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:uL(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function Q$(e,t){const n="openAi"===t.target,r={type:"object",...Object.entries(e.shape()).reduce(((e,[r,o])=>{if(void 0===o||void 0===o._def)return e;let s=o.isOptional();s&&n&&(o instanceof CA&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),s=!1);const i=uL(o._def,{...t,currentPath:[...t.currentPath,"properties",r],propertyPath:[...t.currentPath,"properties",r]});return void 0===i?e:{properties:{...e.properties,[r]:i},required:s?e.required:[...e.required,r]}}),{properties:{},required:[]}),additionalProperties:X$(e,t)};return r.required.length||delete r.required,r}const eL=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return uL(e.innerType._def,t);const n=uL(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},tL=(e,t)=>{if("input"===t.pipeStrategy)return uL(e.in._def,t);if("output"===t.pipeStrategy)return uL(e.out._def,t);const n=uL(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,uL(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter((e=>void 0!==e))}};function nL(e,t){return uL(e.type._def,t)}function rL(e,t){const n={type:"array",uniqueItems:!0,items:uL(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&y$(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&y$(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function oL(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>uL(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:uL(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>uL(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}function sL(){return{not:{}}}function iL(){return{}}const aL=(e,t)=>uL(e.innerType._def,t);var cL=c(3);function uL(e,t,n=!1){const r=t.seen.get(e);if(t.override){const o=t.override?.(e,t,r,n);if(o!==p$)return o}if(r&&!n){const e=lL(r,t);if(void 0!==e)return e}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const s=dL(e,e.typeName,t);return s&&fL(e,t,s),o.jsonSchema=s,s}const lL=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:pL(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(cL.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},pL=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},dL=(e,t,n)=>{switch(t){case HA.ZodString:return P$(e,n);case HA.ZodNumber:return J$(e,n);case HA.ZodObject:return Q$(e,n);case HA.ZodBigInt:return b$(e,n);case HA.ZodBoolean:return _$();case HA.ZodDate:return k$(e,n);case HA.ZodUndefined:return sL();case HA.ZodNull:return W$(n);case HA.ZodArray:return v$(e,n);case HA.ZodUnion:case HA.ZodDiscriminatedUnion:return G$(e,n);case HA.ZodIntersection:return A$(e,n);case HA.ZodTuple:return oL(e,n);case HA.ZodRecord:return q$(e,n);case HA.ZodLiteral:return I$(e,n);case HA.ZodEnum:return E$(e);case HA.ZodNativeEnum:return H$(e);case HA.ZodNullable:return Y$(e,n);case HA.ZodOptional:return eL(e,n);case HA.ZodMap:return V$(e,n);case HA.ZodSet:return rL(e,n);case HA.ZodLazy:return uL(e.getter()._def,n);case HA.ZodPromise:return nL(e,n);case HA.ZodNaN:case HA.ZodNever:return z$();case HA.ZodEffects:return O$(e,n);case HA.ZodAny:return m$();case HA.ZodUnknown:return iL();case HA.ZodDefault:return T$(e,n);case HA.ZodBranded:return w$(e,n);case HA.ZodReadonly:return aL(e,n);case HA.ZodCatch:return x$(e,n);case HA.ZodPipeline:return tL(e,n);case HA.ZodFunction:case HA.ZodVoid:case HA.ZodSymbol:default:return}},fL=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n);var hL=c(3);const mL=(e,t)=>{const n=h$(t),r="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,[t,r])=>({...e,[t]:uL(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??{}})),{}):void 0,o="string"==typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,s=uL(e._def,void 0===o?n:{...n,currentPath:[...n.basePath,n.definitionPath,o]},!1)??{},i="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==i&&(s.title=i);const a=void 0===o?r?{...s,[n.definitionPath]:r}:s:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,o].join("/"),[n.definitionPath]:{...r,[o]:s}};return"jsonSchema7"===n.target?a.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"!==n.target&&"openAi"!==n.target||(a.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===n.target&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&hL.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};var gL={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},yL={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},vL={code:"4",name:"assistant_message",parse:e=>{if(!(null!=e&&"object"==typeof e&&"id"in e&&"role"in e&&"content"in e&&"string"==typeof e.id&&"string"==typeof e.role&&"assistant"===e.role&&Array.isArray(e.content)&&e.content.every((e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},bL={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},_L={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},wL=[gL,yL,vL,bL,_L];function xL(e){const t=["ROOT"];let n=-1,r=null;function o(e,o,s){switch(e){case'"':n=o,t.pop(),t.push(s),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=o,r=o,t.pop(),t.push(s),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=o,t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"{":n=o,t.pop(),t.push(s),t.push("INSIDE_OBJECT_START");break;case"[":n=o,t.pop(),t.push(s),t.push("INSIDE_ARRAY_START")}}function s(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let a=0;a<e.length;a++){const c=e[a];switch(t[t.length-1]){case"ROOT":o(c,a,"FINISH");break;case"INSIDE_OBJECT_START":switch(c){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=a,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===c&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===c&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===c&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":o(c,a,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":s(c,a);break;case"INSIDE_STRING":switch(c){case'"':t.pop(),n=a;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=a}break;case"INSIDE_ARRAY_START":"]"===c?(n=a,t.pop()):(n=a,o(c,a,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(c){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=a,t.pop();break;default:n=a}break;case"INSIDE_ARRAY_AFTER_COMMA":o(c,a,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=a;break;case"INSIDE_NUMBER":switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(c,a),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(c,a);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(c,a);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(c,a);break;default:t.pop()}break;case"INSIDE_LITERAL":{const o=e.substring(r,a+1);"false".startsWith(o)||"true".startsWith(o)||"null".startsWith(o)?n=a:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?s(c,a):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(c,a));break}}}let a=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--)switch(t[n]){case"INSIDE_STRING":a+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":a+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":a+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?a+="true".slice(t.length):"false".startsWith(t)?a+="false".slice(t.length):"null".startsWith(t)&&(a+="null".slice(t.length))}}return a}function kL(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=ME({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=ME({text:xL(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}gL.code,yL.code,vL.code,bL.code,_L.code,gL.name,gL.code,yL.name,yL.code,vL.name,vL.code,bL.name,bL.code,_L.name,_L.code,wL.map((e=>e.code));var SL={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},TL={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},OL={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},EL={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},jL={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},AL={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},IL={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},RL={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},CL={code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},NL={code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},PL={code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},ML={code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},$L={code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},LL={code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},DL={code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},FL={code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}},UL=[SL,TL,OL,EL,jL,AL,IL,RL,CL,NL,PL,ML,$L,LL,DL,FL];function BL(e,t){const n=UL.find((t=>t.name===e));if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}\n`}function qL(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return HL(mL(e,{$refStrategy:r?"root":"none",target:"jsonSchema7"}),{validate:t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}Object.fromEntries(UL.map((e=>[e.code,e]))),Object.fromEntries(UL.map((e=>[e.name,e.code]))),UL.map((e=>e.code)),"\n".charCodeAt(0),"\n".charCodeAt(0);var VL=Symbol.for("vercel.ai.schema");function HL(e,{validate:t}={}){return{[VL]:!0,_type:void 0,[EE]:!0,jsonSchema:e,validate:t}}function zL(e){return"object"==typeof e&&null!==e&&VL in e&&!0===e[VL]&&"jsonSchema"in e&&"validate"in e}function WL(e){return zL(e)?e:qL(e)}var ZL=Object.defineProperty,GL=(e,t)=>{for(var n in t)ZL(e,n,{get:t[n],enumerable:!0})};function KL(e,{contentType:t,dataStreamVersion:n}){const r=new Headers(null!=e?e:{});return r.has("Content-Type")||r.set("Content-Type",t),void 0!==n&&r.set("X-Vercel-AI-Data-Stream",n),r}function YL(e,{contentType:t,dataStreamVersion:n}){const r={};if(null!=e)for(const[t,n]of Object.entries(e))r[t]=n;return null==r["Content-Type"]&&(r["Content-Type"]=t),void 0!==n&&(r["X-Vercel-AI-Data-Stream"]=n),r}function JL({response:e,status:t,statusText:n,headers:r,stream:o}){e.writeHead(null!=t?t:200,n,r);const s=o.getReader(),i=async()=>{try{for(;;){const{done:t,value:n}=await s.read();if(t)break;e.write(n)}}catch(e){throw e}finally{e.end()}};i()}var XL,QL="AI_InvalidArgumentError",eD=`vercel.ai.error.${QL}`,tD=Symbol.for(eD),nD=class extends aO{constructor({parameter:e,value:t,message:n}){super({name:QL,message:`Invalid argument for parameter ${e}: ${n}`}),this[XL]=!0,this.parameter=e,this.value=t}static isInstance(e){return aO.hasMarker(e,eD)}};XL=tD;var rD,oD="AI_RetryError",sD=`vercel.ai.error.${oD}`,iD=Symbol.for(sD),aD=class extends aO{constructor({message:e,reason:t,errors:n}){super({name:oD,message:e}),this[rD]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return aO.hasMarker(e,sD)}};rD=iD;var cD=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>uD(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function uD(e,{maxRetries:t,delayInMs:n,backoffFactor:r},o=[]){try{return await e()}catch(s){if(TE(s))throw s;if(0===t)throw s;const i=kE(s),a=[...o,s],c=a.length;if(c>t)throw new aD({message:`Failed after ${c} attempts. Last error: ${i}`,reason:"maxRetriesExceeded",errors:a});if(s instanceof Error&&pO.isInstance(s)&&!0===s.isRetryable&&c<=t)return await yE(n),uD(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},a);if(1===c)throw s;throw new aD({message:`Failed after ${c} attempts with non-retryable error: '${i}'`,reason:"errorNotRetryable",errors:a})}}function lD({maxRetries:e}){if(null!=e){if(!Number.isInteger(e))throw new nD({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new nD({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const t=null!=e?e:2;return{maxRetries:t,retry:cD({maxRetries:t})}}function pD({operationId:e,telemetry:t}){return{"operation.name":`${e}${null!=(null==t?void 0:t.functionId)?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}function dD({model:e,settings:t,telemetry:n,headers:r}){var o;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce(((e,[t,n])=>(e[`ai.settings.${t}`]=n,e)),{}),...Object.entries(null!=(o=null==n?void 0:n.metadata)?o:{}).reduce(((e,[t,n])=>(e[`ai.telemetry.metadata.${t}`]=n,e)),{}),...Object.entries(null!=r?r:{}).reduce(((e,[t,n])=>(void 0!==n&&(e[`ai.request.headers.${t}`]=n),e)),{})}}var fD={startSpan:()=>hD,startActiveSpan:(e,t,n,r)=>"function"==typeof t?t(hD):"function"==typeof n?n(hD):"function"==typeof r?r(hD):void 0},hD={spanContext:()=>mD,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},mD={traceId:"",spanId:"",traceFlags:0};function gD({isEnabled:e=!1,tracer:t}={}){return e?t||l$.getTracer("ai"):fD}function yD({name:e,tracer:t,attributes:n,fn:r,endWhenDone:o=!0}){return t.startActiveSpan(e,{attributes:n},(async e=>{try{const t=await r(e);return o&&e.end(),t}catch(t){try{t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:r$.ERROR,message:t.message})):e.setStatus({code:r$.ERROR})}finally{e.end()}throw t}}))}function vD({telemetry:e,attributes:t}){return!0!==(null==e?void 0:e.isEnabled)?{}:Object.entries(t).reduce(((t,[n,r])=>{if(void 0===r)return t;if("object"==typeof r&&"input"in r&&"function"==typeof r.input){if(!1===(null==e?void 0:e.recordInputs))return t;const o=r.input();return void 0===o?t:{...t,[n]:o}}if("object"==typeof r&&"output"in r&&"function"==typeof r.output){if(!1===(null==e?void 0:e.recordOutputs))return t;const o=r.output();return void 0===o?t:{...t,[n]:o}}return{...t,[n]:r}}),{})}var bD=`vercel.ai.error.${"AI_NoImageGeneratedError"}`,_D=(Symbol.for(bD),class{constructor({data:e,mimeType:t}){const n=e instanceof Uint8Array;this.base64Data=n?void 0:e,this.uint8ArrayData=n?e:void 0,this.mimeType=t}get base64(){return null==this.base64Data&&(this.base64Data=XE(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=JE(this.base64Data)),this.uint8ArrayData}}),wD=class extends _D{constructor(e){super(e),this.type="file"}},xD=[{mimeType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mimeType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mimeType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mimeType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mimeType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mimeType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mimeType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mimeType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mimeType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}],kD=e=>{const t="string"==typeof e?JE(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)};function SD(e){return"string"==typeof e&&e.startsWith("SUQz")||"string"!=typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?kD(e):e}function TD({data:e,signatures:t}){const n=SD(e);for(const e of t)if("string"==typeof n?n.startsWith(e.base64Prefix):n.length>=e.bytesPrefix.length&&e.bytesPrefix.every(((e,t)=>n[t]===e)))return e.mimeType}var OD,ED="AI_NoObjectGeneratedError",jD=`vercel.ai.error.${ED}`,AD=Symbol.for(jD),ID=class extends aO{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:o,finishReason:s}){super({name:ED,message:e,cause:t}),this[OD]=!0,this.text=n,this.response=r,this.usage=o,this.finishReason=s}static isInstance(e){return aO.hasMarker(e,jD)}};OD=AD;var RD,CD="AI_DownloadError",ND=`vercel.ai.error.${CD}`,PD=Symbol.for(ND),MD=class extends aO{constructor({url:e,statusCode:t,statusText:n,cause:r,message:o=(null==r?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`)}){super({name:CD,message:o,cause:r}),this[RD]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return aO.hasMarker(e,ND)}};async function $D({url:e}){var t;const n=e.toString();try{const e=await fetch(n);if(!e.ok)throw new MD({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(t=e.headers.get("content-type"))?t:void 0}}catch(e){if(MD.isInstance(e))throw e;throw new MD({url:n,cause:e})}}RD=PD;var LD,DD="AI_InvalidDataContentError",FD=`vercel.ai.error.${DD}`,UD=Symbol.for(FD),BD=class extends aO{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:DD,message:n,cause:t}),this[LD]=!0,this.content=e}static isInstance(e){return aO.hasMarker(e,FD)}};LD=UD;var qD=RI.union([RI.string(),RI.instanceof(Uint8Array),RI.instanceof(ArrayBuffer),RI.custom((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);function VD(e){return"string"==typeof e?e:e instanceof ArrayBuffer?XE(new Uint8Array(e)):XE(e)}function HD(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return JE(e)}catch(t){throw new BD({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new BD({content:e})}function zD(e){try{return(new TextDecoder).decode(e)}catch(e){throw new Error("Error decoding Uint8Array to text")}}var WD,ZD="AI_InvalidMessageRoleError",GD=`vercel.ai.error.${ZD}`,KD=Symbol.for(GD),YD=class extends aO{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:ZD,message:t}),this[WD]=!0,this.role=e}static isInstance(e){return aO.hasMarker(e,GD)}};function JD(e){try{const[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch(e){return{mimeType:void 0,base64Content:void 0}}}async function XD({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=$D}){const o=await eF(e.messages,r,t,n);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map((e=>QD(e,o)))]}function QD(e,t){var n,r,o,s,i,a;const c=e.role;switch(c){case"system":return{role:"system",content:e.content,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};case"user":return"string"==typeof e.content?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:null!=(r=e.providerOptions)?r:e.experimental_providerMetadata}:{role:"user",content:e.content.map((e=>tF(e,t))).filter((e=>"text"!==e.type||""!==e.text)),providerMetadata:null!=(o=e.providerOptions)?o:e.experimental_providerMetadata};case"assistant":return"string"==typeof e.content?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:null!=(s=e.providerOptions)?s:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter((e=>"text"!==e.type||""!==e.text)).map((e=>{var t;const n=null!=(t=e.providerOptions)?t:e.experimental_providerMetadata;switch(e.type){case"file":return{type:"file",data:e.data instanceof URL?e.data:VD(e.data),filename:e.filename,mimeType:e.mimeType,providerMetadata:n};case"reasoning":return{type:"reasoning",text:e.text,signature:e.signature,providerMetadata:n};case"redacted-reasoning":return{type:"redacted-reasoning",data:e.data,providerMetadata:n};case"text":return{type:"text",text:e.text,providerMetadata:n};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,args:e.args,providerMetadata:n}}})),providerMetadata:null!=(i=e.providerOptions)?i:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map((e=>{var t;return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:null!=(t=e.providerOptions)?t:e.experimental_providerMetadata}})),providerMetadata:null!=(a=e.providerOptions)?a:e.experimental_providerMetadata};default:throw new YD({role:c})}}async function eF(e,t,n,r){const o=e.filter((e=>"user"===e.role)).map((e=>e.content)).filter((e=>Array.isArray(e))).flat().filter((e=>"image"===e.type||"file"===e.type)).filter((e=>!("image"===e.type&&!0===n))).map((e=>"image"===e.type?e.image:e.data)).map((e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e)).filter((e=>e instanceof URL)).filter((e=>!r(e))),s=await Promise.all(o.map((async e=>({url:e,data:await t({url:e})}))));return Object.fromEntries(s.map((({url:e,data:t})=>[e.toString(),t])))}function tF(e,t){var n,r,o,s;if("text"===e.type)return{type:"text",text:e.text,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};let i,a,c,u=e.mimeType;const l=e.type;switch(l){case"image":i=e.image;break;case"file":i=e.data;break;default:throw new Error(`Unsupported part type: ${l}`)}try{a="string"==typeof i?new URL(i):i}catch(e){a=i}if(a instanceof URL)if("data:"===a.protocol){const{mimeType:e,base64Content:t}=JD(a.toString());if(null==e||null==t)throw new Error(`Invalid data URL format in part ${l}`);u=e,c=HD(t)}else{const e=t[a.toString()];e?(c=e.data,null!=u||(u=e.mimeType)):c=a}else c=HD(a);switch(l){case"image":return c instanceof Uint8Array&&(u=null!=(r=TD({data:c,signatures:xD}))?r:u),{type:"image",image:c,mimeType:u,providerMetadata:null!=(o=e.providerOptions)?o:e.experimental_providerMetadata};case"file":if(null==u)throw new Error("Mime type is missing for file part");return{type:"file",data:c instanceof Uint8Array?VD(c):c,filename:e.filename,mimeType:u,providerMetadata:null!=(s=e.providerOptions)?s:e.experimental_providerMetadata}}}function nF({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:o,frequencyPenalty:s,stopSequences:i,seed:a}){if(null!=e){if(!Number.isInteger(e))throw new nD({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new nD({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new nD({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=n&&"number"!=typeof n)throw new nD({parameter:"topP",value:n,message:"topP must be a number"});if(null!=r&&"number"!=typeof r)throw new nD({parameter:"topK",value:r,message:"topK must be a number"});if(null!=o&&"number"!=typeof o)throw new nD({parameter:"presencePenalty",value:o,message:"presencePenalty must be a number"});if(null!=s&&"number"!=typeof s)throw new nD({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(null!=a&&!Number.isInteger(a))throw new nD({parameter:"seed",value:a,message:"seed must be an integer"});return{maxTokens:e,temperature:null!=t?t:0,topP:n,topK:r,presencePenalty:o,frequencyPenalty:s,stopSequences:null!=i&&i.length>0?i:void 0,seed:a}}function rF(e){var t,n,r;const o=[];for(const s of e){let e;try{e=new URL(s.url)}catch(e){throw new Error(`Invalid URL: ${s.url}`)}switch(e.protocol){case"http:":case"https:":if(null==(t=s.contentType)?void 0:t.startsWith("image/"))o.push({type:"image",image:e});else{if(!s.contentType)throw new Error("If the attachment is not an image, it must specify a content type");o.push({type:"file",data:e,mimeType:s.contentType})}break;case"data:":{let e,t,i;try{[e,t]=s.url.split(","),i=e.split(";")[0].split(":")[1]}catch(e){throw new Error(`Error processing data URL: ${s.url}`)}if(null==i||null==t)throw new Error(`Invalid data URL format: ${s.url}`);if(null==(n=s.contentType)?void 0:n.startsWith("image/"))o.push({type:"image",image:HD(t)});else if(null==(r=s.contentType)?void 0:r.startsWith("text/"))o.push({type:"text",text:zD(HD(t))});else{if(!s.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");o.push({type:"file",data:t,mimeType:s.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${e.protocol}`)}}return o}WD=KD;var oF,sF="AI_MessageConversionError",iF=`vercel.ai.error.${sF}`,aF=Symbol.for(iF),cF=class extends aO{constructor({originalMessage:e,message:t}){super({name:sF,message:t}),this[oF]=!0,this.originalMessage=e}static isInstance(e){return aO.hasMarker(e,iF)}};function uF(e,t){var n,r;const o=null!=(n=null==t?void 0:t.tools)?n:{},s=[];for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1,{role:a,content:c,experimental_attachments:u}=n;switch(a){case"system":s.push({role:"system",content:c});break;case"user":if(null==n.parts)s.push({role:"user",content:u?[{type:"text",text:c},...rF(u)]:c});else{const e=n.parts.filter((e=>"text"===e.type)).map((e=>({type:"text",text:e.text})));s.push({role:"user",content:u?[...e,...rF(u)]:e})}break;case"assistant":{if(null!=n.parts){let e=function(){const e=[];for(const t of a)switch(t.type){case"file":case"text":e.push(t);break;case"reasoning":for(const n of t.details)switch(n.type){case"text":e.push({type:"reasoning",text:n.text,signature:n.signature});break;case"redacted":e.push({type:"redacted-reasoning",data:n.data})}break;case"tool-invocation":e.push({type:"tool-call",toolCallId:t.toolInvocation.toolCallId,toolName:t.toolInvocation.toolName,args:t.toolInvocation.args});break;default:throw new Error(`Unsupported part: ${t}`)}s.push({role:"assistant",content:e});const r=a.filter((e=>"tool-invocation"===e.type)).map((e=>e.toolInvocation));r.length>0&&s.push({role:"tool",content:r.map((e=>{if(!("result"in e))throw new cF({originalMessage:n,message:"ToolInvocation must have a result: "+JSON.stringify(e)});const{toolCallId:t,toolName:r,result:s}=e,i=o[r];return null!=(null==i?void 0:i.experimental_toToolResultContent)?{type:"tool-result",toolCallId:t,toolName:r,result:i.experimental_toToolResultContent(s),experimental_content:i.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:t,toolName:r,result:s}}))}),a=[],i=!1,t++},t=0,i=!1,a=[];for(const o of n.parts)switch(o.type){case"text":i&&e(),a.push(o);break;case"file":case"reasoning":a.push(o);break;case"tool-invocation":(null!=(r=o.toolInvocation.step)?r:0)!==t&&e(),a.push(o),i=!0}e();break}const e=n.toolInvocations;if(null==e||0===e.length){s.push({role:"assistant",content:c});break}const t=e.reduce(((e,t)=>{var n;return Math.max(e,null!=(n=t.step)?n:0)}),0);for(let r=0;r<=t;r++){const t=e.filter((e=>{var t;return(null!=(t=e.step)?t:0)===r}));0!==t.length&&(s.push({role:"assistant",content:[...i&&c&&0===r?[{type:"text",text:c}]:[],...t.map((({toolCallId:e,toolName:t,args:n})=>({type:"tool-call",toolCallId:e,toolName:t,args:n})))]}),s.push({role:"tool",content:t.map((e=>{if(!("result"in e))throw new cF({originalMessage:n,message:"ToolInvocation must have a result: "+JSON.stringify(e)});const{toolCallId:t,toolName:r,result:s}=e,i=o[r];return null!=(null==i?void 0:i.experimental_toToolResultContent)?{type:"tool-result",toolCallId:t,toolName:r,result:i.experimental_toToolResultContent(s),experimental_content:i.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:t,toolName:r,result:s}}))}))}c&&!i&&s.push({role:"assistant",content:c});break}case"data":break;default:throw new cF({originalMessage:n,message:`Unsupported role: ${a}`})}}return s}oF=aF;var lF=RI.lazy((()=>RI.union([RI.null(),RI.string(),RI.number(),RI.boolean(),RI.record(RI.string(),lF),RI.array(lF)]))),pF=RI.record(RI.string(),RI.record(RI.string(),lF)),dF=RI.array(RI.union([RI.object({type:RI.literal("text"),text:RI.string()}),RI.object({type:RI.literal("image"),data:RI.string(),mimeType:RI.string().optional()})])),fF=RI.object({type:RI.literal("text"),text:RI.string(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),hF=RI.object({type:RI.literal("image"),image:RI.union([qD,RI.instanceof(URL)]),mimeType:RI.string().optional(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),mF=RI.object({type:RI.literal("file"),data:RI.union([qD,RI.instanceof(URL)]),filename:RI.string().optional(),mimeType:RI.string(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),gF=RI.object({type:RI.literal("reasoning"),text:RI.string(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),yF=RI.object({type:RI.literal("redacted-reasoning"),data:RI.string(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),vF=RI.object({type:RI.literal("tool-call"),toolCallId:RI.string(),toolName:RI.string(),args:RI.unknown(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),bF=RI.object({type:RI.literal("tool-result"),toolCallId:RI.string(),toolName:RI.string(),result:RI.unknown(),content:dF.optional(),isError:RI.boolean().optional(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),_F=RI.object({role:RI.literal("system"),content:RI.string(),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),wF=RI.object({role:RI.literal("user"),content:RI.union([RI.string(),RI.array(RI.union([fF,hF,mF]))]),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),xF=RI.object({role:RI.literal("assistant"),content:RI.union([RI.string(),RI.array(RI.union([fF,mF,gF,yF,vF]))]),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),kF=RI.object({role:RI.literal("tool"),content:RI.array(bF),providerOptions:pF.optional(),experimental_providerMetadata:pF.optional()}),SF=RI.union([_F,wF,xF,kF]);function TF({prompt:e,tools:t}){if(null==e.prompt&&null==e.messages)throw new EO({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new EO({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new EO({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new EO({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){const n="ui-messages"===OF(e.messages)?uF(e.messages,{tools:t}):e.messages;if(0===n.length)throw new EO({prompt:e,message:"messages must not be empty"});const r=NE({value:n,schema:RI.array(SF)});if(!r.success)throw new EO({prompt:e,message:["message must be a CoreMessage or a UI message",`Validation error: ${r.error.message}`].join("\n"),cause:r.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}function OF(e){if(!Array.isArray(e))throw new EO({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received non-array value: ${JSON.stringify(e)}`].join("\n"),cause:e});if(0===e.length)return"messages";const t=e.map(EF);if(t.some((e=>"has-ui-specific-parts"===e)))return"ui-messages";const n=t.findIndex((e=>"has-core-specific-parts"!==e&&"message"!==e));if(-1===n)return"messages";throw new EO({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received message of type: "${t[n]}" at index ${n}`,`messages[${n}]: ${JSON.stringify(e[n])}`].join("\n"),cause:e})}function EF(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"parts"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function jF({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function AF(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var IF="JSON schema:",RF="You MUST answer with a JSON object that matches the JSON schema above.",CF="You MUST answer with JSON.";function NF({prompt:e,schema:t,schemaPrefix:n=(null!=t?IF:void 0),schemaSuffix:r=(null!=t?RF:CF)}){return[null!=e&&e.length>0?e:void 0,null!=e&&e.length>0?"":void 0,n,null!=t?JSON.stringify(t):void 0,r].filter((e=>null!=e)).join("\n")}function PF(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{const e=t.getReader();return{async next(){const{done:t,value:n}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:n}}}},t}wE({prefix:"aiobj",size:24});var MF=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise||(this.promise=new Promise(((e,t)=>{"resolved"===this.status.type?e(this.status.value):"rejected"===this.status.type&&t(this.status.error),this._resolve=e,this._reject=t}))),this.promise}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&(null==(t=this._resolve)||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&(null==(t=this._reject)||t.call(this,e))}};function $F(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}function LF(){let e=[],t=null,n=!1,r=$F();const o=async()=>{if(n&&0===e.length)null==t||t.close();else{if(0===e.length)return r=$F(),await r.promise,o();try{const{value:r,done:s}=await e[0].read();s?(e.shift(),e.length>0?await o():n&&(null==t||t.close())):null==t||t.enqueue(r)}catch(r){null==t||t.error(r),e.shift(),n&&0===e.length&&(null==t||t.close())}}};return{stream:new ReadableStream({start(e){t=e},pull:o,async cancel(){for(const t of e)await t.cancel();e=[],n=!0}}),addStream:t=>{if(n)throw new Error("Cannot add inner stream: outer stream is closed");e.push(t.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),0===e.length&&(null==t||t.close())},terminate:()=>{n=!0,r.resolve(),e.forEach((e=>e.cancel())),e=[],null==t||t.close()}}}function DF(){var e,t;return null!=(t=null==(e=null==globalThis?void 0:globalThis.performance)?void 0:e.now())?t:Date.now()}wE({prefix:"aiobj",size:24});var FF,UF="AI_NoOutputSpecifiedError",BF=`vercel.ai.error.${UF}`,qF=Symbol.for(BF),VF=class extends aO{constructor({message:e="No output specified."}={}){super({name:UF,message:e}),this[FF]=!0}static isInstance(e){return aO.hasMarker(e,BF)}};FF=qF;var HF,zF="AI_ToolExecutionError",WF=`vercel.ai.error.${zF}`,ZF=Symbol.for(WF),GF=class extends aO{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:r,message:o=`Error executing tool ${t}: ${yO(r)}`}){super({name:zF,message:o,cause:r}),this[HF]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return aO.hasMarker(e,WF)}};function KF(e){return null!=e&&Object.keys(e).length>0}function YF({tools:e,toolChoice:t,activeTools:n}){return KF(e)?{tools:(null!=n?Object.entries(e).filter((([e])=>n.includes(e))):Object.entries(e)).map((([e,t])=>{const n=t.type;switch(n){case void 0:case"function":return{type:"function",name:e,description:t.description,parameters:WL(t.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:e,id:t.id,args:t.args};default:throw new Error(`Unsupported tool type: ${n}`)}})),toolChoice:null==t?{type:"auto"}:"string"==typeof t?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}HF=ZF;var JF=/^([\s\S]*?)(\s+)(\S*)$/;function XF(e){const t=e.match(JF);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var QF,eU="AI_InvalidToolArgumentsError",tU=`vercel.ai.error.${eU}`,nU=Symbol.for(tU),rU=class extends aO{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${yO(n)}`}){super({name:eU,message:r,cause:n}),this[QF]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return aO.hasMarker(e,tU)}};QF=nU;var oU,sU="AI_NoSuchToolError",iU=`vercel.ai.error.${sU}`,aU=Symbol.for(iU),cU=class extends aO{constructor({toolName:e,availableTools:t,message:n=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:sU,message:n}),this[oU]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return aO.hasMarker(e,iU)}};oU=aU;var uU,lU="AI_ToolCallRepairError",pU=`vercel.ai.error.${lU}`,dU=Symbol.for(pU),fU=class extends aO{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${yO(e)}`}){super({name:lU,message:n,cause:e}),this[uU]=!0,this.originalError=t}static isInstance(e){return aO.hasMarker(e,pU)}};async function hU({toolCall:e,tools:t,repairToolCall:n,system:r,messages:o}){if(null==t)throw new cU({toolName:e.toolName});try{return await mU({toolCall:e,tools:t})}catch(s){if(null==n||!cU.isInstance(s)&&!rU.isInstance(s))throw s;let i=null;try{i=await n({toolCall:e,tools:t,parameterSchema:({toolName:e})=>WL(t[e].parameters).jsonSchema,system:r,messages:o,error:s})}catch(e){throw new fU({cause:e,originalError:s})}if(null==i)throw s;return await mU({toolCall:i,tools:t})}}async function mU({toolCall:e,tools:t}){const n=e.toolName,r=t[n];if(null==r)throw new cU({toolName:e.toolName,availableTools:Object.keys(t)});const o=WL(r.parameters),s=""===e.args.trim()?NE({value:{},schema:o}):ME({text:e.args,schema:o});if(!1===s.success)throw new rU({toolName:n,toolArgs:e.args,cause:s.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:s.value}}function gU(e){const t=e.filter((e=>"text"===e.type)).map((e=>e.text)).join("");return t.length>0?t:void 0}function yU({text:e="",files:t,reasoning:n,tools:r,toolCalls:o,toolResults:s,messageId:i,generateMessageId:a}){const c=[],u=[];return n.length>0&&u.push(...n.map((e=>"text"===e.type?{...e,type:"reasoning"}:{...e,type:"redacted-reasoning"}))),t.length>0&&u.push(...t.map((e=>({type:"file",data:e.base64,mimeType:e.mimeType})))),e.length>0&&u.push({type:"text",text:e}),o.length>0&&u.push(...o),u.length>0&&c.push({role:"assistant",content:u,id:i}),s.length>0&&c.push({role:"tool",id:a(),content:s.map((e=>{const t=r[e.toolName];return null!=(null==t?void 0:t.experimental_toToolResultContent)?{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:t.experimental_toToolResultContent(e.result),experimental_content:t.experimental_toToolResultContent(e.result)}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result}}))}),c}uU=dU,wE({prefix:"aitxt",size:24}),wE({prefix:"msg",size:24}),GL({},{object:()=>TU,text:()=>SU});var vU,bU="AI_InvalidStreamPartError",_U=`vercel.ai.error.${bU}`,wU=Symbol.for(_U),xU=class extends aO{constructor({chunk:e,message:t}){super({name:bU,message:t}),this[vU]=!0,this.chunk=e}static isInstance(e){return aO.hasMarker(e,_U)}};vU=wU;var kU="vercel.ai.error.AI_MCPClientError",SU=(Symbol.for(kU),()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt:({system:e})=>e,parsePartial:({text:e})=>({partial:e}),parseOutput:({text:e})=>e})),TU=({schema:e})=>{const t=WL(e);return{type:"object",responseFormat:({model:e})=>({type:"json",schema:e.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt:({system:e,model:n})=>n.supportsStructuredOutputs?e:NF({prompt:e,schema:t.jsonSchema}),parsePartial({text:e}){const t=kL(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{const e=t.state;throw new Error(`Unsupported parse state: ${e}`)}}},parseOutput({text:e},n){const r=ME({text:e});if(!r.success)throw new ID({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});const o=NE({value:r.value,schema:t});if(!o.success)throw new ID({message:"No object generated: response did not match schema.",cause:o.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return o.value}}};function OU(e){return void 0===e?[]:Array.isArray(e)?e:[e]}async function EU({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:e}=await n.read();if(e)break}}catch(e){null==t||t(e)}finally{n.releaseLock()}}function jU(e,t){const n=e.getReader(),r=t.getReader();let o,s,i=!1,a=!1;async function c(e){try{null==o&&(o=n.read());const t=await o;o=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function u(e){try{null==s&&(s=r.read());const t=await s;s=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(i)return void await u(e);if(a)return void await c(e);null==o&&(o=n.read()),null==s&&(s=r.read());const{result:t,reader:l}=await Promise.race([o.then((e=>({result:e,reader:n}))),s.then((e=>({result:e,reader:r})))]);t.done||e.enqueue(t.value),l===n?(o=void 0,t.done&&(await u(e),i=!0)):(s=void 0,t.done&&(a=!0,await c(e)))}catch(t){e.error(t)}},cancel(){n.cancel(),r.cancel()}})}function AU({tools:e,generatorStream:t,toolCallStreaming:n,tracer:r,telemetry:o,system:s,messages:i,abortSignal:a,repairToolCall:c}){let u=null;const l=new ReadableStream({start(e){u=e}}),p={},d=new Set;let f,h=!1;function m(){h&&0===d.size&&(null!=f&&u.enqueue(f),u.close())}const g=new TransformStream({async transform(t,l){const h=t.type;switch(h){case"text-delta":case"reasoning":case"reasoning-signature":case"redacted-reasoning":case"source":case"response-metadata":case"error":l.enqueue(t);break;case"file":l.enqueue(new wD({data:t.data,mimeType:t.mimeType}));break;case"tool-call-delta":n&&(p[t.toolCallId]||(l.enqueue({type:"tool-call-streaming-start",toolCallId:t.toolCallId,toolName:t.toolName}),p[t.toolCallId]=!0),l.enqueue({type:"tool-call-delta",toolCallId:t.toolCallId,toolName:t.toolName,argsTextDelta:t.argsTextDelta}));break;case"tool-call":try{const n=await hU({toolCall:t,tools:e,repairToolCall:c,system:s,messages:i});l.enqueue(n);const p=e[n.toolName];if(null!=p.execute){const e=xE();d.add(e),yD({name:"ai.toolCall",attributes:vD({telemetry:o,attributes:{...pD({operationId:"ai.toolCall",telemetry:o}),"ai.toolCall.name":n.toolName,"ai.toolCall.id":n.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(n.args)}}}),tracer:r,fn:async t=>p.execute(n.args,{toolCallId:n.toolCallId,messages:i,abortSignal:a}).then((r=>{u.enqueue({...n,type:"tool-result",result:r}),d.delete(e),m();try{t.setAttributes(vD({telemetry:o,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(r)}}}))}catch(e){}}),(t=>{u.enqueue({type:"error",error:new GF({toolCallId:n.toolCallId,toolName:n.toolName,toolArgs:n.args,cause:t})}),d.delete(e),m()}))})}}catch(e){u.enqueue({type:"error",error:e})}break;case"finish":f={type:"finish",finishReason:t.finishReason,logprobs:t.logprobs,usage:jF(t.usage),experimental_providerMetadata:t.providerMetadata};break;default:throw new Error(`Unhandled chunk type: ${h}`)}},flush(){h=!0,m()}});return new ReadableStream({start:async e=>Promise.all([t.pipeThrough(g).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),l.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])})}var IU=wE({prefix:"aitxt",size:24}),RU=wE({prefix:"msg",size:24});function CU({model:e,tools:t,toolChoice:n,system:r,prompt:o,messages:s,maxRetries:i,abortSignal:a,headers:c,maxSteps:u=1,experimental_generateMessageId:l=RU,experimental_output:p,experimental_continueSteps:d=!1,experimental_telemetry:f,experimental_providerMetadata:h,providerOptions:m=h,experimental_toolCallStreaming:g=!1,toolCallStreaming:y=g,experimental_activeTools:v,experimental_repairToolCall:b,experimental_transform:_,onChunk:w,onError:x,onFinish:k,onStepFinish:S,_internal:{now:T=DF,generateId:O=IU,currentDate:E=()=>new Date}={},...j}){return new PU({model:e,telemetry:f,headers:c,settings:j,maxRetries:i,abortSignal:a,system:r,prompt:o,messages:s,tools:t,toolChoice:n,toolCallStreaming:y,transforms:OU(_),activeTools:v,repairToolCall:b,maxSteps:u,output:p,continueSteps:d,providerOptions:m,onChunk:w,onError:x,onFinish:k,onStepFinish:S,now:T,currentDate:E,generateId:O,generateMessageId:l})}function NU(e){if(!e)return new TransformStream({transform(e,t){t.enqueue({part:e,partialOutput:void 0})}});let t="",n="",r="";function o({controller:e,partialOutput:t}){e.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:t}),n=""}return new TransformStream({transform(s,i){if("step-finish"===s.type&&o({controller:i}),"text-delta"!==s.type)return void i.enqueue({part:s,partialOutput:void 0});t+=s.textDelta,n+=s.textDelta;const a=e.parsePartial({text:t});if(null!=a){const e=JSON.stringify(a.partial);e!==r&&(o({controller:i,partialOutput:a.partial}),r=e)}},flush(e){n.length>0&&o({controller:e})}})}var PU=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:o,abortSignal:s,system:i,prompt:a,messages:c,tools:u,toolChoice:l,toolCallStreaming:p,transforms:d,activeTools:f,repairToolCall:h,maxSteps:m,output:g,continueSteps:y,providerOptions:v,now:b,currentDate:_,generateId:w,generateMessageId:x,onChunk:k,onError:S,onFinish:T,onStepFinish:O}){var E;if(this.warningsPromise=new MF,this.usagePromise=new MF,this.finishReasonPromise=new MF,this.providerMetadataPromise=new MF,this.textPromise=new MF,this.reasoningPromise=new MF,this.reasoningDetailsPromise=new MF,this.sourcesPromise=new MF,this.filesPromise=new MF,this.toolCallsPromise=new MF,this.toolResultsPromise=new MF,this.requestPromise=new MF,this.responsePromise=new MF,this.stepsPromise=new MF,m<1)throw new nD({parameter:"maxSteps",value:m,message:"maxSteps must be at least 1"});this.output=g;let j,A="",I="",R="",C=[],N=[],P=[];const M=[],$={id:w(),timestamp:_(),modelId:e.modelId,messages:[]};let L,D,F=[],U=[],B="initial";const q=[];let V;const H=new TransformStream({async transform(e,t){t.enqueue(e);const{part:n}=e;if("text-delta"!==n.type&&"reasoning"!==n.type&&"source"!==n.type&&"tool-call"!==n.type&&"tool-result"!==n.type&&"tool-call-streaming-start"!==n.type&&"tool-call-delta"!==n.type||await(null==k?void 0:k({chunk:n})),"error"===n.type&&await(null==S?void 0:S({error:n.error})),"text-delta"===n.type&&(A+=n.textDelta,I+=n.textDelta,R+=n.textDelta),"reasoning"===n.type&&(null==j?(j={type:"text",text:n.textDelta},C.push(j)):j.text+=n.textDelta),"reasoning-signature"===n.type){if(null==j)throw new aO({name:"InvalidStreamPart",message:"reasoning-signature without reasoning"});j.signature=n.signature,j=void 0}if("redacted-reasoning"===n.type&&C.push({type:"redacted",data:n.data}),"file"===n.type&&N.push(n),"source"===n.type&&(M.push(n.source),P.push(n.source)),"tool-call"===n.type&&F.push(n),"tool-result"===n.type&&U.push(n),"step-finish"===n.type){const e=yU({text:I,files:N,reasoning:C,tools:null!=u?u:{},toolCalls:F,toolResults:U,messageId:n.messageId,generateMessageId:x});let t="done";q.length+1<m&&(y&&"length"===n.finishReason&&0===F.length?t="continue":F.length>0&&U.length===F.length&&(t="tool-result"));const r={stepType:B,text:A,reasoning:gU(C),reasoningDetails:C,files:N,sources:P,toolCalls:F,toolResults:U,finishReason:n.finishReason,usage:n.usage,warnings:n.warnings,logprobs:n.logprobs,request:n.request,response:{...n.response,messages:[...$.messages,...e]},providerMetadata:n.experimental_providerMetadata,experimental_providerMetadata:n.experimental_providerMetadata,isContinued:n.isContinued};await(null==O?void 0:O(r)),q.push(r),F=[],U=[],A="",P=[],C=[],N=[],j=void 0,"done"!==t&&(B=t),"continue"!==t&&($.messages.push(...e),I="")}"finish"===n.type&&($.id=n.response.id,$.timestamp=n.response.timestamp,$.modelId=n.response.modelId,$.headers=n.response.headers,D=n.usage,L=n.finishReason)},async flush(e){var n;try{if(0===q.length)return;const e=q[q.length-1];X.warningsPromise.resolve(e.warnings),X.requestPromise.resolve(e.request),X.responsePromise.resolve(e.response),X.toolCallsPromise.resolve(e.toolCalls),X.toolResultsPromise.resolve(e.toolResults),X.providerMetadataPromise.resolve(e.experimental_providerMetadata),X.reasoningPromise.resolve(e.reasoning),X.reasoningDetailsPromise.resolve(e.reasoningDetails);const r=null!=L?L:"unknown",o=null!=D?D:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};X.finishReasonPromise.resolve(r),X.usagePromise.resolve(o),X.textPromise.resolve(R),X.sourcesPromise.resolve(M),X.filesPromise.resolve(e.files),X.stepsPromise.resolve(q),await(null==T?void 0:T({finishReason:r,logprobs:void 0,usage:o,text:R,reasoning:e.reasoning,reasoningDetails:e.reasoningDetails,files:e.files,sources:e.sources,toolCalls:e.toolCalls,toolResults:e.toolResults,request:null!=(n=e.request)?n:{},response:e.response,warnings:e.warnings,providerMetadata:e.providerMetadata,experimental_providerMetadata:e.experimental_providerMetadata,steps:q})),V.setAttributes(vD({telemetry:t,attributes:{"ai.response.finishReason":r,"ai.response.text":{output:()=>R},"ai.response.toolCalls":{output:()=>{var t;return(null==(t=e.toolCalls)?void 0:t.length)?JSON.stringify(e.toolCalls):void 0}},"ai.usage.promptTokens":o.promptTokens,"ai.usage.completionTokens":o.completionTokens}}))}catch(t){e.error(t)}finally{V.end()}}}),z=LF();this.addStream=z.addStream,this.closeStream=z.close;let W=z.stream;for(const e of d)W=W.pipeThrough(e({tools:u,stopStream(){z.terminate()}}));this.baseStream=W.pipeThrough(NU(g)).pipeThrough(H);const{maxRetries:Z,retry:G}=lD({maxRetries:o}),K=gD(t),Y=dD({model:e,telemetry:t,headers:n,settings:{...r,maxRetries:Z}}),J=TF({prompt:{system:null!=(E=null==g?void 0:g.injectIntoSystemPrompt({system:i,model:e}))?E:i,prompt:a,messages:c},tools:u}),X=this;yD({name:"ai.streamText",attributes:vD({telemetry:t,attributes:{...pD({operationId:"ai.streamText",telemetry:t}),...Y,"ai.prompt":{input:()=>JSON.stringify({system:i,prompt:a,messages:c})},"ai.settings.maxSteps":m}}),tracer:K,endWhenDone:!1,fn:async o=>{async function a({currentStep:o,responseMessages:c,usage:d,stepType:k,previousStepText:S,hasLeadingWhitespace:T,messageId:O}){var E;const j=0===c.length?J.type:"messages",A=[...J.messages,...c],I=await XD({prompt:{type:j,system:J.system,messages:A},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:null==(E=e.supportsUrl)?void 0:E.bind(e)}),R={type:"regular",...YF({tools:u,toolChoice:l,activeTools:f})},{result:{stream:C,warnings:N,rawResponse:P,request:M},doStreamSpan:$,startTimestampMs:L}=await G((()=>yD({name:"ai.streamText.doStream",attributes:vD({telemetry:t,attributes:{...pD({operationId:"ai.streamText.doStream",telemetry:t}),...Y,"ai.prompt.format":{input:()=>j},"ai.prompt.messages":{input:()=>JSON.stringify(I)},"ai.prompt.tools":{input:()=>{var e;return null==(e=R.tools)?void 0:e.map((e=>JSON.stringify(e)))}},"ai.prompt.toolChoice":{input:()=>null!=R.toolChoice?JSON.stringify(R.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.stop_sequences":r.stopSequences,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:K,endWhenDone:!1,fn:async t=>({startTimestampMs:b(),doStreamSpan:t,result:await e.doStream({mode:R,...nF(r),inputFormat:j,responseFormat:null==g?void 0:g.responseFormat({model:e}),prompt:I,providerMetadata:v,abortSignal:s,headers:n})})}))),D=AU({tools:u,generatorStream:C,toolCallStreaming:p,tracer:K,telemetry:t,system:i,messages:A,repairToolCall:h,abortSignal:s}),F=null!=M?M:{},U=[],B=[],q=[],V=[];let H,z,W,Z="unknown",Q={promptTokens:0,completionTokens:0,totalTokens:0},ee=!0,te="",ne="continue"===k?S:"",re={id:w(),timestamp:_(),modelId:e.modelId},oe="",se=!1,ie=!0,ae=!1;async function ce({controller:e,chunk:t}){e.enqueue(t),te+=t.textDelta,ne+=t.textDelta,se=!0,ae=t.textDelta.trimEnd()!==t.textDelta}X.addStream(D.pipeThrough(new TransformStream({async transform(e,t){var n,r,o;if(ee){const e=b()-L;ee=!1,$.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":e}),$.setAttributes({"ai.response.msToFirstChunk":e}),t.enqueue({type:"step-start",messageId:O,request:F,warnings:null!=N?N:[]})}if("text-delta"===e.type&&0===e.textDelta.length)return;const s=e.type;switch(s){case"text-delta":if(y){const n=ie&&T?e.textDelta.trimStart():e.textDelta;if(0===n.length)break;ie=!1,oe+=n;const r=XF(oe);null!=r&&(oe=r.suffix,await ce({controller:t,chunk:{type:"text-delta",textDelta:r.prefix+r.whitespace}}))}else await ce({controller:t,chunk:e});break;case"reasoning":t.enqueue(e),null==H?(H={type:"text",text:e.textDelta},q.push(H)):H.text+=e.textDelta;break;case"reasoning-signature":if(t.enqueue(e),null==H)throw new xU({chunk:e,message:"reasoning-signature without reasoning"});H.signature=e.signature,H=void 0;break;case"redacted-reasoning":t.enqueue(e),q.push({type:"redacted",data:e.data});break;case"tool-call":t.enqueue(e),U.push(e);break;case"tool-result":t.enqueue(e),B.push(e);break;case"response-metadata":re={id:null!=(n=e.id)?n:re.id,timestamp:null!=(r=e.timestamp)?r:re.timestamp,modelId:null!=(o=e.modelId)?o:re.modelId};break;case"finish":{Q=e.usage,Z=e.finishReason,z=e.experimental_providerMetadata,W=e.logprobs;const t=b()-L;$.addEvent("ai.stream.finish"),$.setAttributes({"ai.response.msToFinish":t,"ai.response.avgCompletionTokensPerSecond":1e3*Q.completionTokens/t});break}case"file":V.push(e),t.enqueue(e);break;case"source":case"tool-call-streaming-start":case"tool-call-delta":t.enqueue(e);break;case"error":t.enqueue(e),Z="error";break;default:throw new Error(`Unknown chunk type: ${s}`)}},async flush(e){const n=U.length>0?JSON.stringify(U):void 0;let r="done";o+1<m&&(y&&"length"===Z&&0===U.length?r="continue":U.length>0&&B.length===U.length&&(r="tool-result")),y&&oe.length>0&&("continue"!==r||"continue"===k&&!se)&&(await ce({controller:e,chunk:{type:"text-delta",textDelta:oe}}),oe="");try{$.setAttributes(vD({telemetry:t,attributes:{"ai.response.finishReason":Z,"ai.response.text":{output:()=>te},"ai.response.toolCalls":{output:()=>n},"ai.response.id":re.id,"ai.response.model":re.modelId,"ai.response.timestamp":re.timestamp.toISOString(),"ai.usage.promptTokens":Q.promptTokens,"ai.usage.completionTokens":Q.completionTokens,"gen_ai.response.finish_reasons":[Z],"gen_ai.response.id":re.id,"gen_ai.response.model":re.modelId,"gen_ai.usage.input_tokens":Q.promptTokens,"gen_ai.usage.output_tokens":Q.completionTokens}}))}catch(e){}finally{$.end()}e.enqueue({type:"step-finish",finishReason:Z,usage:Q,providerMetadata:z,experimental_providerMetadata:z,logprobs:W,request:F,response:{...re,headers:null==P?void 0:P.headers},warnings:N,isContinued:"continue"===r,messageId:O});const s=AF(d,Q);if("done"===r)e.enqueue({type:"finish",finishReason:Z,usage:s,providerMetadata:z,experimental_providerMetadata:z,logprobs:W,response:{...re,headers:null==P?void 0:P.headers}}),X.closeStream();else{if("continue"===k){const e=c[c.length-1];"string"==typeof e.content?e.content+=te:e.content.push({text:te,type:"text"})}else c.push(...yU({text:te,files:V,reasoning:q,tools:null!=u?u:{},toolCalls:U,toolResults:B,messageId:O,generateMessageId:x}));await a({currentStep:o+1,responseMessages:c,usage:s,stepType:r,previousStepText:ne,hasLeadingWhitespace:ae,messageId:"continue"===r?O:x()})}}})))}V=o,await a({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:x()})}}).catch((e=>{X.addStream(new ReadableStream({start(t){t.enqueue({type:"error",error:e}),t.close()}})),X.closeStream()}))}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get reasoningDetails(){return this.reasoningDetailsPromise.value}get sources(){return this.sourcesPromise.value}get files(){return this.filesPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return PF(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){"text-delta"===e.type&&t.enqueue(e.textDelta)}})))}get fullStream(){return PF(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await EU({stream:this.fullStream,onError:null==e?void 0:e.onError})}catch(n){null==(t=null==e?void 0:e.onError)||t.call(e,n)}}get experimental_partialOutputStream(){if(null==this.output)throw new VF;return PF(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){null!=e&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:n=!1,sendSources:r=!1,experimental_sendFinish:o=!0}){return this.fullStream.pipeThrough(new TransformStream({transform:async(s,i)=>{const a=s.type;switch(a){case"text-delta":i.enqueue(BL("text",s.textDelta));break;case"reasoning":n&&i.enqueue(BL("reasoning",s.textDelta));break;case"redacted-reasoning":n&&i.enqueue(BL("redacted_reasoning",{data:s.data}));break;case"reasoning-signature":n&&i.enqueue(BL("reasoning_signature",{signature:s.signature}));break;case"file":i.enqueue(BL("file",{mimeType:s.mimeType,data:s.base64}));break;case"source":r&&i.enqueue(BL("source",s.source));break;case"tool-call-streaming-start":i.enqueue(BL("tool_call_streaming_start",{toolCallId:s.toolCallId,toolName:s.toolName}));break;case"tool-call-delta":i.enqueue(BL("tool_call_delta",{toolCallId:s.toolCallId,argsTextDelta:s.argsTextDelta}));break;case"tool-call":i.enqueue(BL("tool_call",{toolCallId:s.toolCallId,toolName:s.toolName,args:s.args}));break;case"tool-result":i.enqueue(BL("tool_result",{toolCallId:s.toolCallId,result:s.result}));break;case"error":i.enqueue(BL("error",e(s.error)));break;case"step-start":i.enqueue(BL("start_step",{messageId:s.messageId}));break;case"step-finish":i.enqueue(BL("finish_step",{finishReason:s.finishReason,usage:t?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0,isContinued:s.isContinued}));break;case"finish":o&&i.enqueue(BL("finish_message",{finishReason:s.finishReason,usage:t?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0}));break;default:throw new Error(`Unknown chunk type: ${a}`)}}}))}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:r,data:o,getErrorMessage:s,sendUsage:i,sendReasoning:a,sendSources:c,experimental_sendFinish:u}={}){JL({response:e,status:t,statusText:n,headers:YL(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:o,getErrorMessage:s,sendUsage:i,sendReasoning:a,sendSources:c,experimental_sendFinish:u})})}pipeTextStreamToResponse(e,t){JL({response:e,status:null==t?void 0:t.status,statusText:null==t?void 0:t.statusText,headers:YL(null==t?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){const t=this.toDataStreamInternal({getErrorMessage:null==e?void 0:e.getErrorMessage,sendUsage:null==e?void 0:e.sendUsage,sendReasoning:null==e?void 0:e.sendReasoning,sendSources:null==e?void 0:e.sendSources,experimental_sendFinish:null==e?void 0:e.experimental_sendFinish}).pipeThrough(new TextEncoderStream);return(null==e?void 0:e.data)?jU(null==e?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:null==t?void 0:t.sendUsage,sendReasoning:null==t?void 0:t.sendReasoning,sendSources:null==t?void 0:t.sendSources,experimental_sendFinish:null==t?void 0:t.experimental_sendFinish}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:r,getErrorMessage:o,sendUsage:s,sendReasoning:i,sendSources:a,experimental_sendFinish:c}={}){return new Response(this.toDataStream({data:r,getErrorMessage:o,sendUsage:s,sendReasoning:i,sendSources:a,experimental_sendFinish:c}),{status:t,statusText:n,headers:KL(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:KL(null==e?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},MU=`vercel.ai.error.${"AI_NoSuchProviderError"}`,$U=(Symbol.for(MU),RI.object({name:RI.string(),version:RI.string()}).passthrough()),LU=RI.object({_meta:RI.optional(RI.object({}).passthrough())}).passthrough(),DU=LU,FU=RI.object({method:RI.string(),params:RI.optional(LU)}),UU=RI.object({experimental:RI.optional(RI.object({}).passthrough()),logging:RI.optional(RI.object({}).passthrough()),prompts:RI.optional(RI.object({listChanged:RI.optional(RI.boolean())}).passthrough()),resources:RI.optional(RI.object({subscribe:RI.optional(RI.boolean()),listChanged:RI.optional(RI.boolean())}).passthrough()),tools:RI.optional(RI.object({listChanged:RI.optional(RI.boolean())}).passthrough())}).passthrough(),BU=(DU.extend({protocolVersion:RI.string(),capabilities:UU,serverInfo:$U,instructions:RI.optional(RI.string())}),DU.extend({nextCursor:RI.optional(RI.string())})),qU=RI.object({name:RI.string(),description:RI.optional(RI.string()),inputSchema:RI.object({type:RI.literal("object"),properties:RI.optional(RI.object({}).passthrough())}).passthrough()}).passthrough(),VU=(BU.extend({tools:RI.array(qU)}),RI.object({type:RI.literal("text"),text:RI.string()}).passthrough()),HU=RI.object({type:RI.literal("image"),data:RI.string().base64(),mimeType:RI.string()}).passthrough(),zU=RI.object({uri:RI.string(),mimeType:RI.optional(RI.string())}).passthrough(),WU=zU.extend({text:RI.string()}),ZU=zU.extend({blob:RI.string().base64()}),GU=RI.object({type:RI.literal("resource"),resource:RI.union([WU,ZU])}).passthrough(),KU=(DU.extend({content:RI.array(RI.union([VU,HU,GU])),isError:RI.boolean().default(!1).optional()}).or(DU.extend({toolResult:RI.unknown()})),"2.0"),YU=RI.object({jsonrpc:RI.literal(KU),id:RI.union([RI.string(),RI.number().int()])}).merge(FU).strict(),JU=RI.object({jsonrpc:RI.literal(KU),id:RI.union([RI.string(),RI.number().int()]),result:DU}).strict(),XU=RI.object({jsonrpc:RI.literal(KU),id:RI.union([RI.string(),RI.number().int()]),error:RI.object({code:RI.number().int(),message:RI.string(),data:RI.optional(RI.unknown())})}).strict(),QU=RI.object({jsonrpc:RI.literal(KU)}).merge(RI.object({method:RI.string(),params:RI.optional(LU)})).strict();function eB(e={}){const t=new TextEncoder;let n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,o){o.enqueue(t.encode(r)),n+=r,e.onToken&&await e.onToken(r),e.onText&&"string"==typeof r&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function tB(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var n;"string"!=typeof e?"event"in e?"on_chat_model_stream"===e.event&&sB(null==(n=e.data)?void 0:n.chunk,t):sB(e,t):t.enqueue(e)}})).pipeThrough(eB(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(BL("text",e))}}))}function nB(e,t){return tB(e,t).pipeThrough(new TextEncoderStream)}function rB(e,t){var n;const r=tB(e,null==t?void 0:t.callbacks).pipeThrough(new TextEncoderStream),o=null==t?void 0:t.data,s=null==t?void 0:t.init,i=o?jU(o.stream,r):r;return new Response(i,{status:null!=(n=null==s?void 0:s.status)?n:200,statusText:null==s?void 0:s.statusText,headers:KL(null==s?void 0:s.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function oB(e,t){t.dataStream.merge(tB(e,t.callbacks))}function sB(e,t){if("string"==typeof e.content)t.enqueue(e.content);else{const n=e.content;for(const e of n)"text"===e.type&&t.enqueue(e.text)}}function iB(e,t){const n=lB();return gE(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(e,t){t.enqueue(n(e.delta))}})).pipeThrough(eB(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(BL("text",e))}}))}function aB(e,t){return iB(e,t).pipeThrough(new TextEncoderStream)}function cB(e,t={}){var n;const{init:r,data:o,callbacks:s}=t,i=iB(e,s).pipeThrough(new TextEncoderStream),a=o?jU(o.stream,i):i;return new Response(a,{status:null!=(n=null==r?void 0:r.status)?n:200,statusText:null==r?void 0:r.statusText,headers:KL(null==r?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function uB(e,t){t.dataStream.merge(iB(e,t.callbacks))}function lB(){let e=!0;return t=>(e&&(t=t.trimStart())&&(e=!1),t)}RI.union([YU,QU,JU,XU]),GL({},{mergeIntoDataStream:()=>oB,toDataStream:()=>nB,toDataStreamResponse:()=>rB}),GL({},{mergeIntoDataStream:()=>uB,toDataStream:()=>aB,toDataStreamResponse:()=>cB});var pB=c(3),dB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let fB=class extends tO{constructor(){super(...arguments),this.debugger=Fu.create("AiApiService",this).toggle(!1),this.configs=FT()}async*getStream(e){const t=e.data.messages,{entry:n,globalEntry:r}=e.data,o=this.resolveEntrySettings(n,r);o.provider||this.throwAiError({message:"AI Provider is not defined.",status:"Provider missing",code:400});const s=this.createProvider(o),{model:i}=o;i||this.throwAiError({message:"AI Model is not defined.",status:"Model missing",code:400});const a=CU({model:this.createModel(o.provider,s,i),maxTokens:o.maxTokensOutputEnabled?o.maxTokensOutput:void 0,temperature:o.temperatureEnabled?o.temperature:void 0,topP:o.topPEnabled?o.topP:void 0,messages:t.map((e=>({role:e.role,content:e.content.length?e.content:e.error?"[Error]":""}))),onError:e=>{pB.warn(e);const t=e?.error,n=t?.lastError??t??e,r=n?.toString();if(r.includes("NetworkError when attempting to fetch resource.")||r.includes("Failed to fetch"))throw{responseBody:r,data:{error:{message:"Failed to connect to the AI service.",code:500}},name:"Connection failed",statusCode:500};throw{...n}}});for await(const e of a.textStream)yield e}async hasResult(e){return!0}createProvider(e){const{provider:t,apiKey:n=""}=e,r=this.resolveHost(e);switch(t){case"ollama":case"lmstudio":return RC({baseURL:`${r}/v1`,compatibility:"compatible",apiKey:""});case"openai":return RC({baseURL:`${r}/v1`,apiKey:n});case"anthropic":return tR({baseURL:`${r}/v1`,apiKey:n,headers:{"anthropic-dangerous-direct-browser-access":"true"}});case"google":return TR({baseURL:`${r}/v1beta`,apiKey:n});case"xai":return WC({baseURL:`${r}/v1`,apiKey:n});case"openrouter":return rM({baseURL:`${r}/api/v1`,compatibility:"compatible",apiKey:n});default:this.throwAiError({message:t?`AI provider "${t}" is not supported.`:"AI provider is not defined.",status:"Provider missing",code:400})}}createModel(e,t,n){return"openrouter"===e?t.chat(n,{logprobs:!1,reasoning:{effort:"low"}}):t.languageModel(n)}resolveEntrySettings(e,t){return e?.overrideSettings?e.settings:t.settings}resolveHost(e){const{provider:t,endpoint:n}=e;let r,o;if(n)o=n;else{const e=this.configs.getProviderConfig(t);e&&"boolean"!=typeof e.endpoint&&(o=e.endpoint?.default)}try{return r=new URL(o).origin,r}catch(e){this.throwAiError({message:"API Host is not valid.",status:"Endpoint invalid",code:400})}}throwAiError(e){throw{statusCode:e.code,data:{error:{message:e.message,status:e.status,code:e.code}}}}};fB=dB([_y(tv)],fB);const hB={en:"us-en",ar:"xa-ar",es:"es-es",de:"de-de",fr:"fr-fr",nl:"nl-nl",pt:"pt-pt",bg:"bg-bg",ca:"ct-ca",zh:"cn-zh",hr:"hr-hr",cs:"cz-cs",da:"dk-da",et:"ee-et",fi:"fi-fi",el:"gr-el",hu:"hu-hu",id:"id-id",he:"il-he",it:"it-it",ja:"jp-jp",kr:"kr-kr",lv:"lv-lv",lt:"lt-lt",ms:"my-ms",no:"no-no",tl:"ph-tl",pl:"pl-pl",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sl:"sl-sk",sv:"se-sv",th:"th-th",uk:"ua-uk",vi:"vn-vi",wt:"st-st"};class mB{}class gB{}var yB,vB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},bB=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class _B{}vB([vl((()=>mB)),bB("design:type",Array)],_B.prototype,"RelatedTopics",void 0),vB([vl((()=>gB)),bB("design:type","function"==typeof(yB=void 0!==gB&&gB)?yB:Object)],_B.prototype,"meta",void 0);var wB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let xB=class extends tO{async getData(e){const t=encodeURIComponent(e.query.replace(/[.!?\\]/,"").trim());if(!t)return null;const n=encodeURIComponent(hB[e.lang||"en"]),r=`https://api.duckduckgo.com/?q=${t}&format=json&pretty=1&kl=${n}`,o=await Kh.get(r),s=Fl(_B,o.data);return s.RelatedTopics=s.RelatedTopics?.filter((e=>!!e.Result)),n!==hB.en&&"en"===o.data?.meta?.src_options?.language?null:s}async hasResult(e){return!!e.Abstract||!!e.RelatedTopics.length}};xB=wB([_y(iv)],xB);class kB{}var SB=c(3),TB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let OB=class extends tO{async getData(e){const t=encodeURIComponent(e.query.replace(/[.!?\\]/,"").trim());if(!t)return null;const n=`https://lumetrium.com/dictionary-api/v1/entries/${e.lang??"en"}/${t}`,r=await Kh.get(n).catch((e=>(SB.error(e),{})));return Fl(kB,r.data)}async hasResult(e){return!!e?.length&&e.some((e=>Object.keys(e.meaning??{}).length>0))}};OB=TB([_y(zy)],OB);class EB{}var jB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let AB=class extends tO{async getData(e){return Fl(EB,{})}};AB=jB([_y(av)],AB);class IB{}class RB extends IB{}var CB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let NB=class extends tO{constructor(){super(...arguments),this.apiUrl="https://translate.googleapis.com",this.debugger=Fu.create("GoogleTranslateApiService",this).toggle(!1),this.ttsMaxLength=187}async getData(e){const t=["gtx","dict-chrome-ex"],n=encodeURIComponent(e.query.replace(/[.!?\\]/,"").trim());if(!n)return null;const r=`${this.apiUrl}/translate_a/single`,o={"Content-type":"application/x-www-form-urlencoded"};this.apiClient||(this.apiClient=t[0]);const s=await Kh.post(r,this.getQueryParams(e),{headers:o}).catch((n=>{const s=t[this.apiClient===t[0]?1:0];return this.debugger.logger.info("Falling back",{status:n.code,apiClient:this.apiClient,newApiClient:s}),this.apiClient=s,Kh.post(r,this.getQueryParams(e),{headers:o})})),i=Fl(RB,s.data);return i.audio={origSrc:this.getAudioUrl(i.src,n),transSrc:this.getAudioUrl(e.lang,i.sentences.map((e=>e.trans)).join(""))},i.dict?.forEach((e=>e.entry?.forEach((e=>{e.reverse_translation=[...new Set(e.reverse_translation)]})))),i}getAudioUrl(e,t){return t.length>this.ttsMaxLength?"":this.apiUrl+`/translate_tts?client=${this.apiClient}&ie=UTF-8&tl=${e}&q=${t}`}getQueryParams(e){return new URLSearchParams([["client",this.apiClient],["source","input"],["dj","1"],["q",e.query],["sl",e.data.srcLang??"auto"],["tl",e.lang],["hl",e.lang],["dt","t"],["dt","bd"],["dt","rm"],["dt","rw"],["dt","qca"]]).toString()}};NB=CB([_y(Ky)],NB);var PB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let MB=class extends tO{async getData(e){return{}}async hasResult(e){return!0}};MB=PB([_y(Qy)],MB);class $B{}var LB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let DB=class extends tO{async getData(e){const t=encodeURIComponent(e.query.replace(/[.!?\\]/,"").trim());if(!t)return null;const n=`https://${e.lang||"en"}.wikipedia.org/w/api.php?action=query&prop=extracts&exintro=&format=json&origin=*&titles=${t}`,r=await Kh.get(n),o=Fl($B,r.data);return o?.query?.pages&&(o.query.pages=sw()(o.query.pages,((e,t)=>!!e.extract))),o}async hasResult(e){return Object.keys(e?.query?.pages??[]).length>0}};DB=LB([_y(uv)],DB);class FB{}var UB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let BB=class extends FB{async getRules(e){const t=[],n=e.entries??[],r=e.globalEntry;return new Set([r?.settings?.endpoint,...n.map((e=>e.settings?.endpoint))]).forEach((e=>{if(!e)return;const n=this.createRule(e);n&&t.push(n)})),t}createRule(e){const t=this.getUrl(e);return t?{priority:1,condition:{requestDomains:[t.hostname]},action:{type:"modifyHeaders",requestHeaders:[{header:"origin",operation:"set",value:t.origin}]}}:null}getUrl(e){try{return new URL(e)}catch(e){return null}}};BB=UB([vv(tv)],BB);var qB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const VB=chrome.declarativeNetRequest.ResourceType;let HB=class extends FB{async getRules(e){return[{priority:1,condition:{urlFilter:`||${rv}/images/search*embedded=1*`,excludedTabUrlFilter:`*://${rv}/*`,resourceTypes:[VB.SUB_FRAME]},action:rw},{priority:1,condition:{urlFilter:`||${rv}/images/detail/*`,excludedTabUrlFilter:`*://${rv}/*`,resourceTypes:[VB.XMLHTTPREQUEST]},action:rw}]}};HB=qB([vv(nv)],HB);var zB=c(3),WB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const ZB=chrome.declarativeNetRequest.ResourceType;chrome.declarativeNetRequest.HeaderOperation,chrome.declarativeNetRequest.RuleActionType;let GB=class extends FB{async getRules(e){const{url:t}=e;if(!t)return[];const n=this.extractUrls(t);return n.length?n.map((e=>this.createRule(e))):[]}extractUrls(e){if(!e)return[];const t=e.replaceAll(/\{\{.*?\}\}/g,"*").match(/(?:https?:\/\/)?(?:[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+)(?::[0-9]+)?(?:\/[^\s]*)?/g);return t?t.map((e=>{try{const t=e.startsWith("http")?e:`https://${e}`;return new URL(t)}catch(t){return zB.error(`Invalid URL: ${e}`,t),null}})).filter((e=>null!==e)).filter(((e,t,n)=>t===n.findIndex((t=>t.href===e.href)))):[]}createRule(e){return{priority:1,condition:{requestDomains:[e.hostname],resourceTypes:[ZB.SUB_FRAME,ZB.XMLHTTPREQUEST]},action:{type:"modifyHeaders",requestHeaders:[{header:"origin",operation:"set",value:e.origin},{header:"Sec-Fetch-Site",operation:"set",value:"same-origin"}],responseHeaders:[{header:"x-frame-options",operation:"remove"},{header:"content-security-policy",operation:"remove"},{header:"frame-options",operation:"remove"}]}}}};GB=WB([vv(sv)],GB);var KB=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const YB=chrome.declarativeNetRequest.ResourceType;chrome.declarativeNetRequest.HeaderOperation,chrome.declarativeNetRequest.RuleActionType;let JB=class extends FB{constructor(){super(...arguments),this.youglishUrl="https://youglish.com/"}async getRules(e){return[this.createRule()]}createRule(){return{priority:1,condition:{requestDomains:["youglish.com"],resourceTypes:[YB.SUB_FRAME]},action:{type:"modifyHeaders",requestHeaders:[{header:"referer",operation:"set",value:this.youglishUrl},{header:"origin",operation:"set",value:this.youglishUrl}]}}}};JB=KB([vv(lv)],JB),Du.init(t,"service-worker"),iT().init()})()})();