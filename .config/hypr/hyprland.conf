# Мониторы
#monitor=,preferred,auto,1
monitor=HDMI-A-1,1920x1080@100, 0x0, 1.2

# 90 градусов длинный экран для текста
monitor=eDP-1,1440x900@59.99600, -750x0, 1.2, transform, 3 # -750x0 потому что scale=1.2

#disable monitor for macbook
# monitor=eDP-1,disable # Если раскоментировать то моник macbook не будет работать.


#Mehdi's monitor
# monitor=eDP-1,1440x900@59.99600, 750x0, 1.2, transform, 1 # -750x0 потому что scale=1.2
# monitor=HDMI-A-1,1920x1080@60,0x0,1.2 #monitor mehde

#Laptop
input:sensitivity = -0.8 # Чувствительность мыши (от -1.0 до 1.0) 0.0: стандартная чувствительность.
# monitor=eDP-1,1440x900@59.99600, auto, 1.2, transform, 0

# monitor=eDP-1,preferred,auto,1.2, transform, 2 # Перевернутый монитор.

# bind = SUPER, Minus, exec, hyprctl keyword monitor "eDP-1, disable"
# bind = SUPER, Equal, exec, hyprctl keyword monitor "eDP-1, enable"

# Ввод
input {
	kb_layout = us,ru,#tr
	kb_options = grp:win_space_toggle
	touchpad {
		natural_scroll = yes
	}
}

# Автозапуски
#exec-once = waybar
#exec-once = nm-applet
exec-once = hyprpaper
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user restart xdg-desktop-portal-hyprland
exec-once = export QT_QPA_PLATFORM=wayland
exec-once = /usr/lib/xdg-desktop-portal-hyprland
exec-once = /usr/lib/xdg-desktop-portal-gtk

# ЕНВшки
	#Dark Theme
# env = QT_QPA_PLATFORMTHEME,qt6ct
# env = QT_STYLE_OVERRIDE,kvantum
# env = XDG_CURRENT_DESKTOP,Hyprland
# env = QT_QPA_PLATFORM,wayland

# Cursors 16 20 22 24 28 32 40 48 56 64 72 80 88 96
exec-once = hyprctl setcursor Bibata-Modern-Classic 20  #32 # Размер курсора (можно 24, 32, 48, 64) Classic/Ice - good
env = XCURSOR_THEME,Bibata-Modern-Classic
env = XCURSOR_SIZE,20 #32

cursor {
    no_hardware_cursors = true
    hide_on_key_press = true
} #просто исчезает при печати.

# Скрытие курсора через N секунды бездействия  


# Binds
# Teminals
# bind = SUPER, K, exec, kitty
bind = SUPER, O, exec, ghostty

bind = SUPER, Q, killactive
# Фуллскирн
bind = SUPER, F, fullscreen, 0
bind = SUPER, D, fullscreen, 1


# Chrome
bind = SUPER, C, exec, google-chrome-stable --enable-features=UseOzonePlatform --ozone-platform=wayland
#windowrulev2 = fullscreen, class:google-chrome, fullscreenmode:0
windowrulev2 = immediate, class:^(google-chrome-stable)$ # Tearing
#bind = SUPER, P, exec, google-chrome-stable --enable-features=UseOzonePlatform --ozone-platform=wayland 'https://www.google.com/webhp?hl=en&sa=X&ved=0ahUKEwjCqtHut8ePAxVWVPEDHVfGEaQQPAgI'
# убираем CTRL+SHIFT+C в chrome
# Notion
bind = SUPER, N, exec, google-chrome-stable --enable-features=UseOzonePlatform --ozone-platform=wayland 'https://www.notion.so/'
bind = SUPER, M, exec, google-chrome-stable --enable-features=UseOzonePlatform --ozone-platform=wayland 'https://calendar.notion.so/'

# Firefox
bind = SUPER, X, exec, MOZ_ENABLE_WAYLAND=1 firefox


#File manager
# Nautilus
bind = SUPER, E, exec, nautilus
#windowrulev2 = opacity 0.8 0.8, class:^(org.gnome.Nautilus)$

#Читалка foliate
bind = SUPER, B, exec, foliate





#for plugin
exec-once = hyprpm reload -n
# plugin from https://github.com/Duckonaut/split-monitor-workspaces
plugin {
    split-monitor-workspaces {
        count = 10  # 10 столов на каждый монитор
        enable_persistent_workspaces = 1  # Создаёт persistent столы
        enable_wrapping = 1  # Цикл по столам
    }
}
# Фокус между мониторами (сохраняет workspace)
bind = ALT, Q, focusmonitor, eDP-1
bind = ALT, W, focusmonitor, HDMI-A-1

# Бинды: split- команды для relative свитча
bind = ALT, 1, split-workspace, 1
bind = ALT, 2, split-workspace, 2
bind = ALT, 3, split-workspace, 3
bind = ALT, 4, split-workspace, 4
bind = ALT, 5, split-workspace, 5
bind = ALT, 6, split-workspace, 6
bind = ALT, 7, split-workspace, 7
bind = ALT, 8, split-workspace, 8
bind = ALT, 9, split-workspace, 9
bind = ALT, 0, split-workspace, 10

# bind = ALT, 1, workspace, 1
# bind = ALT, 2, workspace, 2
# bind = ALT, 3, workspace, 3
# bind = ALT, 4, workspace, 4
# bind = ALT, 5, workspace, 5
# bind = ALT, 6, workspace, 6
# bind = ALT, 7, workspace, 7
# bind = ALT, 8, workspace, 8
# bind = ALT, 9, workspace, 9
# bind = ALT, 0, workspace, 10

#windows between workspace coppy.
# Перемещение окон (SUPER+1-0 relative на текущем мониторе)
bind = SUPER, 1, split-movetoworkspace, 1
bind = SUPER, 2, split-movetoworkspace, 2
bind = SUPER, 3, split-movetoworkspace, 3
bind = SUPER, 4, split-movetoworkspace, 4
bind = SUPER, 5, split-movetoworkspace, 5
bind = SUPER, 6, split-movetoworkspace, 6
bind = SUPER, 7, split-movetoworkspace, 7
bind = SUPER, 8, split-movetoworkspace, 8
bind = SUPER, 9, split-movetoworkspace, 9
bind = SUPER, 0, split-movetoworkspace, 10

# bind = SUPER, 1, movetoworkspace, 1
# bind = SUPER, 2, movetoworkspace, 2
# bind = SUPER, 3, movetoworkspace, 3
# bind = SUPER, 4, movetoworkspace, 4
# bind = SUPER, 5, movetoworkspace, 5
# bind = SUPER, 6, movetoworkspace, 6
# bind = SUPER, 7, movetoworkspace, 7
# bind = SUPER, 8, movetoworkspace, 8
# bind = SUPER, 9, movetoworkspace, 9
# bind = SUPER, 0, movetoworkspace, 10


#Floating
bind = SUPER, S, exec, hyprctl dispatch togglefloating active
#Растягивать окна
bindm = SUPER, mouse:272, resizewindow
bindm = ALT, mouse:272, movewindow

# Обмен окон местами
bind = SUPER SHIFT, h, swapwindow, l
bind = SUPER SHIFT, l, swapwindow, r
bind = SUPER SHIFT, k, swapwindow, u
bind = SUPER SHIFT, j, swapwindow, d

# Увеличить активное окно
bind = SUPER, l, resizeactive, 10% 0
# Уменьшает активное окно
bind = SUPER, h, resizeactive, -10% 0

# Переключение фокуса между окнами
bind = ALT, h, movefocus, l
bind = ALT, l, movefocus, r
bind = ALT, k, movefocus, u
bind = ALT, j, movefocus, d

# Режим сна.
bind = SUPER ALT, S, exec, systemctl suspend
#hyprpaper
bind = ALT, P, exec, hyprpaper
# Rofi
bind = ALT, Space, exec, rofi -show drun
windowrulev2 = opacity 0.8, class:^(rofi)$
# Яркость
bind = , XF86MonBrightnessUp, exec, brightnessctl set +3%
bind = , XF86MonBrightnessDown, exec, brightnessctl set 3%-
# Громкость
bindr = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +3%
bindr = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -3%
# Spotify with adblocker.
#bind = SUPER, S, exec, LD_PRELOAD=/usr/lib/spotify-adblock.so /usr/bin/spotify
# Telegram
bind = SUPER, T, exec, QT_QPA_PLATFORM=wayland Telegram
#windowrulev2 = opacity 0.8, class:^(org.telegram.desktop)$
# Screenshots
  #copysave - буфер и сохранение, save - сохранить
#bind = ALT, S, exec, grimblast copysave screen ~/Pictures/Screenshots/$(date +%Y-%m-%d_%H-%M-%S).jpg
#bind = ALT, D, exec, grimblast copysave area ~/Pictures/Screenshots/$(date +%Y-%m-%d_%H-%M-%S).jpg

bind = ALT, A, exec, mkdir -p ~/Pictures/Screenshots/$(date +%Y-%m) && grimblast copysave screen ~/Pictures/Screenshots/$(date +%Y-%m)/$(date +%Y-%m-%d_%H-%M).jpg
  #Теперь он скринит сразу два моника
bind = ALT, S, exec, ~/.config/hypr/scripts/screenshot-active.fish
bind = ALT, D, exec, mkdir -p ~/Pictures/Screenshots/$(date +%Y-%m) && grimblast copysave area ~/Pictures/Screenshots/$(date +%Y-%m)/$(date +%Y-%m-%d_%H-%M).jpg
#Scripts
#OCR
bind = ALT, C, exec, ~/.config/hypr/scripts/ocr-screenshot.bash


#Подключиться к soundcore Space One
bind = CTRL SUPER, 1, exec, bluetoothctl connect E8:EE:CC:F7:AF:26
bind = CTRL SUPER, 2, exec, bluetoothctl disconnect E8:EE:CC:F7:AF:26

# Obsidian
# bind = SUPER, O, exec, obsidian --ozone-platform=wayland
#windowrulev2 = opacity 0.8, class:^(obsidian)$


# Правила окон
#windowrulev2 = fullscreen, class:brave-browser, fullscreenmode:0 # Для того чтобы brave открывался не фулскрин
#windowrulev2 = opacity 0.8, class:^(dolphin)$
#windowrulev2 = opacity 0.9 0.7, class:^(org.kde.dolphin)$ #первое значение (0.9) — прозрачность активного окна, второе (0.7) — неактивного. Значения от 0.0 (полностью прозрачно) до 1.0 (непрозрачно).


# for AI whisper



# Декорации
windowrulev2 = opacity 0.9, floating:1 # Прозрачность плавающих окон
	#Скругления окон.
decoration {
    # rounding = 25
    #screen_shader = ~/.config/hypr/shaders/grayscale.frag
    blur {
        enabled = true
        xray = true
        size = 1
        vibrancy_darkness = 3.0
        passes = 5
        vibrancy = 0.1796
        }
    shadow{
        enabled = false
          }
}
# Горячие клавиши для переключения шейдеров black and white
bind = ALT, Minus, exec, bash -c 'hyprctl keyword decoration:screen_shader ~/.config/hypr/shaders/grayscale.frag'
bind = ALT, Equal, exec, bash -c 'hyprctl keyword decoration:screen_shader ~/.config/hypr/shaders/none.frag'

	#Убирает/меняет цвет подсветки
general {
    border_size = 2 # Толщина линии
    col.active_border = rgb(000000)  # Для активного окна
    col.inactive_border = rgb(808080) #rgb(FFFFFF)  # Для неактивных окон
    # col.inactive_border = rgba(FFFFFF00) # для прозчности
    gaps_in = 0 #10    # Расстояние между окнами
    gaps_out = 0 #20  # Расстояние от краёв экрана
    allow_tearing = true # Tearing для игр
}
# Animations
animations {
    enabled = true
    animation = windowsIn, 0
    animation = windowsOut, 0
    animation = windows, 0
    animation = workspaces, 0
    animation = fade, 0
    animation = border, 0
    animation = borderangle, 0
    animation = specialWorkspace, 0
}




# Для работы OBS
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = QT_QPA_PLATFORM,wayland
env = MOZ_ENABLE_WAYLAND,1
env = LIBVA_DRIVER_NAME,iHD # в зависимости от твоей видеокарты.

